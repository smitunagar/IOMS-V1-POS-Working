"use strict";(()=>{var e={};e.id=4199,e.ids=[4199],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7640:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>w});var o={};a.r(o),a.d(o,{POST:()=>g});var r=a(49303),s=a(88716),n=a(60670),i=a(87070);let c=new(a(53524)).PrismaClient;function l(e,t){return Math.random()*(t-e)+e}function u(e,t){return Math.floor(Math.random()*(t-e+1))+e}function d(e){return e[Math.floor(Math.random()*e.length)]}async function g(){try{await c.wasteEvent.deleteMany(),await c.coverCount.deleteMany(),await c.complianceCheck.deleteMany(),console.log("Creating sample waste events...");let e=["food","oil","packaging","organic"],t=["kitchen","bar","dining"],a=new Date,o=[];for(let r=0;r<30;r++){let s=new Date(a);s.setDate(s.getDate()-r);let n=u(3,8);for(let a=0;a<n;a++){let a=new Date(s);a.setHours(u(8,23),u(0,59));let r=d(e),n=d(t),i=l(.5,15),c=i*(({food:12.5,oil:8.75,packaging:5.2,organic:6.8})[r]||8),g=i*(({food:2.5,oil:3.2,packaging:1.8,organic:2.1})[r]||2);o.push({amountKg:i,type:r,station:n,costEUR:c,co2Kg:g,occurredAt:a,createdAt:a,confidence:l(.7,.95),notes:`Waste logged from ${n} - ${r}`})}}for(let e=0;e<o.length;e+=50){let t=o.slice(e,e+50);await c.wasteEvent.createMany({data:t})}console.log(`Created ${o.length} waste events`);let r=[];for(let e=0;e<30;e++){let t=new Date(a);t.setDate(t.getDate()-e),t.setHours(0,0,0,0);let o=u(45,120),s=l(25,45),n=o*s;r.push({date:t,covers:o,revenue:n,createdAt:t})}await c.coverCount.createMany({data:r}),console.log(`Created ${r.length} cover count records`);let s=[{title:"Daily waste logging completed",description:"Ensure all waste events are properly logged",severity:"major",status:"closed",dueDate:new Date(a.getTime()-1728e5),completedAt:new Date(a.getTime()-864e5)},{title:"Waste segregation audit",description:"Verify proper waste segregation practices",severity:"critical",status:"in_progress",dueDate:new Date(a.getTime()+2592e5)},{title:"Staff training compliance",description:"Complete waste management training for new staff",severity:"minor",status:"open",dueDate:new Date(a.getTime()+6048e5)},{title:"Monthly waste report submission",description:"Submit monthly waste report to authorities",severity:"major",status:"open",dueDate:new Date(a.getTime()+864e5)}];await c.complianceCheck.createMany({data:s}),console.log(`Created ${s.length} compliance checks`);let n=await c.wasteEvent.count(),g=await c.wasteEvent.aggregate({_sum:{amountKg:!0,costEUR:!0,co2Kg:!0}}),p=await c.coverCount.aggregate({_sum:{covers:!0,revenue:!0}});return i.NextResponse.json({success:!0,message:"Sample data created successfully",summary:{wasteEvents:n,totalWasteKg:g._sum.amountKg?.toFixed(2),totalCostEUR:g._sum.costEUR?.toFixed(2),totalCO2Kg:g._sum.co2Kg?.toFixed(2),totalCovers:p._sum.covers,totalRevenue:p._sum.revenue?.toFixed(2),complianceChecks:s.length}})}catch(e){return console.error("Error seeding data:",e),i.NextResponse.json({success:!1,error:"Failed to seed data",details:e instanceof Error?e.message:"Unknown error"},{status:500})}finally{await c.$disconnect()}}let p=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/waste/seed/route",pathname:"/api/waste/seed",filename:"route",bundlePath:"app/api/waste/seed/route"},resolvedPagePath:"/Users/nishantchaturvedi/Desktop/IOMS/IOMS-V1-POS-Working/src/app/api/waste/seed/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:w,serverHooks:h}=p,v="/api/waste/seed/route";function f(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:w})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),o=t.X(0,[8948,5972],()=>a(7640));module.exports=o})();