(()=>{var e={};e.id=2496,e.ids=[2496],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18868:()=>{},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},84481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{patchFetch:()=>h,routeModule:()=>g,serverHooks:()=>v,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>w});var r={};a.r(r),a.d(r,{POST:()=>p});var s=a(96559),o=a(48088),n=a(37719),i=a(32190);let c=new(a(96330)).PrismaClient;function l(e,t){return Math.random()*(t-e)+e}function u(e,t){return Math.floor(Math.random()*(t-e+1))+e}function d(e){return e[Math.floor(Math.random()*e.length)]}async function p(){try{await c.wasteEvent.deleteMany(),await c.coverCount.deleteMany(),await c.complianceCheck.deleteMany(),console.log("Creating sample waste events...");let e=["food","oil","packaging","organic"],t=["kitchen","bar","dining"],a=new Date,r=[];for(let s=0;s<30;s++){let o=new Date(a);o.setDate(o.getDate()-s);let n=u(3,8);for(let a=0;a<n;a++){let a=new Date(o);a.setHours(u(8,23),u(0,59));let s=d(e),n=d(t),i=l(.5,15),c=i*(({food:12.5,oil:8.75,packaging:5.2,organic:6.8})[s]||8),p=i*(({food:2.5,oil:3.2,packaging:1.8,organic:2.1})[s]||2);r.push({amountKg:i,type:s,station:n,costEUR:c,co2Kg:p,occurredAt:a,createdAt:a,confidence:l(.7,.95),notes:`Waste logged from ${n} - ${s}`})}}for(let e=0;e<r.length;e+=50){let t=r.slice(e,e+50);await c.wasteEvent.createMany({data:t})}console.log(`Created ${r.length} waste events`);let s=[];for(let e=0;e<30;e++){let t=new Date(a);t.setDate(t.getDate()-e),t.setHours(0,0,0,0);let r=u(45,120),o=l(25,45),n=r*o;s.push({date:t,covers:r,revenue:n,createdAt:t})}await c.coverCount.createMany({data:s}),console.log(`Created ${s.length} cover count records`);let o=[{title:"Daily waste logging completed",description:"Ensure all waste events are properly logged",severity:"major",status:"closed",dueDate:new Date(a.getTime()-1728e5),completedAt:new Date(a.getTime()-864e5)},{title:"Waste segregation audit",description:"Verify proper waste segregation practices",severity:"critical",status:"in_progress",dueDate:new Date(a.getTime()+2592e5)},{title:"Staff training compliance",description:"Complete waste management training for new staff",severity:"minor",status:"open",dueDate:new Date(a.getTime()+6048e5)},{title:"Monthly waste report submission",description:"Submit monthly waste report to authorities",severity:"major",status:"open",dueDate:new Date(a.getTime()+864e5)}];await c.complianceCheck.createMany({data:o}),console.log(`Created ${o.length} compliance checks`);let n=await c.wasteEvent.count(),p=await c.wasteEvent.aggregate({_sum:{amountKg:!0,costEUR:!0,co2Kg:!0}}),g=await c.coverCount.aggregate({_sum:{covers:!0,revenue:!0}});return i.NextResponse.json({success:!0,message:"Sample data created successfully",summary:{wasteEvents:n,totalWasteKg:p._sum.amountKg?.toFixed(2),totalCostEUR:p._sum.costEUR?.toFixed(2),totalCO2Kg:p._sum.co2Kg?.toFixed(2),totalCovers:g._sum.covers,totalRevenue:g._sum.revenue?.toFixed(2),complianceChecks:o.length}})}catch(e){return console.error("Error seeding data:",e),i.NextResponse.json({success:!1,error:"Failed to seed data",details:e instanceof Error?e.message:"Unknown error"},{status:500})}finally{await c.$disconnect()}}let g=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/waste/seed/route",pathname:"/api/waste/seed",filename:"route",bundlePath:"app/api/waste/seed/route"},resolvedPagePath:"/Users/nishantchaturvedi/Desktop/IOMS/IOMS-V1-POS-Working/src/app/api/waste/seed/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:m,workUnitAsyncStorage:w,serverHooks:v}=g;function h(){return(0,n.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:w})}},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[7719,580],()=>a(84481));module.exports=r})();