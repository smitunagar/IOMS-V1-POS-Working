/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/menuCsv/route";
exports.ids = ["app/api/menuCsv/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/@opentelemetry/instrumentation/build/esm/platform/node sync recursive":
/*!***********************************************************************************!*\
  !*** ./node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ sync ***!
  \***********************************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/@opentelemetry/instrumentation/build/esm/platform/node sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/./node_modules/require-in-the-middle sync recursive":
/*!**************************************************!*\
  !*** ./node_modules/require-in-the-middle/ sync ***!
  \**************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/require-in-the-middle sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("express");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "async_hooks":
/*!******************************!*\
  !*** external "async_hooks" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("async_hooks");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dgram":
/*!************************!*\
  !*** external "dgram" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("dgram");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "perf_hooks":
/*!*****************************!*\
  !*** external "perf_hooks" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("perf_hooks");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:perf_hooks":
/*!**********************************!*\
  !*** external "node:perf_hooks" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:perf_hooks");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ "?4d6b":
/*!********************************!*\
  !*** supports-color (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FmenuCsv%2Froute&page=%2Fapi%2FmenuCsv%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FmenuCsv%2Froute.ts&appDir=%2FUsers%2Fnishantchaturvedi%2FDesktop%2FIOMS%2FIOMS-V1-POS-Working%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnishantchaturvedi%2FDesktop%2FIOMS%2FIOMS-V1-POS-Working&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FmenuCsv%2Froute&page=%2Fapi%2FmenuCsv%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FmenuCsv%2Froute.ts&appDir=%2FUsers%2Fnishantchaturvedi%2FDesktop%2FIOMS%2FIOMS-V1-POS-Working%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnishantchaturvedi%2FDesktop%2FIOMS%2FIOMS-V1-POS-Working&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_nishantchaturvedi_Desktop_IOMS_IOMS_V1_POS_Working_src_app_api_menuCsv_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/menuCsv/route.ts */ \"(rsc)/./src/app/api/menuCsv/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/menuCsv/route\",\n        pathname: \"/api/menuCsv\",\n        filename: \"route\",\n        bundlePath: \"app/api/menuCsv/route\"\n    },\n    resolvedPagePath: \"/Users/nishantchaturvedi/Desktop/IOMS/IOMS-V1-POS-Working/src/app/api/menuCsv/route.ts\",\n    nextConfigOutput,\n    userland: _Users_nishantchaturvedi_Desktop_IOMS_IOMS_V1_POS_Working_src_app_api_menuCsv_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/menuCsv/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtZW51Q3N2JTJGcm91dGUmcGFnZT0lMkZhcGklMkZtZW51Q3N2JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbWVudUNzdiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm5pc2hhbnRjaGF0dXJ2ZWRpJTJGRGVza3RvcCUyRklPTVMlMkZJT01TLVYxLVBPUy1Xb3JraW5nJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRm5pc2hhbnRjaGF0dXJ2ZWRpJTJGRGVza3RvcCUyRklPTVMlMkZJT01TLVYxLVBPUy1Xb3JraW5nJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzQztBQUNuSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYm1lc2l0ZXIzNjAtbWFya2V0cGxhY2UvPzZmODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL25pc2hhbnRjaGF0dXJ2ZWRpL0Rlc2t0b3AvSU9NUy9JT01TLVYxLVBPUy1Xb3JraW5nL3NyYy9hcHAvYXBpL21lbnVDc3Yvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL21lbnVDc3Yvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9tZW51Q3N2XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9tZW51Q3N2L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL25pc2hhbnRjaGF0dXJ2ZWRpL0Rlc2t0b3AvSU9NUy9JT01TLVYxLVBPUy1Xb3JraW5nL3NyYy9hcHAvYXBpL21lbnVDc3Yvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL21lbnVDc3Yvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FmenuCsv%2Froute&page=%2Fapi%2FmenuCsv%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FmenuCsv%2Froute.ts&appDir=%2FUsers%2Fnishantchaturvedi%2FDesktop%2FIOMS%2FIOMS-V1-POS-Working%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnishantchaturvedi%2FDesktop%2FIOMS%2FIOMS-V1-POS-Working&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/ai/flows/generate-ingredients-list.ts":
/*!***************************************************!*\
  !*** ./src/ai/flows/generate-ingredients-list.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateIngredientsList: () => (/* binding */ generateIngredientsList)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ai_genkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/ai/genkit */ \"(rsc)/./src/ai/genkit.ts\");\n/* harmony import */ var _ingredient_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ingredient-types */ \"(rsc)/./src/ai/flows/ingredient-types.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"82727833da42bba9f14649d67150c335743a1b8d\":\"generateIngredientsList\"} */ \n\n\n\nconst prompt = _ai_genkit__WEBPACK_IMPORTED_MODULE_2__.ai.definePrompt({\n    name: \"generateIngredientsListPrompt\",\n    input: {\n        schema: _ingredient_types__WEBPACK_IMPORTED_MODULE_3__.GenerateIngredientsListInputSchema\n    },\n    output: {\n        schema: _ingredient_types__WEBPACK_IMPORTED_MODULE_3__.GenerateIngredientsListOutputSchema\n    },\n    prompt: `You are a chef. Generate a list of ingredients needed for the dish \"{{dishName}}\" for {{numberOfServings}} servings.\n\nIMPORTANT:\n- The language of the ingredient names and units must always match the language of the dish name. If the dish name is in German, all ingredient names and units must be in German. If the dish name is in English, use English. Do not translate or mix languages.\n- Always include the main protein or key ingredient (e.g., if the dish is \"Palak Chicken\" or \"Chicken Palak\", always include \"Chicken\" as an ingredient).\n\nFor each ingredient, provide its name, quantity (as a number), and unit (e.g., \"g\", \"ml\", \"pcs\", \"kg\").\nNever return a quantity of 0. If unsure, estimate a typical amount for one serving based on common recipes or chef experience.\nReturn the output as a JSON object with a single key \"ingredients\".\nThe \"ingredients\" key should have a value of an array of objects, where each object has \"name\" (string), \"quantity\" (number), and \"unit\" (string) fields.\nBe as accurate as possible.\n\nExample (English):\n{\n  \"ingredients\": [\n    { \"name\": \"Chicken Breast\", \"quantity\": 200, \"unit\": \"g\" },\n    { \"name\": \"Spinach\", \"quantity\": 150, \"unit\": \"g\" },\n    { \"name\": \"Onion\", \"quantity\": 50, \"unit\": \"g\" }\n  ]\n}\n\nExample (German):\n{\n  \"ingredients\": [\n    { \"name\": \"Hähnchenbrust\", \"quantity\": 200, \"unit\": \"g\" },\n    { \"name\": \"Spinat\", \"quantity\": 150, \"unit\": \"g\" },\n    { \"name\": \"Zwiebel\", \"quantity\": 50, \"unit\": \"g\" }\n  ]\n}\n\nEnsure the output strictly follows this JSON format.`\n});\nconst generateIngredientsListFlow = _ai_genkit__WEBPACK_IMPORTED_MODULE_2__.ai.defineFlow({\n    name: \"generateIngredientsListFlow\",\n    inputSchema: _ingredient_types__WEBPACK_IMPORTED_MODULE_3__.GenerateIngredientsListInputSchema,\n    outputSchema: _ingredient_types__WEBPACK_IMPORTED_MODULE_3__.GenerateIngredientsListOutputSchema\n}, async (input)=>{\n    const { output } = await prompt(input);\n    if (!output) {\n        throw new Error(\"AI did not return an output.\");\n    }\n    return output;\n});\nasync function generateIngredientsList(input) {\n    return generateIngredientsListFlow(input);\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__.ensureServerEntryExports)([\n    generateIngredientsList\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"82727833da42bba9f14649d67150c335743a1b8d\", generateIngredientsList);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYWkvZmxvd3MvZ2VuZXJhdGUtaW5ncmVkaWVudHMtbGlzdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFaUM7QUFPTDtBQUU1QixNQUFNRyxTQUFTSCwwQ0FBRUEsQ0FBQ0ksWUFBWSxDQUFDO0lBQzdCQyxNQUFNO0lBQ05DLE9BQU87UUFBRUMsUUFBUU4saUZBQWtDQTtJQUFDO0lBQ3BETyxRQUFRO1FBQUVELFFBQVFMLGtGQUFtQ0E7SUFBQztJQUN0REMsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0RBOEJ5QyxDQUFDO0FBQ3JEO0FBRUEsTUFBTU0sOEJBQThCVCwwQ0FBRUEsQ0FBQ1UsVUFBVSxDQUMvQztJQUNFTCxNQUFNO0lBQ05NLGFBQWFWLGlGQUFrQ0E7SUFDL0NXLGNBQWNWLGtGQUFtQ0E7QUFDbkQsR0FDQSxPQUFNSTtJQUNKLE1BQU0sRUFBRUUsTUFBTSxFQUFFLEdBQUcsTUFBTUwsT0FBT0c7SUFDaEMsSUFBSSxDQUFDRSxRQUFRO1FBQ1gsTUFBTSxJQUFJSyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0w7QUFDVDtBQUdLLGVBQWVNLHdCQUF3QlIsS0FBbUM7SUFDL0UsT0FBT0csNEJBQTRCSDtBQUNyQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYm1lc2l0ZXIzNjAtbWFya2V0cGxhY2UvLi9zcmMvYWkvZmxvd3MvZ2VuZXJhdGUtaW5ncmVkaWVudHMtbGlzdC50cz9mNmIxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgeyBhaSB9IGZyb20gJ0AvYWkvZ2Vua2l0JztcbmltcG9ydCB7XG4gIEdlbmVyYXRlSW5ncmVkaWVudHNMaXN0SW5wdXQsXG4gIEdlbmVyYXRlSW5ncmVkaWVudHNMaXN0T3V0cHV0LFxuICBHZW5lcmF0ZUluZ3JlZGllbnRzTGlzdElucHV0U2NoZW1hLFxuICBHZW5lcmF0ZUluZ3JlZGllbnRzTGlzdE91dHB1dFNjaGVtYSxcbiAgSW5ncmVkaWVudFNjaGVtYVxufSBmcm9tICcuL2luZ3JlZGllbnQtdHlwZXMnO1xuXG5jb25zdCBwcm9tcHQgPSBhaS5kZWZpbmVQcm9tcHQoe1xuICBuYW1lOiAnZ2VuZXJhdGVJbmdyZWRpZW50c0xpc3RQcm9tcHQnLFxuICBpbnB1dDogeyBzY2hlbWE6IEdlbmVyYXRlSW5ncmVkaWVudHNMaXN0SW5wdXRTY2hlbWEgfSxcbiAgb3V0cHV0OiB7IHNjaGVtYTogR2VuZXJhdGVJbmdyZWRpZW50c0xpc3RPdXRwdXRTY2hlbWEgfSxcbiAgcHJvbXB0OiBgWW91IGFyZSBhIGNoZWYuIEdlbmVyYXRlIGEgbGlzdCBvZiBpbmdyZWRpZW50cyBuZWVkZWQgZm9yIHRoZSBkaXNoIFwie3tkaXNoTmFtZX19XCIgZm9yIHt7bnVtYmVyT2ZTZXJ2aW5nc319IHNlcnZpbmdzLlxuXG5JTVBPUlRBTlQ6XG4tIFRoZSBsYW5ndWFnZSBvZiB0aGUgaW5ncmVkaWVudCBuYW1lcyBhbmQgdW5pdHMgbXVzdCBhbHdheXMgbWF0Y2ggdGhlIGxhbmd1YWdlIG9mIHRoZSBkaXNoIG5hbWUuIElmIHRoZSBkaXNoIG5hbWUgaXMgaW4gR2VybWFuLCBhbGwgaW5ncmVkaWVudCBuYW1lcyBhbmQgdW5pdHMgbXVzdCBiZSBpbiBHZXJtYW4uIElmIHRoZSBkaXNoIG5hbWUgaXMgaW4gRW5nbGlzaCwgdXNlIEVuZ2xpc2guIERvIG5vdCB0cmFuc2xhdGUgb3IgbWl4IGxhbmd1YWdlcy5cbi0gQWx3YXlzIGluY2x1ZGUgdGhlIG1haW4gcHJvdGVpbiBvciBrZXkgaW5ncmVkaWVudCAoZS5nLiwgaWYgdGhlIGRpc2ggaXMgXCJQYWxhayBDaGlja2VuXCIgb3IgXCJDaGlja2VuIFBhbGFrXCIsIGFsd2F5cyBpbmNsdWRlIFwiQ2hpY2tlblwiIGFzIGFuIGluZ3JlZGllbnQpLlxuXG5Gb3IgZWFjaCBpbmdyZWRpZW50LCBwcm92aWRlIGl0cyBuYW1lLCBxdWFudGl0eSAoYXMgYSBudW1iZXIpLCBhbmQgdW5pdCAoZS5nLiwgXCJnXCIsIFwibWxcIiwgXCJwY3NcIiwgXCJrZ1wiKS5cbk5ldmVyIHJldHVybiBhIHF1YW50aXR5IG9mIDAuIElmIHVuc3VyZSwgZXN0aW1hdGUgYSB0eXBpY2FsIGFtb3VudCBmb3Igb25lIHNlcnZpbmcgYmFzZWQgb24gY29tbW9uIHJlY2lwZXMgb3IgY2hlZiBleHBlcmllbmNlLlxuUmV0dXJuIHRoZSBvdXRwdXQgYXMgYSBKU09OIG9iamVjdCB3aXRoIGEgc2luZ2xlIGtleSBcImluZ3JlZGllbnRzXCIuXG5UaGUgXCJpbmdyZWRpZW50c1wiIGtleSBzaG91bGQgaGF2ZSBhIHZhbHVlIG9mIGFuIGFycmF5IG9mIG9iamVjdHMsIHdoZXJlIGVhY2ggb2JqZWN0IGhhcyBcIm5hbWVcIiAoc3RyaW5nKSwgXCJxdWFudGl0eVwiIChudW1iZXIpLCBhbmQgXCJ1bml0XCIgKHN0cmluZykgZmllbGRzLlxuQmUgYXMgYWNjdXJhdGUgYXMgcG9zc2libGUuXG5cbkV4YW1wbGUgKEVuZ2xpc2gpOlxue1xuICBcImluZ3JlZGllbnRzXCI6IFtcbiAgICB7IFwibmFtZVwiOiBcIkNoaWNrZW4gQnJlYXN0XCIsIFwicXVhbnRpdHlcIjogMjAwLCBcInVuaXRcIjogXCJnXCIgfSxcbiAgICB7IFwibmFtZVwiOiBcIlNwaW5hY2hcIiwgXCJxdWFudGl0eVwiOiAxNTAsIFwidW5pdFwiOiBcImdcIiB9LFxuICAgIHsgXCJuYW1lXCI6IFwiT25pb25cIiwgXCJxdWFudGl0eVwiOiA1MCwgXCJ1bml0XCI6IFwiZ1wiIH1cbiAgXVxufVxuXG5FeGFtcGxlIChHZXJtYW4pOlxue1xuICBcImluZ3JlZGllbnRzXCI6IFtcbiAgICB7IFwibmFtZVwiOiBcIkjDpGhuY2hlbmJydXN0XCIsIFwicXVhbnRpdHlcIjogMjAwLCBcInVuaXRcIjogXCJnXCIgfSxcbiAgICB7IFwibmFtZVwiOiBcIlNwaW5hdFwiLCBcInF1YW50aXR5XCI6IDE1MCwgXCJ1bml0XCI6IFwiZ1wiIH0sXG4gICAgeyBcIm5hbWVcIjogXCJad2llYmVsXCIsIFwicXVhbnRpdHlcIjogNTAsIFwidW5pdFwiOiBcImdcIiB9XG4gIF1cbn1cblxuRW5zdXJlIHRoZSBvdXRwdXQgc3RyaWN0bHkgZm9sbG93cyB0aGlzIEpTT04gZm9ybWF0LmAsXG59KTtcblxuY29uc3QgZ2VuZXJhdGVJbmdyZWRpZW50c0xpc3RGbG93ID0gYWkuZGVmaW5lRmxvdyhcbiAge1xuICAgIG5hbWU6ICdnZW5lcmF0ZUluZ3JlZGllbnRzTGlzdEZsb3cnLFxuICAgIGlucHV0U2NoZW1hOiBHZW5lcmF0ZUluZ3JlZGllbnRzTGlzdElucHV0U2NoZW1hLFxuICAgIG91dHB1dFNjaGVtYTogR2VuZXJhdGVJbmdyZWRpZW50c0xpc3RPdXRwdXRTY2hlbWEsXG4gIH0sXG4gIGFzeW5jIGlucHV0ID0+IHtcbiAgICBjb25zdCB7IG91dHB1dCB9ID0gYXdhaXQgcHJvbXB0KGlucHV0KTtcbiAgICBpZiAoIW91dHB1dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBSSBkaWQgbm90IHJldHVybiBhbiBvdXRwdXQuJyk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cbik7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUluZ3JlZGllbnRzTGlzdChpbnB1dDogR2VuZXJhdGVJbmdyZWRpZW50c0xpc3RJbnB1dCk6IFByb21pc2U8R2VuZXJhdGVJbmdyZWRpZW50c0xpc3RPdXRwdXQ+IHtcbiAgcmV0dXJuIGdlbmVyYXRlSW5ncmVkaWVudHNMaXN0RmxvdyhpbnB1dCk7XG59XG4iXSwibmFtZXMiOlsiYWkiLCJHZW5lcmF0ZUluZ3JlZGllbnRzTGlzdElucHV0U2NoZW1hIiwiR2VuZXJhdGVJbmdyZWRpZW50c0xpc3RPdXRwdXRTY2hlbWEiLCJwcm9tcHQiLCJkZWZpbmVQcm9tcHQiLCJuYW1lIiwiaW5wdXQiLCJzY2hlbWEiLCJvdXRwdXQiLCJnZW5lcmF0ZUluZ3JlZGllbnRzTGlzdEZsb3ciLCJkZWZpbmVGbG93IiwiaW5wdXRTY2hlbWEiLCJvdXRwdXRTY2hlbWEiLCJFcnJvciIsImdlbmVyYXRlSW5ncmVkaWVudHNMaXN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/ai/flows/generate-ingredients-list.ts\n");

/***/ }),

/***/ "(rsc)/./src/ai/flows/ingredient-types.ts":
/*!******************************************!*\
  !*** ./src/ai/flows/ingredient-types.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GenerateIngredientsListInputSchema: () => (/* binding */ GenerateIngredientsListInputSchema),\n/* harmony export */   GenerateIngredientsListOutputSchema: () => (/* binding */ GenerateIngredientsListOutputSchema),\n/* harmony export */   IngredientSchema: () => (/* binding */ IngredientSchema),\n/* harmony export */   SuggestExpiryDateInputSchema: () => (/* binding */ SuggestExpiryDateInputSchema),\n/* harmony export */   SuggestExpiryDateOutputSchema: () => (/* binding */ SuggestExpiryDateOutputSchema)\n/* harmony export */ });\n/* harmony import */ var genkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! genkit */ \"(rsc)/./node_modules/genkit/lib/index.mjs\");\n\nconst GenerateIngredientsListInputSchema = genkit__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    dishName: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\"The name of the dish to generate ingredients for.\"),\n    numberOfServings: genkit__WEBPACK_IMPORTED_MODULE_0__.z.number().describe(\"The number of servings the ingredients should be for.\")\n});\nconst IngredientSchema = genkit__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    name: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\"The name of the ingredient.\"),\n    quantity: genkit__WEBPACK_IMPORTED_MODULE_0__.z.number().describe(\"The quantity of the ingredient (numeric value).\"),\n    unit: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().describe('The unit for the quantity (e.g., \"g\", \"ml\", \"pcs\", \"kg\").')\n});\nconst GenerateIngredientsListOutputSchema = genkit__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    ingredients: genkit__WEBPACK_IMPORTED_MODULE_0__.z.array(IngredientSchema).describe(\"A list of ingredients with their names, quantities, and units.\")\n});\n// New schemas for expiry date suggestion\nconst SuggestExpiryDateInputSchema = genkit__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    productName: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\"The name of the product.\"),\n    productCategory: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().optional().describe('The category of the product (e.g., \"Tea\", \"Spices\", \"Sweets\").'),\n    productWeight: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().optional().describe('The weight/unit of the product (e.g., \"500g\", \"1000g\", \"20 pkt\").'),\n    manufacturingDate: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().optional().describe(\"The manufacturing date if available.\")\n});\nconst SuggestExpiryDateOutputSchema = genkit__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    suggestedExpiryDate: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\"The suggested expiry date in YYYY-MM-DD format.\"),\n    shelfLifeDays: genkit__WEBPACK_IMPORTED_MODULE_0__.z.number().describe(\"The estimated shelf life in days.\"),\n    storageRecommendation: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\"Storage recommendation for the product.\"),\n    confidence: genkit__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\"Confidence level of the suggestion (High, Medium, Low).\")\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYWkvZmxvd3MvaW5ncmVkaWVudC10eXBlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkI7QUFFcEIsTUFBTUMscUNBQXFDRCxxQ0FBQ0EsQ0FBQ0UsTUFBTSxDQUFDO0lBQ3pEQyxVQUFVSCxxQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxRQUFRLENBQUM7SUFDOUJDLGtCQUFrQk4scUNBQUNBLENBQUNPLE1BQU0sR0FBR0YsUUFBUSxDQUFDO0FBQ3hDLEdBQUc7QUFHSSxNQUFNRyxtQkFBbUJSLHFDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDdkNPLE1BQU1ULHFDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLFFBQVEsQ0FBQztJQUMxQkssVUFBVVYscUNBQUNBLENBQUNPLE1BQU0sR0FBR0YsUUFBUSxDQUFDO0lBQzlCTSxNQUFNWCxxQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxRQUFRLENBQUM7QUFDNUIsR0FBRztBQUVJLE1BQU1PLHNDQUFzQ1oscUNBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUMxRFcsYUFBYWIscUNBQUNBLENBQUNjLEtBQUssQ0FBQ04sa0JBQWtCSCxRQUFRLENBQUM7QUFDbEQsR0FBRztBQUdILHlDQUF5QztBQUNsQyxNQUFNVSwrQkFBK0JmLHFDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDbkRjLGFBQWFoQixxQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxRQUFRLENBQUM7SUFDakNZLGlCQUFpQmpCLHFDQUFDQSxDQUFDSSxNQUFNLEdBQUdjLFFBQVEsR0FBR2IsUUFBUSxDQUFDO0lBQ2hEYyxlQUFlbkIscUNBQUNBLENBQUNJLE1BQU0sR0FBR2MsUUFBUSxHQUFHYixRQUFRLENBQUM7SUFDOUNlLG1CQUFtQnBCLHFDQUFDQSxDQUFDSSxNQUFNLEdBQUdjLFFBQVEsR0FBR2IsUUFBUSxDQUFDO0FBQ3BELEdBQUc7QUFHSSxNQUFNZ0IsZ0NBQWdDckIscUNBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUNwRG9CLHFCQUFxQnRCLHFDQUFDQSxDQUFDSSxNQUFNLEdBQUdDLFFBQVEsQ0FBQztJQUN6Q2tCLGVBQWV2QixxQ0FBQ0EsQ0FBQ08sTUFBTSxHQUFHRixRQUFRLENBQUM7SUFDbkNtQix1QkFBdUJ4QixxQ0FBQ0EsQ0FBQ0ksTUFBTSxHQUFHQyxRQUFRLENBQUM7SUFDM0NvQixZQUFZekIscUNBQUNBLENBQUNJLE1BQU0sR0FBR0MsUUFBUSxDQUFDO0FBQ2xDLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJtZXNpdGVyMzYwLW1hcmtldHBsYWNlLy4vc3JjL2FpL2Zsb3dzL2luZ3JlZGllbnQtdHlwZXMudHM/NWM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnZ2Vua2l0JztcblxuZXhwb3J0IGNvbnN0IEdlbmVyYXRlSW5ncmVkaWVudHNMaXN0SW5wdXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGRpc2hOYW1lOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgbmFtZSBvZiB0aGUgZGlzaCB0byBnZW5lcmF0ZSBpbmdyZWRpZW50cyBmb3IuJyksXG4gIG51bWJlck9mU2VydmluZ3M6IHoubnVtYmVyKCkuZGVzY3JpYmUoJ1RoZSBudW1iZXIgb2Ygc2VydmluZ3MgdGhlIGluZ3JlZGllbnRzIHNob3VsZCBiZSBmb3IuJyksXG59KTtcbmV4cG9ydCB0eXBlIEdlbmVyYXRlSW5ncmVkaWVudHNMaXN0SW5wdXQgPSB6LmluZmVyPHR5cGVvZiBHZW5lcmF0ZUluZ3JlZGllbnRzTGlzdElucHV0U2NoZW1hPjtcblxuZXhwb3J0IGNvbnN0IEluZ3JlZGllbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ1RoZSBuYW1lIG9mIHRoZSBpbmdyZWRpZW50LicpLFxuICBxdWFudGl0eTogei5udW1iZXIoKS5kZXNjcmliZSgnVGhlIHF1YW50aXR5IG9mIHRoZSBpbmdyZWRpZW50IChudW1lcmljIHZhbHVlKS4nKSxcbiAgdW5pdDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIHVuaXQgZm9yIHRoZSBxdWFudGl0eSAoZS5nLiwgXCJnXCIsIFwibWxcIiwgXCJwY3NcIiwgXCJrZ1wiKS4nKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgR2VuZXJhdGVJbmdyZWRpZW50c0xpc3RPdXRwdXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGluZ3JlZGllbnRzOiB6LmFycmF5KEluZ3JlZGllbnRTY2hlbWEpLmRlc2NyaWJlKCdBIGxpc3Qgb2YgaW5ncmVkaWVudHMgd2l0aCB0aGVpciBuYW1lcywgcXVhbnRpdGllcywgYW5kIHVuaXRzLicpLFxufSk7XG5leHBvcnQgdHlwZSBHZW5lcmF0ZUluZ3JlZGllbnRzTGlzdE91dHB1dCA9IHouaW5mZXI8dHlwZW9mIEdlbmVyYXRlSW5ncmVkaWVudHNMaXN0T3V0cHV0U2NoZW1hPjtcblxuLy8gTmV3IHNjaGVtYXMgZm9yIGV4cGlyeSBkYXRlIHN1Z2dlc3Rpb25cbmV4cG9ydCBjb25zdCBTdWdnZXN0RXhwaXJ5RGF0ZUlucHV0U2NoZW1hID0gei5vYmplY3Qoe1xuICBwcm9kdWN0TmFtZTogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIG5hbWUgb2YgdGhlIHByb2R1Y3QuJyksXG4gIHByb2R1Y3RDYXRlZ29yeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLmRlc2NyaWJlKCdUaGUgY2F0ZWdvcnkgb2YgdGhlIHByb2R1Y3QgKGUuZy4sIFwiVGVhXCIsIFwiU3BpY2VzXCIsIFwiU3dlZXRzXCIpLicpLFxuICBwcm9kdWN0V2VpZ2h0OiB6LnN0cmluZygpLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ1RoZSB3ZWlnaHQvdW5pdCBvZiB0aGUgcHJvZHVjdCAoZS5nLiwgXCI1MDBnXCIsIFwiMTAwMGdcIiwgXCIyMCBwa3RcIikuJyksXG4gIG1hbnVmYWN0dXJpbmdEYXRlOiB6LnN0cmluZygpLm9wdGlvbmFsKCkuZGVzY3JpYmUoJ1RoZSBtYW51ZmFjdHVyaW5nIGRhdGUgaWYgYXZhaWxhYmxlLicpLFxufSk7XG5leHBvcnQgdHlwZSBTdWdnZXN0RXhwaXJ5RGF0ZUlucHV0ID0gei5pbmZlcjx0eXBlb2YgU3VnZ2VzdEV4cGlyeURhdGVJbnB1dFNjaGVtYT47XG5cbmV4cG9ydCBjb25zdCBTdWdnZXN0RXhwaXJ5RGF0ZU91dHB1dFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgc3VnZ2VzdGVkRXhwaXJ5RGF0ZTogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIHN1Z2dlc3RlZCBleHBpcnkgZGF0ZSBpbiBZWVlZLU1NLUREIGZvcm1hdC4nKSxcbiAgc2hlbGZMaWZlRGF5czogei5udW1iZXIoKS5kZXNjcmliZSgnVGhlIGVzdGltYXRlZCBzaGVsZiBsaWZlIGluIGRheXMuJyksXG4gIHN0b3JhZ2VSZWNvbW1lbmRhdGlvbjogei5zdHJpbmcoKS5kZXNjcmliZSgnU3RvcmFnZSByZWNvbW1lbmRhdGlvbiBmb3IgdGhlIHByb2R1Y3QuJyksXG4gIGNvbmZpZGVuY2U6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ0NvbmZpZGVuY2UgbGV2ZWwgb2YgdGhlIHN1Z2dlc3Rpb24gKEhpZ2gsIE1lZGl1bSwgTG93KS4nKSxcbn0pO1xuZXhwb3J0IHR5cGUgU3VnZ2VzdEV4cGlyeURhdGVPdXRwdXQgPSB6LmluZmVyPHR5cGVvZiBTdWdnZXN0RXhwaXJ5RGF0ZU91dHB1dFNjaGVtYT47XG4iXSwibmFtZXMiOlsieiIsIkdlbmVyYXRlSW5ncmVkaWVudHNMaXN0SW5wdXRTY2hlbWEiLCJvYmplY3QiLCJkaXNoTmFtZSIsInN0cmluZyIsImRlc2NyaWJlIiwibnVtYmVyT2ZTZXJ2aW5ncyIsIm51bWJlciIsIkluZ3JlZGllbnRTY2hlbWEiLCJuYW1lIiwicXVhbnRpdHkiLCJ1bml0IiwiR2VuZXJhdGVJbmdyZWRpZW50c0xpc3RPdXRwdXRTY2hlbWEiLCJpbmdyZWRpZW50cyIsImFycmF5IiwiU3VnZ2VzdEV4cGlyeURhdGVJbnB1dFNjaGVtYSIsInByb2R1Y3ROYW1lIiwicHJvZHVjdENhdGVnb3J5Iiwib3B0aW9uYWwiLCJwcm9kdWN0V2VpZ2h0IiwibWFudWZhY3R1cmluZ0RhdGUiLCJTdWdnZXN0RXhwaXJ5RGF0ZU91dHB1dFNjaGVtYSIsInN1Z2dlc3RlZEV4cGlyeURhdGUiLCJzaGVsZkxpZmVEYXlzIiwic3RvcmFnZVJlY29tbWVuZGF0aW9uIiwiY29uZmlkZW5jZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/ai/flows/ingredient-types.ts\n");

/***/ }),

/***/ "(rsc)/./src/ai/genkit.ts":
/*!**************************!*\
  !*** ./src/ai/genkit.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ai: () => (/* binding */ ai)\n/* harmony export */ });\n/* harmony import */ var genkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! genkit */ \"(rsc)/./node_modules/genkit/lib/index.mjs\");\n/* harmony import */ var _genkit_ai_googleai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @genkit-ai/googleai */ \"(rsc)/./node_modules/@genkit-ai/googleai/lib/index.mjs\");\n\n\nconst ai = (0,genkit__WEBPACK_IMPORTED_MODULE_0__.genkit)({\n    plugins: [\n        (0,_genkit_ai_googleai__WEBPACK_IMPORTED_MODULE_1__.googleAI)()\n    ],\n    model: \"googleai/gemini-2.0-flash\"\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYWkvZ2Vua2l0LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QjtBQUNlO0FBRXRDLE1BQU1FLEtBQUtGLDhDQUFNQSxDQUFDO0lBQ3ZCRyxTQUFTO1FBQUNGLDZEQUFRQTtLQUFHO0lBQ3JCRyxPQUFPO0FBQ1QsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYm1lc2l0ZXIzNjAtbWFya2V0cGxhY2UvLi9zcmMvYWkvZ2Vua2l0LnRzPzdjZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtnZW5raXR9IGZyb20gJ2dlbmtpdCc7XG5pbXBvcnQge2dvb2dsZUFJfSBmcm9tICdAZ2Vua2l0LWFpL2dvb2dsZWFpJztcblxuZXhwb3J0IGNvbnN0IGFpID0gZ2Vua2l0KHtcbiAgcGx1Z2luczogW2dvb2dsZUFJKCldLFxuICBtb2RlbDogJ2dvb2dsZWFpL2dlbWluaS0yLjAtZmxhc2gnLFxufSk7ICJdLCJuYW1lcyI6WyJnZW5raXQiLCJnb29nbGVBSSIsImFpIiwicGx1Z2lucyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/ai/genkit.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/menuCsv/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/menuCsv/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var csv_parse_sync__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! csv-parse/sync */ \"(rsc)/./node_modules/csv-parse/lib/sync.js\");\n/* harmony import */ var _lib_aiMenuExtractor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/aiMenuExtractor */ \"(rsc)/./src/lib/aiMenuExtractor.ts\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst MENU_JSON_PATH = path__WEBPACK_IMPORTED_MODULE_4___default().join(process.cwd(), \"menu-data.json\");\nasync function GET() {\n    // Return saved menu items for Order Entry\n    try {\n        if (fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(MENU_JSON_PATH)) {\n            const data = fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(MENU_JSON_PATH, \"utf-8\");\n            const menu = JSON.parse(data);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                menu\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            menu: []\n        });\n    } catch (err) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            menu: []\n        });\n    }\n}\nconst runtime = \"nodejs\"; // Ensure Node.js APIs are available\nasync function POST(request) {\n    // If JSON, handle save or delete\n    const url = new URL(request.url, \"http://localhost\");\n    const action = url.searchParams.get(\"action\");\n    if (action === \"delete\") {\n        if (fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(MENU_JSON_PATH)) {\n            fs__WEBPACK_IMPORTED_MODULE_3___default().unlinkSync(MENU_JSON_PATH);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    }\n    const contentType = request.headers.get(\"content-type\") || \"\";\n    if (contentType.includes(\"application/json\")) {\n        const body = await request.json();\n        if (body.action === \"save\" && Array.isArray(body.menuItems)) {\n            // Save menuItems to file\n            fs__WEBPACK_IMPORTED_MODULE_3___default().writeFileSync(MENU_JSON_PATH, JSON.stringify(body.menuItems, null, 2), \"utf-8\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid save request\"\n        }, {\n            status: 400\n        });\n    }\n    const formData = await request.formData();\n    const file = formData.get(\"file\");\n    if (!file || typeof file === \"string\") {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"No file uploaded.\"\n        }, {\n            status: 400\n        });\n    }\n    const arrayBuffer = await file.arrayBuffer();\n    const buffer = Buffer.from(arrayBuffer);\n    const filename = file.name || \"\";\n    const isPdf = filename.toLowerCase().endsWith(\".pdf\");\n    const isCsv = filename.toLowerCase().endsWith(\".csv\");\n    let menuItems = [];\n    try {\n        if (isPdf) {\n            // Use Gemini for PDF extraction\n            menuItems = await (0,_lib_aiMenuExtractor__WEBPACK_IMPORTED_MODULE_2__.extractMenuItemsFromPdfWithGemini)(buffer);\n        } else if (isCsv) {\n            // Parse CSV\n            const csvText = buffer.toString(\"utf-8\");\n            menuItems = (0,csv_parse_sync__WEBPACK_IMPORTED_MODULE_1__.parse)(csvText, {\n                columns: true,\n                skip_empty_lines: true\n            });\n        } else {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unsupported file type. Please upload a PDF or CSV.\"\n            }, {\n                status: 400\n            });\n        }\n        // Do NOT write extracted menuItems to file here (revert to old flow)\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            menuItems\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Failed to extract menu items.\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Function to clean menu item names by removing price information\nfunction cleanMenuItemName(name) {\n    if (!name) return name;\n    // Remove price patterns like \"- 12.90 EUR\", \"- $12.90\", \"- 12.90\", \"- \u001c12.90\"\n    return name.replace(/\\s*-\\s*\\d+[\\.,]\\d+\\s*(EUR|USD|GBP|  |$  |  )\\s*$/i, \"\") // Remove \"- 12.90 EUR\" patterns\n    .replace(/\\s*-\\s*\\d+[\\.,]\\d+\\s*$/i, \"\") // Remove \"- 12.90\" patterns  \n    .replace(/\\s*\\(\\d+[\\.,]\\d+\\s*(EUR|USD|GBP|  |$  |  )\\)\\s*$/i, \"\") // Remove \"(12.90 EUR)\" patterns\n    .replace(/\\s*\\$\\d+[\\.,]\\d+\\s*$/i, \"\") // Remove \"$12.90\" patterns\n    .replace(/\\s*  \\d+[\\.,]\\d+\\s*$/i, \"\") // Remove \" 12.90\" patterns\n    .replace(/\\s*  \\d+[\\.,]\\d+\\s*$/i, \"\") // Remove \" 12.90\" patterns\n    .trim();\n} // ... (rest of the code from the Noman branch version) ... \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxrQkFBa0I7WUFBSztRQUN4RSxPQUFPO1lBQ0wsT0FBT3RELHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUFDO2dCQUFFcUIsT0FBTztZQUFxRCxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDMUc7UUFDQSxxRUFBcUU7UUFDckUsT0FBT3RDLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUFDO1lBQUVrQjtRQUFVO0lBQ3ZDLEVBQUUsT0FBT0csT0FBTztRQUNkLE9BQU9yQyxxREFBWUEsQ0FBQ2dCLElBQUksQ0FBQztZQUFFcUIsT0FBTyxNQUFpQmtCLE9BQU8sSUFBSTtRQUFnQyxHQUFHO1lBQUVqQixRQUFRO1FBQUk7SUFDakg7QUFDRjtBQUVBLGtFQUFrRTtBQUNsRSxTQUFTa0Isa0JBQWtCVixJQUFZO0lBQ3JDLElBQUksQ0FBQ0EsTUFBTSxPQUFPQTtJQUVsQiw4RUFBOEU7SUFDOUUsT0FBT0EsS0FDSlcsT0FBTyxDQUFDLHFEQUFxRCxJQUFJLGdDQUFnQztLQUNqR0EsT0FBTyxDQUFDLDJCQUEyQixJQUFJLDhCQUE4QjtLQUNyRUEsT0FBTyxDQUFDLHFEQUFxRCxJQUFJLGdDQUFnQztLQUNqR0EsT0FBTyxDQUFDLHlCQUF5QixJQUFJLDJCQUEyQjtLQUNoRUEsT0FBTyxDQUFDLHlCQUF5QixJQUFJLDJCQUEyQjtLQUNoRUEsT0FBTyxDQUFDLHlCQUF5QixJQUFJLDJCQUEyQjtLQUNoRUMsSUFBSTtBQUNULEVBRUEsNERBQTREIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VibWVzaXRlcjM2MC1tYXJrZXRwbGFjZS8uL3NyYy9hcHAvYXBpL21lbnVDc3Yvcm91dGUudHM/ZmNiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBwYXJzZSBhcyBjc3ZQYXJzZSB9IGZyb20gJ2Nzdi1wYXJzZS9zeW5jJztcbmltcG9ydCB7IGV4dHJhY3RNZW51SXRlbXNGcm9tUGRmV2l0aEdlbWluaSB9IGZyb20gJ0AvbGliL2FpTWVudUV4dHJhY3Rvcic7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmNvbnN0IE1FTlVfSlNPTl9QQVRIID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdtZW51LWRhdGEuanNvbicpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICAvLyBSZXR1cm4gc2F2ZWQgbWVudSBpdGVtcyBmb3IgT3JkZXIgRW50cnlcbiAgdHJ5IHtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhNRU5VX0pTT05fUEFUSCkpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoTUVOVV9KU09OX1BBVEgsICd1dGYtOCcpO1xuICAgICAgY29uc3QgbWVudSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZW51IH0pO1xuICAgIH1cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZW51OiBbXSB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVudTogW10gfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSAnbm9kZWpzJzsgLy8gRW5zdXJlIE5vZGUuanMgQVBJcyBhcmUgYXZhaWxhYmxlXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgLy8gSWYgSlNPTiwgaGFuZGxlIHNhdmUgb3IgZGVsZXRlXG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwsICdodHRwOi8vbG9jYWxob3N0Jyk7XG4gIGNvbnN0IGFjdGlvbiA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdhY3Rpb24nKTtcbiAgaWYgKGFjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhNRU5VX0pTT05fUEFUSCkpIHtcbiAgICAgIGZzLnVubGlua1N5bmMoTUVOVV9KU09OX1BBVEgpO1xuICAgIH1cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICB9XG5cbiAgY29uc3QgY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSB8fCAnJztcbiAgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgaWYgKGJvZHkuYWN0aW9uID09PSAnc2F2ZScgJiYgQXJyYXkuaXNBcnJheShib2R5Lm1lbnVJdGVtcykpIHtcbiAgICAgIC8vIFNhdmUgbWVudUl0ZW1zIHRvIGZpbGVcbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoTUVOVV9KU09OX1BBVEgsIEpTT04uc3RyaW5naWZ5KGJvZHkubWVudUl0ZW1zLCBudWxsLCAyKSwgJ3V0Zi04Jyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgc2F2ZSByZXF1ZXN0JyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICB9XG5cbiAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XG4gIGNvbnN0IGZpbGUgPSBmb3JtRGF0YS5nZXQoJ2ZpbGUnKTtcblxuICBpZiAoIWZpbGUgfHwgdHlwZW9mIGZpbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdObyBmaWxlIHVwbG9hZGVkLicgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgfVxuXG4gIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xuICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcik7XG4gIGNvbnN0IGZpbGVuYW1lID0gKGZpbGUgYXMgYW55KS5uYW1lIHx8ICcnO1xuICBjb25zdCBpc1BkZiA9IGZpbGVuYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJy5wZGYnKTtcbiAgY29uc3QgaXNDc3YgPSBmaWxlbmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuY3N2Jyk7XG5cbiAgbGV0IG1lbnVJdGVtcyA9IFtdO1xuICB0cnkge1xuICAgIGlmIChpc1BkZikge1xuICAgICAgLy8gVXNlIEdlbWluaSBmb3IgUERGIGV4dHJhY3Rpb25cbiAgICAgIG1lbnVJdGVtcyA9IGF3YWl0IGV4dHJhY3RNZW51SXRlbXNGcm9tUGRmV2l0aEdlbWluaShidWZmZXIpO1xuICAgIH0gZWxzZSBpZiAoaXNDc3YpIHtcbiAgICAgIC8vIFBhcnNlIENTVlxuICAgICAgY29uc3QgY3N2VGV4dCA9IGJ1ZmZlci50b1N0cmluZygndXRmLTgnKTtcbiAgICAgIG1lbnVJdGVtcyA9IGNzdlBhcnNlKGNzdlRleHQsIHsgY29sdW1uczogdHJ1ZSwgc2tpcF9lbXB0eV9saW5lczogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbnN1cHBvcnRlZCBmaWxlIHR5cGUuIFBsZWFzZSB1cGxvYWQgYSBQREYgb3IgQ1NWLicgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG4gICAgLy8gRG8gTk9UIHdyaXRlIGV4dHJhY3RlZCBtZW51SXRlbXMgdG8gZmlsZSBoZXJlIChyZXZlcnQgdG8gb2xkIGZsb3cpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVudUl0ZW1zIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBleHRyYWN0IG1lbnUgaXRlbXMuJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGNsZWFuIG1lbnUgaXRlbSBuYW1lcyBieSByZW1vdmluZyBwcmljZSBpbmZvcm1hdGlvblxuZnVuY3Rpb24gY2xlYW5NZW51SXRlbU5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCFuYW1lKSByZXR1cm4gbmFtZTtcbiAgXG4gIC8vIFJlbW92ZSBwcmljZSBwYXR0ZXJucyBsaWtlIFwiLSAxMi45MCBFVVJcIiwgXCItICQxMi45MFwiLCBcIi0gMTIuOTBcIiwgXCItIFx1MDAxYzEyLjkwXCJcbiAgcmV0dXJuIG5hbWVcbiAgICAucmVwbGFjZSgvXFxzKi1cXHMqXFxkK1tcXC4sXVxcZCtcXHMqKEVVUnxVU0R8R0JQfCAgfCQgIHwgIClcXHMqJC9pLCAnJykgLy8gUmVtb3ZlIFwiLSAxMi45MCBFVVJcIiBwYXR0ZXJuc1xuICAgIC5yZXBsYWNlKC9cXHMqLVxccypcXGQrW1xcLixdXFxkK1xccyokL2ksICcnKSAvLyBSZW1vdmUgXCItIDEyLjkwXCIgcGF0dGVybnMgIFxuICAgIC5yZXBsYWNlKC9cXHMqXFwoXFxkK1tcXC4sXVxcZCtcXHMqKEVVUnxVU0R8R0JQfCAgfCQgIHwgIClcXClcXHMqJC9pLCAnJykgLy8gUmVtb3ZlIFwiKDEyLjkwIEVVUilcIiBwYXR0ZXJuc1xuICAgIC5yZXBsYWNlKC9cXHMqXFwkXFxkK1tcXC4sXVxcZCtcXHMqJC9pLCAnJykgLy8gUmVtb3ZlIFwiJDEyLjkwXCIgcGF0dGVybnNcbiAgICAucmVwbGFjZSgvXFxzKiAgXFxkK1tcXC4sXVxcZCtcXHMqJC9pLCAnJykgLy8gUmVtb3ZlIFwiIDEyLjkwXCIgcGF0dGVybnNcbiAgICAucmVwbGFjZSgvXFxzKiAgXFxkK1tcXC4sXVxcZCtcXHMqJC9pLCAnJykgLy8gUmVtb3ZlIFwiIDEyLjkwXCIgcGF0dGVybnNcbiAgICAudHJpbSgpO1xufVxuXG4vLyAuLi4gKHJlc3Qgb2YgdGhlIGNvZGUgZnJvbSB0aGUgTm9tYW4gYnJhbmNoIHZlcnNpb24pIC4uLiAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicGFyc2UiLCJjc3ZQYXJzZSIsImV4dHJhY3RNZW51SXRlbXNGcm9tUGRmV2l0aEdlbWluaSIsImZzIiwicGF0aCIsIk1FTlVfSlNPTl9QQVRIIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJHRVQiLCJleGlzdHNTeW5jIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsIm1lbnUiLCJKU09OIiwianNvbiIsImVyciIsInJ1bnRpbWUiLCJQT1NUIiwicmVxdWVzdCIsInVybCIsIlVSTCIsImFjdGlvbiIsInNlYXJjaFBhcmFtcyIsImdldCIsInVubGlua1N5bmMiLCJzdWNjZXNzIiwiY29udGVudFR5cGUiLCJoZWFkZXJzIiwiaW5jbHVkZXMiLCJib2R5IiwiQXJyYXkiLCJpc0FycmF5IiwibWVudUl0ZW1zIiwid3JpdGVGaWxlU3luYyIsInN0cmluZ2lmeSIsImVycm9yIiwic3RhdHVzIiwiZm9ybURhdGEiLCJmaWxlIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwiZmlsZW5hbWUiLCJuYW1lIiwiaXNQZGYiLCJ0b0xvd2VyQ2FzZSIsImVuZHNXaXRoIiwiaXNDc3YiLCJjc3ZUZXh0IiwidG9TdHJpbmciLCJjb2x1bW5zIiwic2tpcF9lbXB0eV9saW5lcyIsIm1lc3NhZ2UiLCJjbGVhbk1lbnVJdGVtTmFtZSIsInJlcGxhY2UiLCJ0cmltIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/menuCsv/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/aiMenuExtractor.ts":
/*!************************************!*\
  !*** ./src/lib/aiMenuExtractor.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractMenuFromPdf: () => (/* binding */ extractMenuFromPdf),\n/* harmony export */   extractMenuItemsFromPdfWithGemini: () => (/* binding */ extractMenuItemsFromPdfWithGemini)\n/* harmony export */ });\n/* harmony import */ var _ai_genkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/ai/genkit */ \"(rsc)/./src/ai/genkit.ts\");\n/* harmony import */ var jsonrepair__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jsonrepair */ \"(rsc)/./node_modules/jsonrepair/lib/esm/regular/jsonrepair.js\");\n/* harmony import */ var _inventoryService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inventoryService */ \"(rsc)/./src/lib/inventoryService.ts\");\n/* harmony import */ var _menuService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./menuService */ \"(rsc)/./src/lib/menuService.ts\");\n/* harmony import */ var _ai_flows_generate_ingredients_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/ai/flows/generate-ingredients-list */ \"(rsc)/./src/ai/flows/generate-ingredients-list.ts\");\n\n\n\n\n\n/**\n * Last-ditch recovery for broken, truncated Gemini arrays.\n * Cuts off after last valid object and closes with a bracket.\n */ function recoverLongestValidArray(jsonString) {\n    jsonString = jsonString.replace(/,\\s*([\\]}])/g, \"$1\");\n    let arrStart = jsonString.indexOf(\"[\");\n    let lastObjClose = jsonString.lastIndexOf(\"}\");\n    if (arrStart === -1 || lastObjClose === -1 || lastObjClose < arrStart) return \"[]\";\n    let cut = jsonString.slice(arrStart, lastObjClose + 1);\n    if (!cut.trim().endsWith(\"]\")) cut += \"\\n]\\n\";\n    return cut;\n}\n/**\n * Helper for batching with concurrency limit\n */ async function batchWithConcurrencyLimit(items, fn, limit) {\n    const results = [];\n    let idx = 0;\n    const executing = [];\n    async function run(item, i) {\n        results[i] = await fn(item);\n    }\n    while(idx < items.length){\n        const i = idx;\n        const p = run(items[i], i);\n        executing.push(p);\n        idx++;\n        if (executing.length >= limit) {\n            await Promise.race(executing);\n            // Remove finished\n            for(let j = executing.length - 1; j >= 0; j--){\n                if (typeof executing[j]?.then === \"function\") {\n                    executing.splice(j, 1);\n                }\n            }\n        }\n    }\n    await Promise.all(executing);\n    return results;\n}\n/**\n * Extracts menu data from a PDF using Gemini and robust post-processing.\n */ async function extractMenuFromPdf({ pdfDataUri, userId, numberOfServings = 1 }) {\n    const prompt = `\nYou are an expert at reading restaurant menu PDFs in any language (e.g., German, English, French, etc.). Extract every dish, drink, or menu item as a JSON object.\n\nFor each menu item, extract:\n- \"name\": Dish or beverage name, exactly as printed, but **never include the price or currency in the name**. The name must NOT contain any price or currency. Only the actual name, in the original language.\n- \"price\": The price string for the item (e.g., \"3,20 €\", \"2.50 EUR\", \"$4.00\"). If no price, use an empty string.\n- \"category\": Section/category name (e.g., \"Pizza\", \"Biere\", \"Salate\", \"Getränke (Drinks)\"). If not shown, use \"Other\". Always preserve the original language.\n- \"ingredients\": Array of ingredient names if shown in menu. If not listed, use [].\n\n**If a menu item has multiple variants (e.g., sizes or volumes with different prices), group all variants under a single menu item object. Add a 'sizes' array: each entry should have 'size' (exactly as shown in the menu, e.g., '0.3 l') and 'price'. Do not convert, round, or change the size string.**\n\n**Return only a single valid JSON array of objects.** No explanations, no markdown, no text before or after the array.\n\nExample output:\n[\n  {\"name\":\"Coca-Cola\",\"category\":\"Soft Drinks\",\"sizes\":[{\"size\":\"0.3 l\",\"price\":\"2,00 €\"},{\"size\":\"0.5 l\",\"price\":\"3,00 €\"},{\"size\":\"1.0 l\",\"price\":\"5,00 €\"}],\"ingredients\":[]},\n  {\"name\":\"Zwiefalter-Engele, helles Bier\",\"price\":\"3,20 €\",\"category\":\"Biere\",\"ingredients\":[], \"size\": \"0,33l\"},\n  {\"name\":\"Zwiefalter-Urweizen Dunkel\",\"price\":\"4,20 €\",\"category\":\"Biere\",\"ingredients\":[], \"size\": \"0,5l\"},\n  {\"name\":\"Water Bottle\",\"price\":\"2,00 €\",\"category\":\"Getränke (Drinks)\",\"ingredients\":[], \"size\": \"0,3l\"},\n  {\"name\":\"Water Bottle\",\"price\":\"3,00 €\",\"category\":\"Getränke (Drinks)\",\"ingredients\":[], \"size\": \"0,5l\"},\n  {\"name\":\"Chicken Curry\",\"price\":\"10,00 €\",\"category\":\"Spezialitäten vom Huhn mit Reis\",\"ingredients\":[]},\n  {\"name\":\"Chicken Korma\",\"price\":\"10,00 €\",\"category\":\"Spezialitäten vom Huhn mit Reis\",\"ingredients\":[\"Mandeln\", \"Sahne\", \"Kokosnuss\", \"feinen Gewürzen\"]},\n  {\"name\":\"Glas Prosecco 15% vol\",\"price\":\"5,90 €\",\"category\":\"Aperitifs\",\"ingredients\":[], \"size\": \"0,2l\"},\n  {\"name\":\"Indischer Weißwein\",\"price\":\"6,90 €\",\"category\":\"Indische Weine\",\"ingredients\":[], \"size\": \"0,2l\"},\n  {\"name\":\"Indischer Weißwein\",\"price\":\"21,00 €\",\"category\":\"Indische Weine\",\"ingredients\":[], \"size\": \"0,75l\"}\n]\n\n// BAD EXAMPLE (do NOT do this!):\n// {\"name\": \"Water Bottle (0,3l) 2,00 € (0,5l) 3,00 €\", \"price\": \"\", ...}\n`;\n    // Call Gemini via Genkit\n    const result = await _ai_genkit__WEBPACK_IMPORTED_MODULE_0__.ai.generate([\n        {\n            text: prompt\n        },\n        {\n            media: {\n                url: pdfDataUri\n            }\n        }\n    ]);\n    console.log(\"GENKIT RAW RESULT:\", result);\n    // Extract text, from code block or raw\n    let text = typeof result.text === \"string\" ? result.text : \"\";\n    let cleanText = \"\";\n    const jsonMatch = text.match(/```json([\\s\\S]*?)```/) || text.match(/```([\\s\\S]*?)```/);\n    if (jsonMatch) {\n        cleanText = jsonMatch[1].trim();\n    } else {\n        cleanText = text.trim();\n    }\n    // Remove trailing code fences and comments, just in case\n    cleanText = cleanText.replace(/```/g, \"\").replace(/^\\s*\\/\\/.*$/gm, \"\").trim();\n    // DEBUG: See what we are trying to parse\n    console.log(\"CLEAN JSON TO PARSE:\", cleanText);\n    let items = [];\n    try {\n        // 1. Try straight parse\n        items = JSON.parse(cleanText);\n    } catch (e) {\n        // 2. Try jsonrepair\n        try {\n            items = JSON.parse((0,jsonrepair__WEBPACK_IMPORTED_MODULE_4__.jsonrepair)(cleanText));\n        } catch (e2) {\n            // 3. Try best-effort recovery for truncation\n            try {\n                const partial = recoverLongestValidArray(cleanText);\n                items = JSON.parse(partial);\n            } catch (e3) {\n                // 4. Give up, show nothing\n                items = [];\n            }\n        }\n    }\n    // Post-process: If a single item contains multiple variants in price or name, split them into separate items\n    const variantRegex = /([0-9]+[\\.,][0-9]+\\s*(l|cl|ml|g|kg|L|CL|ML|G|KG)?)[^\\d]*(\\d+[\\.,]\\d+\\s*(€|EUR|USD|GBP|\\$))/gi;\n    let expanded = [];\n    for (const item of items){\n        if (item && typeof item.price === \"string\" && variantRegex.test(item.price)) {\n            // e.g. price: \"(0,3l) 2,00 € (0,5l) 3,00 €\"\n            const matches = [\n                ...item.price.matchAll(variantRegex)\n            ];\n            if (matches.length > 1) {\n                for (const match of matches){\n                    expanded.push({\n                        ...item,\n                        price: match[3].trim(),\n                        size: match[1].trim()\n                    });\n                }\n                continue;\n            }\n        }\n        expanded.push(item);\n    }\n    // Post-process: If price is missing but name contains a price, extract it\n    const priceRegex = /[-–—]\\s*(\\d+[\\.,]\\d+)\\s*(EUR|USD|GBP|€|\\$)?/i;\n    const processed = Array.isArray(expanded) ? expanded.map((item)=>{\n        if (item && typeof item.name === \"string\" && (!item.price || item.price === \"\")) {\n            const match = item.name.match(priceRegex);\n            if (match) {\n                const priceStr = match[1] + (match[2] ? \" \" + match[2] : \"\");\n                return {\n                    ...item,\n                    price: priceStr.trim(),\n                    name: item.name.replace(priceRegex, \"\").trim().replace(/[-–—]\\s*$/, \"\").trim()\n                };\n            }\n        }\n        return item;\n    }) : [];\n    // Only filter for valid name field\n    const filtered = Array.isArray(processed) ? processed.filter((item)=>item && typeof item.name === \"string\" && item.name.length > 0) : [];\n    // Merge items with same name/category into a single object with sizes array\n    const mergedMap = new Map();\n    for (const item of filtered){\n        const key = `${item.name}||${item.category}`;\n        if (!mergedMap.has(key)) {\n            // Start new entry\n            mergedMap.set(key, {\n                ...item,\n                sizes: item.size || item.sizes ? [] : undefined\n            });\n        }\n        const merged = mergedMap.get(key);\n        // If item has size/price, add to sizes array\n        if (item.size || item.price && item.price !== \"\") {\n            if (!merged.sizes) merged.sizes = [];\n            merged.sizes.push({\n                size: item.size || item.sizes && item.sizes[0]?.size || \"\",\n                price: item.price || item.sizes && item.sizes[0]?.price || \"\"\n            });\n        }\n    }\n    // Finalize merged list\n    const merged = Array.from(mergedMap.values()).map((item)=>{\n        if (item.sizes && item.sizes.length === 1 && (!item.sizes[0].size || item.sizes[0].size.trim() === \"\")) {\n            // Only one size and it's empty: move price to top-level\n            return {\n                ...item,\n                price: item.sizes[0].price,\n                sizes: undefined\n            };\n        } else if (item.sizes && item.sizes.length > 0) {\n            // Remove top-level price/size if multiple sizes\n            const { price, size, ...rest } = item;\n            return {\n                ...rest,\n                sizes: item.sizes\n            };\n        } else {\n            // Single size or no sizes\n            return item;\n        }\n    });\n    // After merging and before returning, ensure every item has a unique id\n    const mergedWithIds = merged.map((item)=>{\n        if (item.id && typeof item.id === \"string\" && item.id.length > 0) return item;\n        // Generate a unique id from name, category, price, and size (if present)\n        let id = `${item.name}__${item.category}`;\n        if (item.price) id += `__${item.price}`;\n        if (item.size) id += `__${item.size}`;\n        if (item.sizes && Array.isArray(item.sizes) && item.sizes.length > 0) {\n            id += \"__\" + item.sizes.map((sz)=>`${sz.size}_${sz.price}`).join(\"__\");\n        }\n        return {\n            ...item,\n            id\n        };\n    });\n    // Ingredient enrichment logic\n    let inventory = [];\n    let menuDishes = [];\n    if (userId) {\n        try {\n            inventory = (0,_inventoryService__WEBPACK_IMPORTED_MODULE_1__.getInventory)(userId);\n        } catch  {}\n        try {\n            menuDishes = (0,_menuService__WEBPACK_IMPORTED_MODULE_2__.getDishes)(userId);\n        } catch  {}\n    }\n    // Helper to find ingredient with quantity in inventory or menu\n    function findIngredientWithQuantity(ingredientName) {\n        // Check inventory\n        if (inventory && Array.isArray(inventory)) {\n            const inv = inventory.find((i)=>i.name.toLowerCase() === ingredientName.toLowerCase());\n            if (inv && inv.quantity && inv.unit) {\n                return {\n                    name: inv.name,\n                    quantity: inv.quantity,\n                    unit: inv.unit\n                };\n            }\n        }\n        // Check menu\n        if (menuDishes && Array.isArray(menuDishes)) {\n            for (const dish of menuDishes){\n                if (dish.ingredients && Array.isArray(dish.ingredients)) {\n                    for (const ing of dish.ingredients){\n                        if (typeof ing === \"object\" && ing.inventoryItemName && ing.inventoryItemName.toLowerCase() === ingredientName.toLowerCase()) {\n                            return {\n                                name: ing.inventoryItemName,\n                                quantity: ing.quantityPerDish,\n                                unit: ing.unit\n                            };\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    // Collect all AI ingredient generation tasks\n    const aiTasks = [];\n    for(let i = 0; i < mergedWithIds.length; i++){\n        const item = mergedWithIds[i];\n        if (item.ingredients && Array.isArray(item.ingredients) && item.ingredients.length > 0) {\n            const missing = [];\n            for (const ing of item.ingredients){\n                let found = findIngredientWithQuantity(ing);\n                if (!found) missing.push(ing);\n            }\n            if (missing.length > 0) {\n                aiTasks.push({\n                    idx: i,\n                    name: item.name,\n                    missing\n                });\n            }\n        } else if (item.name) {\n            aiTasks.push({\n                idx: i,\n                name: item.name,\n                missing: []\n            });\n        }\n    }\n    // Batch AI calls for ingredient generation (concurrency limit 5)\n    const aiResults = await batchWithConcurrencyLimit(aiTasks, async (task)=>{\n        try {\n            return await (0,_ai_flows_generate_ingredients_list__WEBPACK_IMPORTED_MODULE_3__.generateIngredientsList)({\n                dishName: task.name,\n                numberOfServings\n            });\n        } catch  {\n            return {\n                ingredients: []\n            };\n        }\n    }, 5);\n    // Map AI results back to menu items\n    for(let i = 0; i < aiTasks.length; i++){\n        const { idx, missing } = aiTasks[i];\n        const aiResult = aiResults[i];\n        if (!mergedWithIds[idx].ingredients || mergedWithIds[idx].ingredients.length === 0) {\n            // No ingredients, use full AI list\n            // Normalize to { inventoryItemName, quantityPerDish, unit }\n            mergedWithIds[idx].ingredients = aiResult.ingredients.map((ing)=>({\n                    inventoryItemName: ing.name,\n                    quantityPerDish: ing.quantity,\n                    unit: ing.unit\n                }));\n        } else {\n            // If original ingredients are just names (strings), and AI returns objects, use AI's list directly\n            if (Array.isArray(mergedWithIds[idx].ingredients) && mergedWithIds[idx].ingredients.every((ing)=>typeof ing === \"string\") && Array.isArray(aiResult.ingredients) && aiResult.ingredients.length > 0 && aiResult.ingredients.every((aii)=>typeof aii === \"object\" && \"name\" in aii && \"quantity\" in aii && \"unit\" in aii)) {\n                mergedWithIds[idx].ingredients = aiResult.ingredients;\n            } else {\n                // Only fill in missing ingredients\n                const enriched = [];\n                for (const ing of mergedWithIds[idx].ingredients){\n                    let found = findIngredientWithQuantity(ing);\n                    if (found) {\n                        enriched.push(found);\n                    } else {\n                        // Find in AI result\n                        const aiIng = aiResult.ingredients.find((aii)=>aii.name.toLowerCase() === (typeof ing === \"string\" ? ing.toLowerCase() : \"\"));\n                        if (aiIng) {\n                            enriched.push(aiIng);\n                        } else {\n                            enriched.push({\n                                name: typeof ing === \"string\" ? ing : \"\",\n                                quantity: 0,\n                                unit: \"\"\n                            });\n                        }\n                    }\n                }\n                // Normalize to { inventoryItemName, quantityPerDish, unit }\n                mergedWithIds[idx].ingredients = enriched.map((ing)=>({\n                        inventoryItemName: ing.name,\n                        quantityPerDish: ing.quantity,\n                        unit: ing.unit\n                    }));\n            }\n        }\n    }\n    return mergedWithIds;\n}\n// Alias for compatibility with API handler\nasync function extractMenuItemsFromPdfWithGemini(buffer) {\n    // Convert buffer to data URI\n    const pdfDataUri = `data:application/pdf;base64,${buffer.toString(\"base64\")}`;\n    const items = await extractMenuFromPdf({\n        pdfDataUri\n    });\n    return items;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBb0I7d0JBQ3BCLE1BQU1RLFFBQVFKLFNBQVNWLFdBQVcsQ0FBQ0wsSUFBSSxDQUFDaUIsQ0FBQUEsTUFBT0EsSUFBSTNDLElBQUksQ0FBQzJCLFdBQVcsT0FBUSxRQUFPSyxRQUFRLFdBQVdBLElBQUlMLFdBQVcsS0FBSyxFQUFDO3dCQUMxSCxJQUFJa0IsT0FBTzs0QkFDVEQsU0FBU3BGLElBQUksQ0FBQ3FGO3dCQUNoQixPQUFPOzRCQUNMRCxTQUFTcEYsSUFBSSxDQUFDO2dDQUFFd0MsTUFBTSxPQUFPZ0MsUUFBUSxXQUFXQSxNQUFNO2dDQUFJSixVQUFVO2dDQUFHQyxNQUFNOzRCQUFHO3dCQUNsRjtvQkFDRjtnQkFDRjtnQkFDQSw0REFBNEQ7Z0JBQzVEWixhQUFhLENBQUNoRSxJQUFJLENBQUM4RSxXQUFXLEdBQUdhLFNBQVM3QyxHQUFHLENBQUMsQ0FBQ2lDLE1BQWM7d0JBQzNEQyxtQkFBbUJELElBQUloQyxJQUFJO3dCQUMzQmtDLGlCQUFpQkYsSUFBSUosUUFBUTt3QkFDN0JDLE1BQU1HLElBQUlILElBQUk7b0JBQ2hCO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsT0FBT1o7QUFDVDtBQUVBLDJDQUEyQztBQUNwQyxlQUFlNkIsa0NBQWtDQyxNQUFjO0lBQ3BFLDZCQUE2QjtJQUM3QixNQUFNL0UsYUFBYSxDQUFDLDRCQUE0QixFQUFFK0UsT0FBT0MsUUFBUSxDQUFDLFVBQVUsQ0FBQztJQUM3RSxNQUFNbkcsUUFBUSxNQUFNa0IsbUJBQW1CO1FBQUVDO0lBQVc7SUFDcEQsT0FBT25CO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJtZXNpdGVyMzYwLW1hcmtldHBsYWNlLy4vc3JjL2xpYi9haU1lbnVFeHRyYWN0b3IudHM/ZjgyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhaSB9IGZyb20gJ0AvYWkvZ2Vua2l0JztcbmltcG9ydCB7IGpzb25yZXBhaXIgfSBmcm9tICdqc29ucmVwYWlyJztcbmltcG9ydCB7IGdldEludmVudG9yeSB9IGZyb20gJy4vaW52ZW50b3J5U2VydmljZSc7XG5pbXBvcnQgeyBnZXREaXNoZXMgfSBmcm9tICcuL21lbnVTZXJ2aWNlJztcbmltcG9ydCB7IGdlbmVyYXRlSW5ncmVkaWVudHNMaXN0IH0gZnJvbSAnQC9haS9mbG93cy9nZW5lcmF0ZS1pbmdyZWRpZW50cy1saXN0JztcblxuLyoqXG4gKiBMYXN0LWRpdGNoIHJlY292ZXJ5IGZvciBicm9rZW4sIHRydW5jYXRlZCBHZW1pbmkgYXJyYXlzLlxuICogQ3V0cyBvZmYgYWZ0ZXIgbGFzdCB2YWxpZCBvYmplY3QgYW5kIGNsb3NlcyB3aXRoIGEgYnJhY2tldC5cbiAqL1xuZnVuY3Rpb24gcmVjb3Zlckxvbmdlc3RWYWxpZEFycmF5KGpzb25TdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gIGpzb25TdHJpbmcgPSBqc29uU3RyaW5nLnJlcGxhY2UoLyxcXHMqKFtcXF19XSkvZywgJyQxJyk7XG4gIGxldCBhcnJTdGFydCA9IGpzb25TdHJpbmcuaW5kZXhPZignWycpO1xuICBsZXQgbGFzdE9iakNsb3NlID0ganNvblN0cmluZy5sYXN0SW5kZXhPZignfScpO1xuICBpZiAoYXJyU3RhcnQgPT09IC0xIHx8IGxhc3RPYmpDbG9zZSA9PT0gLTEgfHwgbGFzdE9iakNsb3NlIDwgYXJyU3RhcnQpIHJldHVybiAnW10nO1xuICBsZXQgY3V0ID0ganNvblN0cmluZy5zbGljZShhcnJTdGFydCwgbGFzdE9iakNsb3NlICsgMSk7XG4gIGlmICghY3V0LnRyaW0oKS5lbmRzV2l0aCgnXScpKSBjdXQgKz0gXCJcXG5dXFxuXCI7XG4gIHJldHVybiBjdXQ7XG59XG5cbi8qKlxuICogSGVscGVyIGZvciBiYXRjaGluZyB3aXRoIGNvbmN1cnJlbmN5IGxpbWl0XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGJhdGNoV2l0aENvbmN1cnJlbmN5TGltaXQ8VCwgUj4oaXRlbXM6IFRbXSwgZm46IChpdGVtOiBUKSA9PiBQcm9taXNlPFI+LCBsaW1pdDogbnVtYmVyKTogUHJvbWlzZTxSW10+IHtcbiAgY29uc3QgcmVzdWx0czogUltdID0gW107XG4gIGxldCBpZHggPSAwO1xuICBjb25zdCBleGVjdXRpbmc6IFByb21pc2U8dm9pZD5bXSA9IFtdO1xuICBhc3luYyBmdW5jdGlvbiBydW4oaXRlbTogVCwgaTogbnVtYmVyKSB7XG4gICAgcmVzdWx0c1tpXSA9IGF3YWl0IGZuKGl0ZW0pO1xuICB9XG4gIHdoaWxlIChpZHggPCBpdGVtcy5sZW5ndGgpIHtcbiAgICBjb25zdCBpID0gaWR4O1xuICAgIGNvbnN0IHAgPSBydW4oaXRlbXNbaV0sIGkpO1xuICAgIGV4ZWN1dGluZy5wdXNoKHApO1xuICAgIGlkeCsrO1xuICAgIGlmIChleGVjdXRpbmcubGVuZ3RoID49IGxpbWl0KSB7XG4gICAgICBhd2FpdCBQcm9taXNlLnJhY2UoZXhlY3V0aW5nKTtcbiAgICAgIC8vIFJlbW92ZSBmaW5pc2hlZFxuICAgICAgZm9yIChsZXQgaiA9IGV4ZWN1dGluZy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICBpZiAodHlwZW9mIGV4ZWN1dGluZ1tqXT8udGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGV4ZWN1dGluZy5zcGxpY2UoaiwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXdhaXQgUHJvbWlzZS5hbGwoZXhlY3V0aW5nKTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbi8qKlxuICogRXh0cmFjdHMgbWVudSBkYXRhIGZyb20gYSBQREYgdXNpbmcgR2VtaW5pIGFuZCByb2J1c3QgcG9zdC1wcm9jZXNzaW5nLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXh0cmFjdE1lbnVGcm9tUGRmKHsgcGRmRGF0YVVyaSwgdXNlcklkLCBudW1iZXJPZlNlcnZpbmdzID0gMSB9OiB7IHBkZkRhdGFVcmk6IHN0cmluZywgdXNlcklkPzogc3RyaW5nLCBudW1iZXJPZlNlcnZpbmdzPzogbnVtYmVyIH0pIHtcbiAgY29uc3QgcHJvbXB0ID0gYFxuWW91IGFyZSBhbiBleHBlcnQgYXQgcmVhZGluZyByZXN0YXVyYW50IG1lbnUgUERGcyBpbiBhbnkgbGFuZ3VhZ2UgKGUuZy4sIEdlcm1hbiwgRW5nbGlzaCwgRnJlbmNoLCBldGMuKS4gRXh0cmFjdCBldmVyeSBkaXNoLCBkcmluaywgb3IgbWVudSBpdGVtIGFzIGEgSlNPTiBvYmplY3QuXG5cbkZvciBlYWNoIG1lbnUgaXRlbSwgZXh0cmFjdDpcbi0gXCJuYW1lXCI6IERpc2ggb3IgYmV2ZXJhZ2UgbmFtZSwgZXhhY3RseSBhcyBwcmludGVkLCBidXQgKipuZXZlciBpbmNsdWRlIHRoZSBwcmljZSBvciBjdXJyZW5jeSBpbiB0aGUgbmFtZSoqLiBUaGUgbmFtZSBtdXN0IE5PVCBjb250YWluIGFueSBwcmljZSBvciBjdXJyZW5jeS4gT25seSB0aGUgYWN0dWFsIG5hbWUsIGluIHRoZSBvcmlnaW5hbCBsYW5ndWFnZS5cbi0gXCJwcmljZVwiOiBUaGUgcHJpY2Ugc3RyaW5nIGZvciB0aGUgaXRlbSAoZS5nLiwgXCIzLDIwIOKCrFwiLCBcIjIuNTAgRVVSXCIsIFwiJDQuMDBcIikuIElmIG5vIHByaWNlLCB1c2UgYW4gZW1wdHkgc3RyaW5nLlxuLSBcImNhdGVnb3J5XCI6IFNlY3Rpb24vY2F0ZWdvcnkgbmFtZSAoZS5nLiwgXCJQaXp6YVwiLCBcIkJpZXJlXCIsIFwiU2FsYXRlXCIsIFwiR2V0csOkbmtlIChEcmlua3MpXCIpLiBJZiBub3Qgc2hvd24sIHVzZSBcIk90aGVyXCIuIEFsd2F5cyBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgbGFuZ3VhZ2UuXG4tIFwiaW5ncmVkaWVudHNcIjogQXJyYXkgb2YgaW5ncmVkaWVudCBuYW1lcyBpZiBzaG93biBpbiBtZW51LiBJZiBub3QgbGlzdGVkLCB1c2UgW10uXG5cbioqSWYgYSBtZW51IGl0ZW0gaGFzIG11bHRpcGxlIHZhcmlhbnRzIChlLmcuLCBzaXplcyBvciB2b2x1bWVzIHdpdGggZGlmZmVyZW50IHByaWNlcyksIGdyb3VwIGFsbCB2YXJpYW50cyB1bmRlciBhIHNpbmdsZSBtZW51IGl0ZW0gb2JqZWN0LiBBZGQgYSAnc2l6ZXMnIGFycmF5OiBlYWNoIGVudHJ5IHNob3VsZCBoYXZlICdzaXplJyAoZXhhY3RseSBhcyBzaG93biBpbiB0aGUgbWVudSwgZS5nLiwgJzAuMyBsJykgYW5kICdwcmljZScuIERvIG5vdCBjb252ZXJ0LCByb3VuZCwgb3IgY2hhbmdlIHRoZSBzaXplIHN0cmluZy4qKlxuXG4qKlJldHVybiBvbmx5IGEgc2luZ2xlIHZhbGlkIEpTT04gYXJyYXkgb2Ygb2JqZWN0cy4qKiBObyBleHBsYW5hdGlvbnMsIG5vIG1hcmtkb3duLCBubyB0ZXh0IGJlZm9yZSBvciBhZnRlciB0aGUgYXJyYXkuXG5cbkV4YW1wbGUgb3V0cHV0OlxuW1xuICB7XCJuYW1lXCI6XCJDb2NhLUNvbGFcIixcImNhdGVnb3J5XCI6XCJTb2Z0IERyaW5rc1wiLFwic2l6ZXNcIjpbe1wic2l6ZVwiOlwiMC4zIGxcIixcInByaWNlXCI6XCIyLDAwIOKCrFwifSx7XCJzaXplXCI6XCIwLjUgbFwiLFwicHJpY2VcIjpcIjMsMDAg4oKsXCJ9LHtcInNpemVcIjpcIjEuMCBsXCIsXCJwcmljZVwiOlwiNSwwMCDigqxcIn1dLFwiaW5ncmVkaWVudHNcIjpbXX0sXG4gIHtcIm5hbWVcIjpcIlp3aWVmYWx0ZXItRW5nZWxlLCBoZWxsZXMgQmllclwiLFwicHJpY2VcIjpcIjMsMjAg4oKsXCIsXCJjYXRlZ29yeVwiOlwiQmllcmVcIixcImluZ3JlZGllbnRzXCI6W10sIFwic2l6ZVwiOiBcIjAsMzNsXCJ9LFxuICB7XCJuYW1lXCI6XCJad2llZmFsdGVyLVVyd2VpemVuIER1bmtlbFwiLFwicHJpY2VcIjpcIjQsMjAg4oKsXCIsXCJjYXRlZ29yeVwiOlwiQmllcmVcIixcImluZ3JlZGllbnRzXCI6W10sIFwic2l6ZVwiOiBcIjAsNWxcIn0sXG4gIHtcIm5hbWVcIjpcIldhdGVyIEJvdHRsZVwiLFwicHJpY2VcIjpcIjIsMDAg4oKsXCIsXCJjYXRlZ29yeVwiOlwiR2V0csOkbmtlIChEcmlua3MpXCIsXCJpbmdyZWRpZW50c1wiOltdLCBcInNpemVcIjogXCIwLDNsXCJ9LFxuICB7XCJuYW1lXCI6XCJXYXRlciBCb3R0bGVcIixcInByaWNlXCI6XCIzLDAwIOKCrFwiLFwiY2F0ZWdvcnlcIjpcIkdldHLDpG5rZSAoRHJpbmtzKVwiLFwiaW5ncmVkaWVudHNcIjpbXSwgXCJzaXplXCI6IFwiMCw1bFwifSxcbiAge1wibmFtZVwiOlwiQ2hpY2tlbiBDdXJyeVwiLFwicHJpY2VcIjpcIjEwLDAwIOKCrFwiLFwiY2F0ZWdvcnlcIjpcIlNwZXppYWxpdMOkdGVuIHZvbSBIdWhuIG1pdCBSZWlzXCIsXCJpbmdyZWRpZW50c1wiOltdfSxcbiAge1wibmFtZVwiOlwiQ2hpY2tlbiBLb3JtYVwiLFwicHJpY2VcIjpcIjEwLDAwIOKCrFwiLFwiY2F0ZWdvcnlcIjpcIlNwZXppYWxpdMOkdGVuIHZvbSBIdWhuIG1pdCBSZWlzXCIsXCJpbmdyZWRpZW50c1wiOltcIk1hbmRlbG5cIiwgXCJTYWhuZVwiLCBcIktva29zbnVzc1wiLCBcImZlaW5lbiBHZXfDvHJ6ZW5cIl19LFxuICB7XCJuYW1lXCI6XCJHbGFzIFByb3NlY2NvIDE1JSB2b2xcIixcInByaWNlXCI6XCI1LDkwIOKCrFwiLFwiY2F0ZWdvcnlcIjpcIkFwZXJpdGlmc1wiLFwiaW5ncmVkaWVudHNcIjpbXSwgXCJzaXplXCI6IFwiMCwybFwifSxcbiAge1wibmFtZVwiOlwiSW5kaXNjaGVyIFdlacOfd2VpblwiLFwicHJpY2VcIjpcIjYsOTAg4oKsXCIsXCJjYXRlZ29yeVwiOlwiSW5kaXNjaGUgV2VpbmVcIixcImluZ3JlZGllbnRzXCI6W10sIFwic2l6ZVwiOiBcIjAsMmxcIn0sXG4gIHtcIm5hbWVcIjpcIkluZGlzY2hlciBXZWnDn3dlaW5cIixcInByaWNlXCI6XCIyMSwwMCDigqxcIixcImNhdGVnb3J5XCI6XCJJbmRpc2NoZSBXZWluZVwiLFwiaW5ncmVkaWVudHNcIjpbXSwgXCJzaXplXCI6IFwiMCw3NWxcIn1cbl1cblxuLy8gQkFEIEVYQU1QTEUgKGRvIE5PVCBkbyB0aGlzISk6XG4vLyB7XCJuYW1lXCI6IFwiV2F0ZXIgQm90dGxlICgwLDNsKSAyLDAwIOKCrCAoMCw1bCkgMywwMCDigqxcIiwgXCJwcmljZVwiOiBcIlwiLCAuLi59XG5gO1xuXG4gIC8vIENhbGwgR2VtaW5pIHZpYSBHZW5raXRcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWkuZ2VuZXJhdGUoW1xuICAgIHsgdGV4dDogcHJvbXB0IH0sXG4gICAgeyBtZWRpYTogeyB1cmw6IHBkZkRhdGFVcmkgfSB9XG4gIF0pO1xuICBjb25zb2xlLmxvZygnR0VOS0lUIFJBVyBSRVNVTFQ6JywgcmVzdWx0KTtcblxuICAvLyBFeHRyYWN0IHRleHQsIGZyb20gY29kZSBibG9jayBvciByYXdcbiAgbGV0IHRleHQgPSB0eXBlb2YgcmVzdWx0LnRleHQgPT09ICdzdHJpbmcnID8gcmVzdWx0LnRleHQgOiAnJztcbiAgbGV0IGNsZWFuVGV4dCA9ICcnO1xuICBjb25zdCBqc29uTWF0Y2ggPSB0ZXh0Lm1hdGNoKC9gYGBqc29uKFtcXHNcXFNdKj8pYGBgLykgfHwgdGV4dC5tYXRjaCgvYGBgKFtcXHNcXFNdKj8pYGBgLyk7XG4gIGlmIChqc29uTWF0Y2gpIHtcbiAgICBjbGVhblRleHQgPSBqc29uTWF0Y2hbMV0udHJpbSgpO1xuICB9IGVsc2Uge1xuICAgIGNsZWFuVGV4dCA9IHRleHQudHJpbSgpO1xuICB9XG5cbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvZGUgZmVuY2VzIGFuZCBjb21tZW50cywganVzdCBpbiBjYXNlXG4gIGNsZWFuVGV4dCA9IGNsZWFuVGV4dFxuICAgIC5yZXBsYWNlKC9gYGAvZywgJycpXG4gICAgLnJlcGxhY2UoL15cXHMqXFwvXFwvLiokL2dtLCAnJylcbiAgICAudHJpbSgpO1xuXG4gIC8vIERFQlVHOiBTZWUgd2hhdCB3ZSBhcmUgdHJ5aW5nIHRvIHBhcnNlXG4gIGNvbnNvbGUubG9nKCdDTEVBTiBKU09OIFRPIFBBUlNFOicsIGNsZWFuVGV4dCk7XG5cbiAgbGV0IGl0ZW1zOiBhbnlbXSA9IFtdO1xuICB0cnkge1xuICAgIC8vIDEuIFRyeSBzdHJhaWdodCBwYXJzZVxuICAgIGl0ZW1zID0gSlNPTi5wYXJzZShjbGVhblRleHQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gMi4gVHJ5IGpzb25yZXBhaXJcbiAgICB0cnkge1xuICAgICAgaXRlbXMgPSBKU09OLnBhcnNlKGpzb25yZXBhaXIoY2xlYW5UZXh0KSk7XG4gICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgIC8vIDMuIFRyeSBiZXN0LWVmZm9ydCByZWNvdmVyeSBmb3IgdHJ1bmNhdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFydGlhbCA9IHJlY292ZXJMb25nZXN0VmFsaWRBcnJheShjbGVhblRleHQpO1xuICAgICAgICBpdGVtcyA9IEpTT04ucGFyc2UocGFydGlhbCk7XG4gICAgICB9IGNhdGNoIChlMykge1xuICAgICAgICAvLyA0LiBHaXZlIHVwLCBzaG93IG5vdGhpbmdcbiAgICAgICAgaXRlbXMgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBQb3N0LXByb2Nlc3M6IElmIGEgc2luZ2xlIGl0ZW0gY29udGFpbnMgbXVsdGlwbGUgdmFyaWFudHMgaW4gcHJpY2Ugb3IgbmFtZSwgc3BsaXQgdGhlbSBpbnRvIHNlcGFyYXRlIGl0ZW1zXG4gIGNvbnN0IHZhcmlhbnRSZWdleCA9IC8oWzAtOV0rW1xcLixdWzAtOV0rXFxzKihsfGNsfG1sfGd8a2d8THxDTHxNTHxHfEtHKT8pW15cXGRdKihcXGQrW1xcLixdXFxkK1xccyoo4oKsfEVVUnxVU0R8R0JQfFxcJCkpL2dpO1xuICBsZXQgZXhwYW5kZWQ6IGFueVtdID0gW107XG4gIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgIGlmIChpdGVtICYmIHR5cGVvZiBpdGVtLnByaWNlID09PSAnc3RyaW5nJyAmJiB2YXJpYW50UmVnZXgudGVzdChpdGVtLnByaWNlKSkge1xuICAgICAgLy8gZS5nLiBwcmljZTogXCIoMCwzbCkgMiwwMCDigqwgKDAsNWwpIDMsMDAg4oKsXCJcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBbLi4uaXRlbS5wcmljZS5tYXRjaEFsbCh2YXJpYW50UmVnZXgpXTtcbiAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICAgICAgZXhwYW5kZWQucHVzaCh7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgcHJpY2U6IG1hdGNoWzNdLnRyaW0oKSxcbiAgICAgICAgICAgIHNpemU6IG1hdGNoWzFdLnRyaW0oKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZXhwYW5kZWQucHVzaChpdGVtKTtcbiAgfVxuXG4gIC8vIFBvc3QtcHJvY2VzczogSWYgcHJpY2UgaXMgbWlzc2luZyBidXQgbmFtZSBjb250YWlucyBhIHByaWNlLCBleHRyYWN0IGl0XG4gIGNvbnN0IHByaWNlUmVnZXggPSAvWy3igJPigJRdXFxzKihcXGQrW1xcLixdXFxkKylcXHMqKEVVUnxVU0R8R0JQfOKCrHxcXCQpPy9pO1xuICBjb25zdCBwcm9jZXNzZWQgPSBBcnJheS5pc0FycmF5KGV4cGFuZGVkKSA/IGV4cGFuZGVkLm1hcCgoaXRlbSkgPT4ge1xuICAgIGlmIChpdGVtICYmIHR5cGVvZiBpdGVtLm5hbWUgPT09ICdzdHJpbmcnICYmICghaXRlbS5wcmljZSB8fCBpdGVtLnByaWNlID09PSAnJykpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gaXRlbS5uYW1lLm1hdGNoKHByaWNlUmVnZXgpO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IHByaWNlU3RyID0gbWF0Y2hbMV0gKyAobWF0Y2hbMl0gPyAnICcgKyBtYXRjaFsyXSA6ICcnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgIHByaWNlOiBwcmljZVN0ci50cmltKCksXG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lLnJlcGxhY2UocHJpY2VSZWdleCwgJycpLnRyaW0oKS5yZXBsYWNlKC9bLeKAk+KAlF1cXHMqJC8sICcnKS50cmltKCksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xuICB9KSA6IFtdO1xuXG4gIC8vIE9ubHkgZmlsdGVyIGZvciB2YWxpZCBuYW1lIGZpZWxkXG4gIGNvbnN0IGZpbHRlcmVkID0gQXJyYXkuaXNBcnJheShwcm9jZXNzZWQpID8gcHJvY2Vzc2VkLmZpbHRlcihcbiAgICAoaXRlbSkgPT4gaXRlbSAmJiB0eXBlb2YgaXRlbS5uYW1lID09PSAnc3RyaW5nJyAmJiBpdGVtLm5hbWUubGVuZ3RoID4gMFxuICApIDogW107XG5cbiAgLy8gTWVyZ2UgaXRlbXMgd2l0aCBzYW1lIG5hbWUvY2F0ZWdvcnkgaW50byBhIHNpbmdsZSBvYmplY3Qgd2l0aCBzaXplcyBhcnJheVxuICBjb25zdCBtZXJnZWRNYXAgPSBuZXcgTWFwKCk7XG4gIGZvciAoY29uc3QgaXRlbSBvZiBmaWx0ZXJlZCkge1xuICAgIGNvbnN0IGtleSA9IGAke2l0ZW0ubmFtZX18fCR7aXRlbS5jYXRlZ29yeX1gO1xuICAgIGlmICghbWVyZ2VkTWFwLmhhcyhrZXkpKSB7XG4gICAgICAvLyBTdGFydCBuZXcgZW50cnlcbiAgICAgIG1lcmdlZE1hcC5zZXQoa2V5LCB7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHNpemVzOiBpdGVtLnNpemUgfHwgaXRlbS5zaXplcyA/IFtdIDogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlZE1hcC5nZXQoa2V5KTtcbiAgICAvLyBJZiBpdGVtIGhhcyBzaXplL3ByaWNlLCBhZGQgdG8gc2l6ZXMgYXJyYXlcbiAgICBpZiAoaXRlbS5zaXplIHx8IChpdGVtLnByaWNlICYmIGl0ZW0ucHJpY2UgIT09ICcnKSkge1xuICAgICAgaWYgKCFtZXJnZWQuc2l6ZXMpIG1lcmdlZC5zaXplcyA9IFtdO1xuICAgICAgbWVyZ2VkLnNpemVzLnB1c2goe1xuICAgICAgICBzaXplOiBpdGVtLnNpemUgfHwgKGl0ZW0uc2l6ZXMgJiYgaXRlbS5zaXplc1swXT8uc2l6ZSkgfHwgJycsXG4gICAgICAgIHByaWNlOiBpdGVtLnByaWNlIHx8IChpdGVtLnNpemVzICYmIGl0ZW0uc2l6ZXNbMF0/LnByaWNlKSB8fCAnJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvLyBGaW5hbGl6ZSBtZXJnZWQgbGlzdFxuICBjb25zdCBtZXJnZWQgPSBBcnJheS5mcm9tKG1lcmdlZE1hcC52YWx1ZXMoKSkubWFwKGl0ZW0gPT4ge1xuICAgIGlmIChpdGVtLnNpemVzICYmIGl0ZW0uc2l6ZXMubGVuZ3RoID09PSAxICYmICghaXRlbS5zaXplc1swXS5zaXplIHx8IGl0ZW0uc2l6ZXNbMF0uc2l6ZS50cmltKCkgPT09ICcnKSkge1xuICAgICAgLy8gT25seSBvbmUgc2l6ZSBhbmQgaXQncyBlbXB0eTogbW92ZSBwcmljZSB0byB0b3AtbGV2ZWxcbiAgICAgIHJldHVybiB7IC4uLml0ZW0sIHByaWNlOiBpdGVtLnNpemVzWzBdLnByaWNlLCBzaXplczogdW5kZWZpbmVkIH07XG4gICAgfSBlbHNlIGlmIChpdGVtLnNpemVzICYmIGl0ZW0uc2l6ZXMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gUmVtb3ZlIHRvcC1sZXZlbCBwcmljZS9zaXplIGlmIG11bHRpcGxlIHNpemVzXG4gICAgICBjb25zdCB7IHByaWNlLCBzaXplLCAuLi5yZXN0IH0gPSBpdGVtO1xuICAgICAgcmV0dXJuIHsgLi4ucmVzdCwgc2l6ZXM6IGl0ZW0uc2l6ZXMgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2luZ2xlIHNpemUgb3Igbm8gc2l6ZXNcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQWZ0ZXIgbWVyZ2luZyBhbmQgYmVmb3JlIHJldHVybmluZywgZW5zdXJlIGV2ZXJ5IGl0ZW0gaGFzIGEgdW5pcXVlIGlkXG4gIGNvbnN0IG1lcmdlZFdpdGhJZHMgPSBtZXJnZWQubWFwKGl0ZW0gPT4ge1xuICAgIGlmIChpdGVtLmlkICYmIHR5cGVvZiBpdGVtLmlkID09PSAnc3RyaW5nJyAmJiBpdGVtLmlkLmxlbmd0aCA+IDApIHJldHVybiBpdGVtO1xuICAgIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGlkIGZyb20gbmFtZSwgY2F0ZWdvcnksIHByaWNlLCBhbmQgc2l6ZSAoaWYgcHJlc2VudClcbiAgICBsZXQgaWQgPSBgJHtpdGVtLm5hbWV9X18ke2l0ZW0uY2F0ZWdvcnl9YDtcbiAgICBpZiAoaXRlbS5wcmljZSkgaWQgKz0gYF9fJHtpdGVtLnByaWNlfWA7XG4gICAgaWYgKGl0ZW0uc2l6ZSkgaWQgKz0gYF9fJHtpdGVtLnNpemV9YDtcbiAgICBpZiAoaXRlbS5zaXplcyAmJiBBcnJheS5pc0FycmF5KGl0ZW0uc2l6ZXMpICYmIGl0ZW0uc2l6ZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWQgKz0gJ19fJyArIGl0ZW0uc2l6ZXMubWFwKChzejogeyBzaXplOiBzdHJpbmc7IHByaWNlOiBzdHJpbmcgfSkgPT4gYCR7c3ouc2l6ZX1fJHtzei5wcmljZX1gKS5qb2luKCdfXycpO1xuICAgIH1cbiAgICByZXR1cm4geyAuLi5pdGVtLCBpZCB9O1xuICB9KTtcblxuICAvLyBJbmdyZWRpZW50IGVucmljaG1lbnQgbG9naWNcbiAgbGV0IGludmVudG9yeTogYW55W10gPSBbXTtcbiAgbGV0IG1lbnVEaXNoZXM6IGFueVtdID0gW107XG4gIGlmICh1c2VySWQpIHtcbiAgICB0cnkgeyBpbnZlbnRvcnkgPSBnZXRJbnZlbnRvcnkodXNlcklkKTsgfSBjYXRjaCB7fVxuICAgIHRyeSB7IG1lbnVEaXNoZXMgPSBnZXREaXNoZXModXNlcklkKTsgfSBjYXRjaCB7fVxuICB9XG5cbiAgLy8gSGVscGVyIHRvIGZpbmQgaW5ncmVkaWVudCB3aXRoIHF1YW50aXR5IGluIGludmVudG9yeSBvciBtZW51XG4gIGZ1bmN0aW9uIGZpbmRJbmdyZWRpZW50V2l0aFF1YW50aXR5KGluZ3JlZGllbnROYW1lOiBzdHJpbmcpOiB7IG5hbWU6IHN0cmluZywgcXVhbnRpdHk6IG51bWJlciwgdW5pdDogc3RyaW5nIH0gfCBudWxsIHtcbiAgICAvLyBDaGVjayBpbnZlbnRvcnlcbiAgICBpZiAoaW52ZW50b3J5ICYmIEFycmF5LmlzQXJyYXkoaW52ZW50b3J5KSkge1xuICAgICAgY29uc3QgaW52ID0gaW52ZW50b3J5LmZpbmQoaSA9PiBpLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gaW5ncmVkaWVudE5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAoaW52ICYmIGludi5xdWFudGl0eSAmJiBpbnYudW5pdCkge1xuICAgICAgICByZXR1cm4geyBuYW1lOiBpbnYubmFtZSwgcXVhbnRpdHk6IGludi5xdWFudGl0eSwgdW5pdDogaW52LnVuaXQgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQ2hlY2sgbWVudVxuICAgIGlmIChtZW51RGlzaGVzICYmIEFycmF5LmlzQXJyYXkobWVudURpc2hlcykpIHtcbiAgICAgIGZvciAoY29uc3QgZGlzaCBvZiBtZW51RGlzaGVzKSB7XG4gICAgICAgIGlmIChkaXNoLmluZ3JlZGllbnRzICYmIEFycmF5LmlzQXJyYXkoZGlzaC5pbmdyZWRpZW50cykpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGluZyBvZiBkaXNoLmluZ3JlZGllbnRzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGluZyA9PT0gJ29iamVjdCcgJiYgaW5nLmludmVudG9yeUl0ZW1OYW1lICYmIGluZy5pbnZlbnRvcnlJdGVtTmFtZS50b0xvd2VyQ2FzZSgpID09PSBpbmdyZWRpZW50TmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IG5hbWU6IGluZy5pbnZlbnRvcnlJdGVtTmFtZSwgcXVhbnRpdHk6IGluZy5xdWFudGl0eVBlckRpc2gsIHVuaXQ6IGluZy51bml0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gQ29sbGVjdCBhbGwgQUkgaW5ncmVkaWVudCBnZW5lcmF0aW9uIHRhc2tzXG4gIGNvbnN0IGFpVGFza3M6IHsgaWR4OiBudW1iZXIsIG5hbWU6IHN0cmluZywgbWlzc2luZzogc3RyaW5nW10gfVtdID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWVyZ2VkV2l0aElkcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGl0ZW0gPSBtZXJnZWRXaXRoSWRzW2ldO1xuICAgIGlmIChpdGVtLmluZ3JlZGllbnRzICYmIEFycmF5LmlzQXJyYXkoaXRlbS5pbmdyZWRpZW50cykgJiYgaXRlbS5pbmdyZWRpZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBtaXNzaW5nOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBpbmcgb2YgaXRlbS5pbmdyZWRpZW50cykge1xuICAgICAgICBsZXQgZm91bmQgPSBmaW5kSW5ncmVkaWVudFdpdGhRdWFudGl0eShpbmcpO1xuICAgICAgICBpZiAoIWZvdW5kKSBtaXNzaW5nLnB1c2goaW5nKTtcbiAgICAgIH1cbiAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYWlUYXNrcy5wdXNoKHsgaWR4OiBpLCBuYW1lOiBpdGVtLm5hbWUsIG1pc3NpbmcgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpdGVtLm5hbWUpIHtcbiAgICAgIGFpVGFza3MucHVzaCh7IGlkeDogaSwgbmFtZTogaXRlbS5uYW1lLCBtaXNzaW5nOiBbXSB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBCYXRjaCBBSSBjYWxscyBmb3IgaW5ncmVkaWVudCBnZW5lcmF0aW9uIChjb25jdXJyZW5jeSBsaW1pdCA1KVxuICBjb25zdCBhaVJlc3VsdHMgPSBhd2FpdCBiYXRjaFdpdGhDb25jdXJyZW5jeUxpbWl0KGFpVGFza3MsIGFzeW5jICh0YXNrKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBnZW5lcmF0ZUluZ3JlZGllbnRzTGlzdCh7IGRpc2hOYW1lOiB0YXNrLm5hbWUsIG51bWJlck9mU2VydmluZ3MgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4geyBpbmdyZWRpZW50czogW10gfTtcbiAgICB9XG4gIH0sIDUpO1xuXG4gIC8vIE1hcCBBSSByZXN1bHRzIGJhY2sgdG8gbWVudSBpdGVtc1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFpVGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7IGlkeCwgbWlzc2luZyB9ID0gYWlUYXNrc1tpXTtcbiAgICBjb25zdCBhaVJlc3VsdCA9IGFpUmVzdWx0c1tpXTtcbiAgICBpZiAoIW1lcmdlZFdpdGhJZHNbaWR4XS5pbmdyZWRpZW50cyB8fCBtZXJnZWRXaXRoSWRzW2lkeF0uaW5ncmVkaWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBObyBpbmdyZWRpZW50cywgdXNlIGZ1bGwgQUkgbGlzdFxuICAgICAgLy8gTm9ybWFsaXplIHRvIHsgaW52ZW50b3J5SXRlbU5hbWUsIHF1YW50aXR5UGVyRGlzaCwgdW5pdCB9XG4gICAgICBtZXJnZWRXaXRoSWRzW2lkeF0uaW5ncmVkaWVudHMgPSBhaVJlc3VsdC5pbmdyZWRpZW50cy5tYXAoKGluZzogYW55KSA9PiAoe1xuICAgICAgICBpbnZlbnRvcnlJdGVtTmFtZTogaW5nLm5hbWUsXG4gICAgICAgIHF1YW50aXR5UGVyRGlzaDogaW5nLnF1YW50aXR5LFxuICAgICAgICB1bml0OiBpbmcudW5pdFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBvcmlnaW5hbCBpbmdyZWRpZW50cyBhcmUganVzdCBuYW1lcyAoc3RyaW5ncyksIGFuZCBBSSByZXR1cm5zIG9iamVjdHMsIHVzZSBBSSdzIGxpc3QgZGlyZWN0bHlcbiAgICAgIGlmIChcbiAgICAgICAgQXJyYXkuaXNBcnJheShtZXJnZWRXaXRoSWRzW2lkeF0uaW5ncmVkaWVudHMpICYmXG4gICAgICAgIG1lcmdlZFdpdGhJZHNbaWR4XS5pbmdyZWRpZW50cy5ldmVyeSgoaW5nOiBhbnkpID0+IHR5cGVvZiBpbmcgPT09ICdzdHJpbmcnKSAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KGFpUmVzdWx0LmluZ3JlZGllbnRzKSAmJlxuICAgICAgICBhaVJlc3VsdC5pbmdyZWRpZW50cy5sZW5ndGggPiAwICYmXG4gICAgICAgIGFpUmVzdWx0LmluZ3JlZGllbnRzLmV2ZXJ5KChhaWk6IGFueSkgPT4gdHlwZW9mIGFpaSA9PT0gJ29iamVjdCcgJiYgJ25hbWUnIGluIGFpaSAmJiAncXVhbnRpdHknIGluIGFpaSAmJiAndW5pdCcgaW4gYWlpKVxuICAgICAgKSB7XG4gICAgICAgIG1lcmdlZFdpdGhJZHNbaWR4XS5pbmdyZWRpZW50cyA9IGFpUmVzdWx0LmluZ3JlZGllbnRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT25seSBmaWxsIGluIG1pc3NpbmcgaW5ncmVkaWVudHNcbiAgICAgICAgY29uc3QgZW5yaWNoZWQ6IGFueVtdID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaW5nIG9mIG1lcmdlZFdpdGhJZHNbaWR4XS5pbmdyZWRpZW50cykge1xuICAgICAgICAgIGxldCBmb3VuZCA9IGZpbmRJbmdyZWRpZW50V2l0aFF1YW50aXR5KGluZyk7XG4gICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICBlbnJpY2hlZC5wdXNoKGZvdW5kKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmluZCBpbiBBSSByZXN1bHRcbiAgICAgICAgICAgIGNvbnN0IGFpSW5nID0gYWlSZXN1bHQuaW5ncmVkaWVudHMuZmluZChhaWkgPT4gYWlpLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gKHR5cGVvZiBpbmcgPT09ICdzdHJpbmcnID8gaW5nLnRvTG93ZXJDYXNlKCkgOiAnJykpO1xuICAgICAgICAgICAgaWYgKGFpSW5nKSB7XG4gICAgICAgICAgICAgIGVucmljaGVkLnB1c2goYWlJbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZW5yaWNoZWQucHVzaCh7IG5hbWU6IHR5cGVvZiBpbmcgPT09ICdzdHJpbmcnID8gaW5nIDogJycsIHF1YW50aXR5OiAwLCB1bml0OiAnJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm9ybWFsaXplIHRvIHsgaW52ZW50b3J5SXRlbU5hbWUsIHF1YW50aXR5UGVyRGlzaCwgdW5pdCB9XG4gICAgICAgIG1lcmdlZFdpdGhJZHNbaWR4XS5pbmdyZWRpZW50cyA9IGVucmljaGVkLm1hcCgoaW5nOiBhbnkpID0+ICh7XG4gICAgICAgICAgaW52ZW50b3J5SXRlbU5hbWU6IGluZy5uYW1lLFxuICAgICAgICAgIHF1YW50aXR5UGVyRGlzaDogaW5nLnF1YW50aXR5LFxuICAgICAgICAgIHVuaXQ6IGluZy51bml0XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWVyZ2VkV2l0aElkcztcbn1cblxuLy8gQWxpYXMgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBBUEkgaGFuZGxlclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4dHJhY3RNZW51SXRlbXNGcm9tUGRmV2l0aEdlbWluaShidWZmZXI6IEJ1ZmZlcik6IFByb21pc2U8YW55W10+IHtcbiAgLy8gQ29udmVydCBidWZmZXIgdG8gZGF0YSBVUklcbiAgY29uc3QgcGRmRGF0YVVyaSA9IGBkYXRhOmFwcGxpY2F0aW9uL3BkZjtiYXNlNjQsJHtidWZmZXIudG9TdHJpbmcoJ2Jhc2U2NCcpfWA7XG4gIGNvbnN0IGl0ZW1zID0gYXdhaXQgZXh0cmFjdE1lbnVGcm9tUGRmKHsgcGRmRGF0YVVyaSB9KTtcbiAgcmV0dXJuIGl0ZW1zO1xufSAiXSwibmFtZXMiOlsiYWkiLCJqc29ucmVwYWlyIiwiZ2V0SW52ZW50b3J5IiwiZ2V0RGlzaGVzIiwiZ2VuZXJhdGVJbmdyZWRpZW50c0xpc3QiLCJyZWNvdmVyTG9uZ2VzdFZhbGlkQXJyYXkiLCJqc29uU3RyaW5nIiwicmVwbGFjZSIsImFyclN0YXJ0IiwiaW5kZXhPZiIsImxhc3RPYmpDbG9zZSIsImxhc3RJbmRleE9mIiwiY3V0Iiwic2xpY2UiLCJ0cmltIiwiZW5kc1dpdGgiLCJiYXRjaFdpdGhDb25jdXJyZW5jeUxpbWl0IiwiaXRlbXMiLCJmbiIsImxpbWl0IiwicmVzdWx0cyIsImlkeCIsImV4ZWN1dGluZyIsInJ1biIsIml0ZW0iLCJpIiwibGVuZ3RoIiwicCIsInB1c2giLCJQcm9taXNlIiwicmFjZSIsImoiLCJ0aGVuIiwic3BsaWNlIiwiYWxsIiwiZXh0cmFjdE1lbnVGcm9tUGRmIiwicGRmRGF0YVVyaSIsInVzZXJJZCIsIm51bWJlck9mU2VydmluZ3MiLCJwcm9tcHQiLCJyZXN1bHQiLCJnZW5lcmF0ZSIsInRleHQiLCJtZWRpYSIsInVybCIsImNvbnNvbGUiLCJsb2ciLCJjbGVhblRleHQiLCJqc29uTWF0Y2giLCJtYXRjaCIsIkpTT04iLCJwYXJzZSIsImUiLCJlMiIsInBhcnRpYWwiLCJlMyIsInZhcmlhbnRSZWdleCIsImV4cGFuZGVkIiwicHJpY2UiLCJ0ZXN0IiwibWF0Y2hlcyIsIm1hdGNoQWxsIiwic2l6ZSIsInByaWNlUmVnZXgiLCJwcm9jZXNzZWQiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJuYW1lIiwicHJpY2VTdHIiLCJmaWx0ZXJlZCIsImZpbHRlciIsIm1lcmdlZE1hcCIsIk1hcCIsImtleSIsImNhdGVnb3J5IiwiaGFzIiwic2V0Iiwic2l6ZXMiLCJ1bmRlZmluZWQiLCJtZXJnZWQiLCJnZXQiLCJmcm9tIiwidmFsdWVzIiwicmVzdCIsIm1lcmdlZFdpdGhJZHMiLCJpZCIsInN6Iiwiam9pbiIsImludmVudG9yeSIsIm1lbnVEaXNoZXMiLCJmaW5kSW5ncmVkaWVudFdpdGhRdWFudGl0eSIsImluZ3JlZGllbnROYW1lIiwiaW52IiwiZmluZCIsInRvTG93ZXJDYXNlIiwicXVhbnRpdHkiLCJ1bml0IiwiZGlzaCIsImluZ3JlZGllbnRzIiwiaW5nIiwiaW52ZW50b3J5SXRlbU5hbWUiLCJxdWFudGl0eVBlckRpc2giLCJhaVRhc2tzIiwibWlzc2luZyIsImZvdW5kIiwiYWlSZXN1bHRzIiwidGFzayIsImRpc2hOYW1lIiwiYWlSZXN1bHQiLCJldmVyeSIsImFpaSIsImVucmljaGVkIiwiYWlJbmciLCJleHRyYWN0TWVudUl0ZW1zRnJvbVBkZldpdGhHZW1pbmkiLCJidWZmZXIiLCJ0b1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/aiMenuExtractor.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/inventoryService.ts":
/*!*************************************!*\
  !*** ./src/lib/inventoryService.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addIngredientToInventoryIfNotExists: () => (/* binding */ addIngredientToInventoryIfNotExists),\n/* harmony export */   addInventoryItem: () => (/* binding */ addInventoryItem),\n/* harmony export */   addOrUpdateIngredientInInventory: () => (/* binding */ addOrUpdateIngredientInInventory),\n/* harmony export */   getInventory: () => (/* binding */ getInventory),\n/* harmony export */   getInventoryAlerts: () => (/* binding */ getInventoryAlerts),\n/* harmony export */   getInventoryAlertsDetailed: () => (/* binding */ getInventoryAlertsDetailed),\n/* harmony export */   recordIngredientUsage: () => (/* binding */ recordIngredientUsage),\n/* harmony export */   removeInventoryItem: () => (/* binding */ removeInventoryItem),\n/* harmony export */   saveInventory: () => (/* binding */ saveInventory),\n/* harmony export */   updateInventoryAlerts: () => (/* binding */ updateInventoryAlerts),\n/* harmony export */   updateInventoryItem: () => (/* binding */ updateInventoryItem)\n/* harmony export */ });\n// Inventory Service\n// Provides functions to manage inventory in localStorage\nconst INVENTORY_KEY_PREFIX = \"inventory_\";\nfunction getInventory(userId) {\n    if (true) return [];\n    const data = localStorage.getItem(INVENTORY_KEY_PREFIX + userId);\n    if (!data) return [];\n    try {\n        return JSON.parse(data);\n    } catch  {\n        return [];\n    }\n}\nfunction addInventoryItem(userId, item) {\n    if (true) return null;\n    const inventory = getInventory(userId);\n    const newItem = {\n        ...item,\n        id: item.id || Date.now().toString(),\n        quantityUsed: item.quantityUsed || 0,\n        totalUsed: item.totalUsed || 0\n    };\n    inventory.push(newItem);\n    localStorage.setItem(INVENTORY_KEY_PREFIX + userId, JSON.stringify(inventory));\n    return newItem;\n}\nfunction updateInventoryItem(userId, item) {\n    if (true) return false;\n    const inventory = getInventory(userId);\n    const idx = inventory.findIndex((i)=>i.id === item.id);\n    if (idx === -1) return false;\n    inventory[idx] = item;\n    // Always persist the updated inventory array\n    localStorage.setItem(INVENTORY_KEY_PREFIX + userId, JSON.stringify(inventory));\n    return true;\n}\nfunction removeInventoryItem(userId, itemId) {\n    if (true) return false;\n    const inventory = getInventory(userId);\n    const newInventory = inventory.filter((i)=>i.id !== itemId);\n    if (newInventory.length === inventory.length) return false;\n    localStorage.setItem(INVENTORY_KEY_PREFIX + userId, JSON.stringify(newInventory));\n    return true;\n}\nfunction addOrUpdateIngredientInInventory(userId, ingredient) {\n    const inventory = getInventory(userId);\n    const idx = inventory.findIndex((i)=>i.name.toLowerCase() === ingredient.name.toLowerCase());\n    if (idx !== -1) {\n        inventory[idx] = {\n            ...inventory[idx],\n            ...ingredient,\n            quantityUsed: inventory[idx].quantityUsed || 0,\n            totalUsed: inventory[idx].totalUsed || 0\n        };\n    } else {\n        inventory.push({\n            ...ingredient,\n            id: ingredient.id || Date.now().toString(),\n            quantityUsed: ingredient.quantityUsed || 0,\n            totalUsed: ingredient.totalUsed || 0\n        });\n    }\n    localStorage.setItem(INVENTORY_KEY_PREFIX + userId, JSON.stringify(inventory));\n    return ingredient;\n}\nfunction addIngredientToInventoryIfNotExists(userId, ingredient) {\n    const inventory = getInventory(userId);\n    const exists = inventory.some((i)=>i.name.toLowerCase() === ingredient.name.toLowerCase());\n    if (!exists) {\n        addInventoryItem(userId, ingredient);\n        return true;\n    }\n    return false;\n}\nfunction getInventoryAlerts(userId) {\n    const inventory = getInventory(userId);\n    return inventory.filter((i)=>i.lowStockThreshold && i.quantity <= i.lowStockThreshold).map((i)=>`Low stock: ${i.name} (${i.quantity} ${i.unit})`);\n}\nfunction updateInventoryAlerts(userId) {\n    if (true) return;\n    // Placeholder: In a real app, this would update alert state in a DB or context\n    // For now, just triggers a localStorage event\n    localStorage.setItem(\"inventory_alerts_\" + userId, Date.now().toString());\n}\nfunction saveInventory(userId, inventory) {\n    localStorage.setItem(INVENTORY_KEY_PREFIX + userId, JSON.stringify(inventory));\n}\n// Generate inventory alerts for low stock items\nfunction getInventoryAlertsDetailed(userId) {\n    const inventory = getInventory(userId);\n    return inventory.filter((i)=>i.lowStockThreshold !== undefined && i.quantity <= (i.lowStockThreshold ?? 0)).map((i)=>({\n            itemId: i.id,\n            itemName: i.name,\n            quantity: i.quantity,\n            unit: i.unit,\n            message: `Low stock: ${i.name} (${i.quantity} ${i.unit})`\n        }));\n}\n// Placeholder for recordIngredientUsage to resolve import in posInventoryIntegration\nfunction recordIngredientUsage(userId, dish, quantity) {\n// No-op placeholder\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLQSxFQUFFYyxpQkFBaUIsS0FBS08sYUFBYXJCLEVBQUVlLFFBQVEsSUFBS2YsQ0FBQUEsRUFBRWMsaUJBQWlCLElBQUksSUFDdkZFLEdBQUcsQ0FBQ2hCLENBQUFBLElBQU07WUFDVEUsUUFBUUYsRUFBRVosRUFBRTtZQUNaa0MsVUFBVXRCLEVBQUVRLElBQUk7WUFDaEJPLFVBQVVmLEVBQUVlLFFBQVE7WUFDcEJFLE1BQU1qQixFQUFFaUIsSUFBSTtZQUNaTSxTQUFTLENBQUMsV0FBVyxFQUFFdkIsRUFBRVEsSUFBSSxDQUFDLEVBQUUsRUFBRVIsRUFBRWUsUUFBUSxDQUFDLENBQUMsRUFBRWYsRUFBRWlCLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDM0Q7QUFDSjtBQUVBLHFGQUFxRjtBQUM5RSxTQUFTTyxzQkFBc0I5QyxNQUFjLEVBQUUrQyxJQUFTLEVBQUVWLFFBQWdCO0FBQy9FLG9CQUFvQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYm1lc2l0ZXIzNjAtbWFya2V0cGxhY2UvLi9zcmMvbGliL2ludmVudG9yeVNlcnZpY2UudHM/MDJlNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbnZlbnRvcnkgU2VydmljZVxuLy8gUHJvdmlkZXMgZnVuY3Rpb25zIHRvIG1hbmFnZSBpbnZlbnRvcnkgaW4gbG9jYWxTdG9yYWdlXG5cbmV4cG9ydCBpbnRlcmZhY2UgSW52ZW50b3J5SXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcXVhbnRpdHk6IG51bWJlcjtcbiAgdW5pdDogc3RyaW5nO1xuICBjYXRlZ29yeT86IHN0cmluZztcbiAgbG93U3RvY2tUaHJlc2hvbGQ/OiBudW1iZXI7XG4gIGV4cGlyeURhdGU/OiBzdHJpbmc7XG4gIGltYWdlPzogc3RyaW5nO1xuICBhaUhpbnQ/OiBzdHJpbmc7XG4gIHF1YW50aXR5VXNlZD86IG51bWJlcjtcbiAgdG90YWxVc2VkPzogbnVtYmVyO1xufVxuXG5jb25zdCBJTlZFTlRPUllfS0VZX1BSRUZJWCA9ICdpbnZlbnRvcnlfJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEludmVudG9yeSh1c2VySWQ6IHN0cmluZyk6IEludmVudG9yeUl0ZW1bXSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIFtdO1xuICBjb25zdCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oSU5WRU5UT1JZX0tFWV9QUkVGSVggKyB1c2VySWQpO1xuICBpZiAoIWRhdGEpIHJldHVybiBbXTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKSBhcyBJbnZlbnRvcnlJdGVtW107XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkSW52ZW50b3J5SXRlbSh1c2VySWQ6IHN0cmluZywgaXRlbTogSW52ZW50b3J5SXRlbSk6IEludmVudG9yeUl0ZW0gfCBudWxsIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgaW52ZW50b3J5ID0gZ2V0SW52ZW50b3J5KHVzZXJJZCk7XG4gIGNvbnN0IG5ld0l0ZW0gPSB7IC4uLml0ZW0sIGlkOiBpdGVtLmlkIHx8IERhdGUubm93KCkudG9TdHJpbmcoKSwgcXVhbnRpdHlVc2VkOiBpdGVtLnF1YW50aXR5VXNlZCB8fCAwLCB0b3RhbFVzZWQ6IGl0ZW0udG90YWxVc2VkIHx8IDAgfTtcbiAgaW52ZW50b3J5LnB1c2gobmV3SXRlbSk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKElOVkVOVE9SWV9LRVlfUFJFRklYICsgdXNlcklkLCBKU09OLnN0cmluZ2lmeShpbnZlbnRvcnkpKTtcbiAgcmV0dXJuIG5ld0l0ZW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVJbnZlbnRvcnlJdGVtKHVzZXJJZDogc3RyaW5nLCBpdGVtOiBJbnZlbnRvcnlJdGVtKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBpbnZlbnRvcnkgPSBnZXRJbnZlbnRvcnkodXNlcklkKTtcbiAgY29uc3QgaWR4ID0gaW52ZW50b3J5LmZpbmRJbmRleChpID0+IGkuaWQgPT09IGl0ZW0uaWQpO1xuICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuICBpbnZlbnRvcnlbaWR4XSA9IGl0ZW07XG4gIC8vIEFsd2F5cyBwZXJzaXN0IHRoZSB1cGRhdGVkIGludmVudG9yeSBhcnJheVxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShJTlZFTlRPUllfS0VZX1BSRUZJWCArIHVzZXJJZCwgSlNPTi5zdHJpbmdpZnkoaW52ZW50b3J5KSk7XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSW52ZW50b3J5SXRlbSh1c2VySWQ6IHN0cmluZywgaXRlbUlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGludmVudG9yeSA9IGdldEludmVudG9yeSh1c2VySWQpO1xuICBjb25zdCBuZXdJbnZlbnRvcnkgPSBpbnZlbnRvcnkuZmlsdGVyKGkgPT4gaS5pZCAhPT0gaXRlbUlkKTtcbiAgaWYgKG5ld0ludmVudG9yeS5sZW5ndGggPT09IGludmVudG9yeS5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oSU5WRU5UT1JZX0tFWV9QUkVGSVggKyB1c2VySWQsIEpTT04uc3RyaW5naWZ5KG5ld0ludmVudG9yeSkpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE9yVXBkYXRlSW5ncmVkaWVudEluSW52ZW50b3J5KHVzZXJJZDogc3RyaW5nLCBpbmdyZWRpZW50OiBJbnZlbnRvcnlJdGVtKTogSW52ZW50b3J5SXRlbSB7XG4gIGNvbnN0IGludmVudG9yeSA9IGdldEludmVudG9yeSh1c2VySWQpO1xuICBjb25zdCBpZHggPSBpbnZlbnRvcnkuZmluZEluZGV4KGkgPT4gaS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IGluZ3JlZGllbnQubmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICBpbnZlbnRvcnlbaWR4XSA9IHsgLi4uaW52ZW50b3J5W2lkeF0sIC4uLmluZ3JlZGllbnQsIHF1YW50aXR5VXNlZDogaW52ZW50b3J5W2lkeF0ucXVhbnRpdHlVc2VkIHx8IDAsIHRvdGFsVXNlZDogaW52ZW50b3J5W2lkeF0udG90YWxVc2VkIHx8IDAgfTtcbiAgfSBlbHNlIHtcbiAgICBpbnZlbnRvcnkucHVzaCh7IC4uLmluZ3JlZGllbnQsIGlkOiBpbmdyZWRpZW50LmlkIHx8IERhdGUubm93KCkudG9TdHJpbmcoKSwgcXVhbnRpdHlVc2VkOiBpbmdyZWRpZW50LnF1YW50aXR5VXNlZCB8fCAwLCB0b3RhbFVzZWQ6IGluZ3JlZGllbnQudG90YWxVc2VkIHx8IDAgfSk7XG4gIH1cbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oSU5WRU5UT1JZX0tFWV9QUkVGSVggKyB1c2VySWQsIEpTT04uc3RyaW5naWZ5KGludmVudG9yeSkpO1xuICByZXR1cm4gaW5ncmVkaWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEluZ3JlZGllbnRUb0ludmVudG9yeUlmTm90RXhpc3RzKHVzZXJJZDogc3RyaW5nLCBpbmdyZWRpZW50OiBJbnZlbnRvcnlJdGVtKTogYm9vbGVhbiB7XG4gIGNvbnN0IGludmVudG9yeSA9IGdldEludmVudG9yeSh1c2VySWQpO1xuICBjb25zdCBleGlzdHMgPSBpbnZlbnRvcnkuc29tZShpID0+IGkubmFtZS50b0xvd2VyQ2FzZSgpID09PSBpbmdyZWRpZW50Lm5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIGlmICghZXhpc3RzKSB7XG4gICAgYWRkSW52ZW50b3J5SXRlbSh1c2VySWQsIGluZ3JlZGllbnQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEludmVudG9yeUFsZXJ0cyh1c2VySWQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgaW52ZW50b3J5ID0gZ2V0SW52ZW50b3J5KHVzZXJJZCk7XG4gIHJldHVybiBpbnZlbnRvcnkuZmlsdGVyKGkgPT4gaS5sb3dTdG9ja1RocmVzaG9sZCAmJiBpLnF1YW50aXR5IDw9IGkubG93U3RvY2tUaHJlc2hvbGQpXG4gICAgLm1hcChpID0+IGBMb3cgc3RvY2s6ICR7aS5uYW1lfSAoJHtpLnF1YW50aXR5fSAke2kudW5pdH0pYCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVJbnZlbnRvcnlBbGVydHModXNlcklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gIC8vIFBsYWNlaG9sZGVyOiBJbiBhIHJlYWwgYXBwLCB0aGlzIHdvdWxkIHVwZGF0ZSBhbGVydCBzdGF0ZSBpbiBhIERCIG9yIGNvbnRleHRcbiAgLy8gRm9yIG5vdywganVzdCB0cmlnZ2VycyBhIGxvY2FsU3RvcmFnZSBldmVudFxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaW52ZW50b3J5X2FsZXJ0c18nICsgdXNlcklkLCBEYXRlLm5vdygpLnRvU3RyaW5nKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUludmVudG9yeSh1c2VySWQ6IHN0cmluZywgaW52ZW50b3J5OiBJbnZlbnRvcnlJdGVtW10pOiB2b2lkIHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oSU5WRU5UT1JZX0tFWV9QUkVGSVggKyB1c2VySWQsIEpTT04uc3RyaW5naWZ5KGludmVudG9yeSkpO1xufVxuXG4vLyBJbnZlbnRvcnkgYWxlcnQgdHlwZSBmb3IgbG93IHN0b2NrIG5vdGlmaWNhdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgSW52ZW50b3J5QWxlcnQge1xuICBpdGVtSWQ6IHN0cmluZztcbiAgaXRlbU5hbWU6IHN0cmluZztcbiAgcXVhbnRpdHk6IG51bWJlcjtcbiAgdW5pdDogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG59XG5cbi8vIEdlbmVyYXRlIGludmVudG9yeSBhbGVydHMgZm9yIGxvdyBzdG9jayBpdGVtc1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludmVudG9yeUFsZXJ0c0RldGFpbGVkKHVzZXJJZDogc3RyaW5nKTogSW52ZW50b3J5QWxlcnRbXSB7XG4gIGNvbnN0IGludmVudG9yeSA9IGdldEludmVudG9yeSh1c2VySWQpO1xuICByZXR1cm4gaW52ZW50b3J5XG4gICAgLmZpbHRlcihpID0+IGkubG93U3RvY2tUaHJlc2hvbGQgIT09IHVuZGVmaW5lZCAmJiBpLnF1YW50aXR5IDw9IChpLmxvd1N0b2NrVGhyZXNob2xkID8/IDApKVxuICAgIC5tYXAoaSA9PiAoe1xuICAgICAgaXRlbUlkOiBpLmlkLFxuICAgICAgaXRlbU5hbWU6IGkubmFtZSxcbiAgICAgIHF1YW50aXR5OiBpLnF1YW50aXR5LFxuICAgICAgdW5pdDogaS51bml0LFxuICAgICAgbWVzc2FnZTogYExvdyBzdG9jazogJHtpLm5hbWV9ICgke2kucXVhbnRpdHl9ICR7aS51bml0fSlgLFxuICAgIH0pKTtcbn1cblxuLy8gUGxhY2Vob2xkZXIgZm9yIHJlY29yZEluZ3JlZGllbnRVc2FnZSB0byByZXNvbHZlIGltcG9ydCBpbiBwb3NJbnZlbnRvcnlJbnRlZ3JhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZEluZ3JlZGllbnRVc2FnZSh1c2VySWQ6IHN0cmluZywgZGlzaDogYW55LCBxdWFudGl0eTogbnVtYmVyKTogdm9pZCB7XG4gIC8vIE5vLW9wIHBsYWNlaG9sZGVyXG59ICJdLCJuYW1lcyI6WyJJTlZFTlRPUllfS0VZX1BSRUZJWCIsImdldEludmVudG9yeSIsInVzZXJJZCIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiYWRkSW52ZW50b3J5SXRlbSIsIml0ZW0iLCJpbnZlbnRvcnkiLCJuZXdJdGVtIiwiaWQiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJxdWFudGl0eVVzZWQiLCJ0b3RhbFVzZWQiLCJwdXNoIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInVwZGF0ZUludmVudG9yeUl0ZW0iLCJpZHgiLCJmaW5kSW5kZXgiLCJpIiwicmVtb3ZlSW52ZW50b3J5SXRlbSIsIml0ZW1JZCIsIm5ld0ludmVudG9yeSIsImZpbHRlciIsImxlbmd0aCIsImFkZE9yVXBkYXRlSW5ncmVkaWVudEluSW52ZW50b3J5IiwiaW5ncmVkaWVudCIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsImFkZEluZ3JlZGllbnRUb0ludmVudG9yeUlmTm90RXhpc3RzIiwiZXhpc3RzIiwic29tZSIsImdldEludmVudG9yeUFsZXJ0cyIsImxvd1N0b2NrVGhyZXNob2xkIiwicXVhbnRpdHkiLCJtYXAiLCJ1bml0IiwidXBkYXRlSW52ZW50b3J5QWxlcnRzIiwic2F2ZUludmVudG9yeSIsImdldEludmVudG9yeUFsZXJ0c0RldGFpbGVkIiwidW5kZWZpbmVkIiwiaXRlbU5hbWUiLCJtZXNzYWdlIiwicmVjb3JkSW5ncmVkaWVudFVzYWdlIiwiZGlzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/inventoryService.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/menuService.ts":
/*!********************************!*\
  !*** ./src/lib/menuService.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addDish: () => (/* binding */ addDish),\n/* harmony export */   addDishToMenu: () => (/* binding */ addDishToMenu),\n/* harmony export */   getDishes: () => (/* binding */ getDishes),\n/* harmony export */   removeDish: () => (/* binding */ removeDish),\n/* harmony export */   saveDishes: () => (/* binding */ saveDishes),\n/* harmony export */   updateDish: () => (/* binding */ updateDish)\n/* harmony export */ });\n// Menu Service\n// Provides functions to manage menu items in localStorage\nconst MENU_KEY_PREFIX = \"menu_\";\nfunction getDishes(userId) {\n    if (true) return [];\n    const data = localStorage.getItem(MENU_KEY_PREFIX + userId);\n    if (!data) return [];\n    try {\n        return JSON.parse(data);\n    } catch  {\n        return [];\n    }\n}\nfunction saveDishes(userId, dishes) {\n    localStorage.setItem(MENU_KEY_PREFIX + userId, JSON.stringify(dishes));\n}\nfunction addDish(userId, dish) {\n    if (true) return null;\n    const dishes = getDishes(userId);\n    const newDish = {\n        ...dish,\n        id: dish.id || Date.now().toString()\n    };\n    dishes.push(newDish);\n    saveDishes(userId, dishes);\n    return newDish;\n}\nfunction updateDish(userId, dish) {\n    if (true) return false;\n    const dishes = getDishes(userId);\n    const idx = dishes.findIndex((d)=>d.id === dish.id);\n    if (idx === -1) return false;\n    dishes[idx] = dish;\n    saveDishes(userId, dishes);\n    return true;\n}\nfunction removeDish(userId, dishId) {\n    if (true) return false;\n    const dishes = getDishes(userId);\n    const newDishes = dishes.filter((d)=>d.id !== dishId);\n    if (newDishes.length === dishes.length) return false;\n    saveDishes(userId, newDishes);\n    return true;\n}\nconst addDishToMenu = addDish;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21lbnVTZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLGVBQWU7QUFDZiwwREFBMEQ7QUE0QjFELE1BQU1BLGtCQUFrQjtBQUVqQixTQUFTQyxVQUFVQyxNQUFjO0lBQ3RDLElBQUksSUFBa0IsRUFBYSxPQUFPLEVBQUU7SUFDNUMsTUFBTUMsT0FBT0MsYUFBYUMsT0FBTyxDQUFDTCxrQkFBa0JFO0lBQ3BELElBQUksQ0FBQ0MsTUFBTSxPQUFPLEVBQUU7SUFDcEIsSUFBSTtRQUNGLE9BQU9HLEtBQUtDLEtBQUssQ0FBQ0o7SUFDcEIsRUFBRSxPQUFNO1FBQ04sT0FBTyxFQUFFO0lBQ1g7QUFDRjtBQUVPLFNBQVNLLFdBQVdOLE1BQWMsRUFBRU8sTUFBa0I7SUFDM0RMLGFBQWFNLE9BQU8sQ0FBQ1Ysa0JBQWtCRSxRQUFRSSxLQUFLSyxTQUFTLENBQUNGO0FBQ2hFO0FBRU8sU0FBU0csUUFBUVYsTUFBYyxFQUFFVyxJQUFjO0lBQ3BELElBQUksSUFBa0IsRUFBYSxPQUFPO0lBQzFDLE1BQU1KLFNBQVNSLFVBQVVDO0lBQ3pCLE1BQU1ZLFVBQVU7UUFBRSxHQUFHRCxJQUFJO1FBQUVFLElBQUlGLEtBQUtFLEVBQUUsSUFBSUMsS0FBS0MsR0FBRyxHQUFHQyxRQUFRO0lBQUc7SUFDaEVULE9BQU9VLElBQUksQ0FBQ0w7SUFDWk4sV0FBV04sUUFBUU87SUFDbkIsT0FBT0s7QUFDVDtBQUVPLFNBQVNNLFdBQVdsQixNQUFjLEVBQUVXLElBQWM7SUFDdkQsSUFBSSxJQUFrQixFQUFhLE9BQU87SUFDMUMsTUFBTUosU0FBU1IsVUFBVUM7SUFDekIsTUFBTW1CLE1BQU1aLE9BQU9hLFNBQVMsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRVIsRUFBRSxLQUFLRixLQUFLRSxFQUFFO0lBQ2xELElBQUlNLFFBQVEsQ0FBQyxHQUFHLE9BQU87SUFDdkJaLE1BQU0sQ0FBQ1ksSUFBSSxHQUFHUjtJQUNkTCxXQUFXTixRQUFRTztJQUNuQixPQUFPO0FBQ1Q7QUFFTyxTQUFTZSxXQUFXdEIsTUFBYyxFQUFFdUIsTUFBYztJQUN2RCxJQUFJLElBQWtCLEVBQWEsT0FBTztJQUMxQyxNQUFNaEIsU0FBU1IsVUFBVUM7SUFDekIsTUFBTXdCLFlBQVlqQixPQUFPa0IsTUFBTSxDQUFDSixDQUFBQSxJQUFLQSxFQUFFUixFQUFFLEtBQUtVO0lBQzlDLElBQUlDLFVBQVVFLE1BQU0sS0FBS25CLE9BQU9tQixNQUFNLEVBQUUsT0FBTztJQUMvQ3BCLFdBQVdOLFFBQVF3QjtJQUNuQixPQUFPO0FBQ1Q7QUFFTyxNQUFNRyxnQkFBZ0JqQixRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VibWVzaXRlcjM2MC1tYXJrZXRwbGFjZS8uL3NyYy9saWIvbWVudVNlcnZpY2UudHM/Mjc4NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNZW51IFNlcnZpY2Vcbi8vIFByb3ZpZGVzIGZ1bmN0aW9ucyB0byBtYW5hZ2UgbWVudSBpdGVtcyBpbiBsb2NhbFN0b3JhZ2VcblxuZXhwb3J0IGludGVyZmFjZSBJbmdyZWRpZW50UXVhbnRpdHkge1xuICBpbnZlbnRvcnlJdGVtTmFtZTogc3RyaW5nO1xuICBxdWFudGl0eVBlckRpc2g6IG51bWJlcjtcbiAgdW5pdDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lbnVJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xuICBjYXRlZ29yeT86IHN0cmluZztcbiAgaW5ncmVkaWVudHM/OiAoc3RyaW5nIHwgSW5ncmVkaWVudFF1YW50aXR5KVtdO1xuICBpbWFnZT86IHN0cmluZztcbiAgYWlIaW50Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpc2gge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHByaWNlOiBudW1iZXI7XG4gIGNhdGVnb3J5Pzogc3RyaW5nO1xuICBpbmdyZWRpZW50cz86IChzdHJpbmcgfCBJbmdyZWRpZW50UXVhbnRpdHkpW107XG4gIGltYWdlPzogc3RyaW5nO1xuICBhaUhpbnQ/OiBzdHJpbmc7XG59XG5cbmNvbnN0IE1FTlVfS0VZX1BSRUZJWCA9ICdtZW51Xyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaXNoZXModXNlcklkOiBzdHJpbmcpOiBNZW51SXRlbVtdIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gW107XG4gIGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShNRU5VX0tFWV9QUkVGSVggKyB1c2VySWQpO1xuICBpZiAoIWRhdGEpIHJldHVybiBbXTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKSBhcyBNZW51SXRlbVtdO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVEaXNoZXModXNlcklkOiBzdHJpbmcsIGRpc2hlczogTWVudUl0ZW1bXSk6IHZvaWQge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShNRU5VX0tFWV9QUkVGSVggKyB1c2VySWQsIEpTT04uc3RyaW5naWZ5KGRpc2hlcykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRGlzaCh1c2VySWQ6IHN0cmluZywgZGlzaDogTWVudUl0ZW0pOiBNZW51SXRlbSB8IG51bGwge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuICBjb25zdCBkaXNoZXMgPSBnZXREaXNoZXModXNlcklkKTtcbiAgY29uc3QgbmV3RGlzaCA9IHsgLi4uZGlzaCwgaWQ6IGRpc2guaWQgfHwgRGF0ZS5ub3coKS50b1N0cmluZygpIH07XG4gIGRpc2hlcy5wdXNoKG5ld0Rpc2gpO1xuICBzYXZlRGlzaGVzKHVzZXJJZCwgZGlzaGVzKTtcbiAgcmV0dXJuIG5ld0Rpc2g7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEaXNoKHVzZXJJZDogc3RyaW5nLCBkaXNoOiBNZW51SXRlbSk6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgZGlzaGVzID0gZ2V0RGlzaGVzKHVzZXJJZCk7XG4gIGNvbnN0IGlkeCA9IGRpc2hlcy5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBkaXNoLmlkKTtcbiAgaWYgKGlkeCA9PT0gLTEpIHJldHVybiBmYWxzZTtcbiAgZGlzaGVzW2lkeF0gPSBkaXNoO1xuICBzYXZlRGlzaGVzKHVzZXJJZCwgZGlzaGVzKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVEaXNoKHVzZXJJZDogc3RyaW5nLCBkaXNoSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgZGlzaGVzID0gZ2V0RGlzaGVzKHVzZXJJZCk7XG4gIGNvbnN0IG5ld0Rpc2hlcyA9IGRpc2hlcy5maWx0ZXIoZCA9PiBkLmlkICE9PSBkaXNoSWQpO1xuICBpZiAobmV3RGlzaGVzLmxlbmd0aCA9PT0gZGlzaGVzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICBzYXZlRGlzaGVzKHVzZXJJZCwgbmV3RGlzaGVzKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBjb25zdCBhZGREaXNoVG9NZW51ID0gYWRkRGlzaDsgIl0sIm5hbWVzIjpbIk1FTlVfS0VZX1BSRUZJWCIsImdldERpc2hlcyIsInVzZXJJZCIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwic2F2ZURpc2hlcyIsImRpc2hlcyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJhZGREaXNoIiwiZGlzaCIsIm5ld0Rpc2giLCJpZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInB1c2giLCJ1cGRhdGVEaXNoIiwiaWR4IiwiZmluZEluZGV4IiwiZCIsInJlbW92ZURpc2giLCJkaXNoSWQiLCJuZXdEaXNoZXMiLCJmaWx0ZXIiLCJsZW5ndGgiLCJhZGREaXNoVG9NZW51Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/menuService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@opentelemetry","vendor-chunks/next","vendor-chunks/@grpc","vendor-chunks/handlebars","vendor-chunks/thriftrw","vendor-chunks/@genkit-ai","vendor-chunks/protobufjs","vendor-chunks/zod","vendor-chunks/yaml","vendor-chunks/ajv","vendor-chunks/zod-to-json-schema","vendor-chunks/@google","vendor-chunks/bufrw","vendor-chunks/semver","vendor-chunks/long","vendor-chunks/json5","vendor-chunks/opentracing","vendor-chunks/genkit","vendor-chunks/require-in-the-middle","vendor-chunks/@protobufjs","vendor-chunks/jaeger-client","vendor-chunks/@js-sdsl","vendor-chunks/resolve","vendor-chunks/fast-uri","vendor-chunks/dotprompt","vendor-chunks/lodash.camelcase","vendor-chunks/ajv-formats","vendor-chunks/uri-templates","vendor-chunks/partial-json","vendor-chunks/hexer","vendor-chunks/node-int64","vendor-chunks/is-core-module","vendor-chunks/import-in-the-middle","vendor-chunks/error","vendor-chunks/xorshift","vendor-chunks/shimmer","vendor-chunks/get-port","vendor-chunks/json-schema-traverse","vendor-chunks/function-bind","vendor-chunks/path-parse","vendor-chunks/fast-deep-equal","vendor-chunks/module-details-from-path","vendor-chunks/string-template","vendor-chunks/xtend","vendor-chunks/ansi-color","vendor-chunks/hasown","vendor-chunks/csv-parse","vendor-chunks/jsonrepair"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FmenuCsv%2Froute&page=%2Fapi%2FmenuCsv%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FmenuCsv%2Froute.ts&appDir=%2FUsers%2Fnishantchaturvedi%2FDesktop%2FIOMS%2FIOMS-V1-POS-Working%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnishantchaturvedi%2FDesktop%2FIOMS%2FIOMS-V1-POS-Working&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();