{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/app/api/waste/sustainability/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\n\r\nexport async function GET(request: NextRequest) {\r\n  const { searchParams } = new URL(request.url);\r\n  const range = searchParams.get('range') || 'month';\r\n\r\n  try {\r\n    // Mock sustainability data - replace with actual calculations\r\n    const sustainabilityData = {\r\n      success: true,\r\n      data: {\r\n        range,\r\n        carbonFootprint: {\r\n          reduction: 24, // percentage\r\n          totalSaved: 1.2, // tons CO2\r\n          equivalent: '2,400 km driving', // comparison\r\n          trend: 'improving'\r\n        },\r\n        sustainabilityScore: {\r\n          overall: 8.4,\r\n          breakdown: {\r\n            wasteReduction: 8.8,\r\n            energyEfficiency: 7.9,\r\n            compliance: 8.7,\r\n            innovation: 8.2\r\n          }\r\n        },\r\n        wasteDeversion: {\r\n          fromLandfill: 89, // percentage\r\n          breakdown: {\r\n            recycled: 45,\r\n            composted: 32,\r\n            donated: 12\r\n          }\r\n        },\r\n        impactMetrics: {\r\n          co2Saved: 1200, // kg\r\n          waterSaved: 3400, // liters\r\n          energySaved: 890, // kWh\r\n          costSavings: 245 // EUR\r\n        },\r\n        trends: {\r\n          monthly: [\r\n            { month: 'Jan', score: 7.8, co2: 980 },\r\n            { month: 'Feb', score: 8.1, co2: 1050 },\r\n            { month: 'Mar', score: 8.3, co2: 1120 },\r\n            { month: 'Apr', score: 8.4, co2: 1200 },\r\n            { month: 'May', score: 8.2, co2: 1180 },\r\n            { month: 'Jun', score: 8.5, co2: 1250 },\r\n            { month: 'Jul', score: 8.4, co2: 1200 },\r\n            { month: 'Aug', score: 8.6, co2: 1280 }\r\n          ]\r\n        },\r\n        certifications: [\r\n          {\r\n            name: 'ISO 14001',\r\n            status: 'active',\r\n            validUntil: '2026-03-15',\r\n            score: 92\r\n          },\r\n          {\r\n            name: 'Zero Waste to Landfill',\r\n            status: 'pending',\r\n            validUntil: null,\r\n            score: 89\r\n          },\r\n          {\r\n            name: 'Carbon Neutral',\r\n            status: 'in-progress',\r\n            validUntil: null,\r\n            score: 76\r\n          }\r\n        ]\r\n      }\r\n    };\r\n\r\n    return NextResponse.json(sustainabilityData);\r\n  } catch (error) {\r\n    console.error('Sustainability API error:', error);\r\n    return NextResponse.json(\r\n      { success: false, error: 'Failed to fetch sustainability data' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,QAAQ,aAAa,GAAG,CAAC,YAAY;IAE3C,IAAI;QACF,8DAA8D;QAC9D,MAAM,qBAAqB;YACzB,SAAS;YACT,MAAM;gBACJ;gBACA,iBAAiB;oBACf,WAAW;oBACX,YAAY;oBACZ,YAAY;oBACZ,OAAO;gBACT;gBACA,qBAAqB;oBACnB,SAAS;oBACT,WAAW;wBACT,gBAAgB;wBAChB,kBAAkB;wBAClB,YAAY;wBACZ,YAAY;oBACd;gBACF;gBACA,gBAAgB;oBACd,cAAc;oBACd,WAAW;wBACT,UAAU;wBACV,WAAW;wBACX,SAAS;oBACX;gBACF;gBACA,eAAe;oBACb,UAAU;oBACV,YAAY;oBACZ,aAAa;oBACb,aAAa,IAAI,MAAM;gBACzB;gBACA,QAAQ;oBACN,SAAS;wBACP;4BAAE,OAAO;4BAAO,OAAO;4BAAK,KAAK;wBAAI;wBACrC;4BAAE,OAAO;4BAAO,OAAO;4BAAK,KAAK;wBAAK;wBACtC;4BAAE,OAAO;4BAAO,OAAO;4BAAK,KAAK;wBAAK;wBACtC;4BAAE,OAAO;4BAAO,OAAO;4BAAK,KAAK;wBAAK;wBACtC;4BAAE,OAAO;4BAAO,OAAO;4BAAK,KAAK;wBAAK;wBACtC;4BAAE,OAAO;4BAAO,OAAO;4BAAK,KAAK;wBAAK;wBACtC;4BAAE,OAAO;4BAAO,OAAO;4BAAK,KAAK;wBAAK;wBACtC;4BAAE,OAAO;4BAAO,OAAO;4BAAK,KAAK;wBAAK;qBACvC;gBACH;gBACA,gBAAgB;oBACd;wBACE,MAAM;wBACN,QAAQ;wBACR,YAAY;wBACZ,OAAO;oBACT;oBACA;wBACE,MAAM;wBACN,QAAQ;wBACR,YAAY;wBACZ,OAAO;oBACT;oBACA;wBACE,MAAM;wBACN,QAAQ;wBACR,YAAY;wBACZ,OAAO;oBACT;iBACD;YACH;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAAsC,GAC/D;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}