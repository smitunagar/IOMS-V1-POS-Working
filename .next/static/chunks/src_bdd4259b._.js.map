{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/hooks/use-mobile.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nexport function useIsMobile() {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setIsMobile(window.innerWidth < 768);\r\n    }\r\n    handleResize();\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n  return isMobile;\r\n} "],"names":[],"mappings":";;;;AAAA;;;AAEO,SAAS;;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,IAAA,0KAAS;iCAAC;YACR,SAAS;gBACP,YAAY,OAAO,UAAU,GAAG;YAClC;YACA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;yCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;gCAAG,EAAE;IACL,OAAO;AACT;GAXgB","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants } "],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport const Sheet = SheetPrimitive.Root;\r\nexport const SheetContent = React.forwardRef<\r\n  React.ElementRef<typeof SheetPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <SheetPrimitive.Portal>\r\n    <SheetPrimitive.Overlay className=\"fixed inset-0 z-50 bg-black/80\" />\r\n    <SheetPrimitive.Content\r\n      ref={ref}\r\n      className={cn('fixed z-50 bg-background p-6 shadow-lg', className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </SheetPrimitive.Close>\r\n    </SheetPrimitive.Content>\r\n  </SheetPrimitive.Portal>\r\n));\r\nSheetContent.displayName = 'SheetContent';\r\nexport const SheetTrigger = SheetPrimitive.Trigger; "],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AAEA;AAPA;;;;;;AASO,MAAM,QAAQ,6KAAmB;AACjC,MAAM,6BAAe,2KAAgB,MAG1C,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC,+KAAqB;;0BACpB,6LAAC,gLAAsB;gBAAC,WAAU;;;;;;0BAClC,6LAAC,gLAAsB;gBACrB,KAAK;gBACL,WAAW,IAAA,4HAAE,EAAC,0CAA0C;gBACvD,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAoB;wBAAC,WAAU;;0CAC9B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG;AACpB,MAAM,eAAe,gLAAsB","debugId":null}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/tooltip.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip';\r\n\r\nexport const TooltipProvider = TooltipPrimitive.Provider;\r\nexport const Tooltip = TooltipPrimitive.Root;\r\nexport const TooltipTrigger = TooltipPrimitive.Trigger;\r\nexport const TooltipContent = React.forwardRef<\r\n  React.ElementRef<typeof TooltipPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TooltipPrimitive.Content\r\n    ref={ref}\r\n    className={`z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md ${className || ''}`}\r\n    sideOffset={4}\r\n    {...props}\r\n  />\r\n));\r\nTooltipContent.displayName = 'TooltipContent'; "],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;;;;AAEO,MAAM,kBAAkB,kLAAyB;AACjD,MAAM,UAAU,8KAAqB;AACrC,MAAM,iBAAiB,iLAAwB;AAC/C,MAAM,+BAAiB,2KAAgB,MAG5C,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,iLAAwB;QACvB,KAAK;QACL,WAAW,AAAC,2GAA0H,OAAhB,aAAa;QACnI,YAAY;QACX,GAAG,KAAK;;;;;;;;AAGb,eAAe,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/sidebar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { VariantProps, cva } from \"class-variance-authority\"\r\nimport { PanelLeft } from \"lucide-react\"\r\nimport Link from 'next/link';\r\n\r\nimport { useIsMobile } from \"@/hooks/use-mobile\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\"\r\nimport { Skeleton } from \"@/components/ui/skeleton\"\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\"\r\n\r\n// --- FULL IMPLEMENTATION ---\r\n// (This is the full sidebar implementation as previously extracted from the Noman branch)\r\n\r\n// ... (full sidebar implementation here, including all exports) ...\r\n\r\n// Sidebar context and hooks\r\ninterface SidebarContextType {\r\n  state: string;\r\n  open: boolean;\r\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n  isMobile: boolean;\r\n  openMobile: boolean;\r\n  setOpenMobile: React.Dispatch<React.SetStateAction<boolean>>;\r\n  toggleSidebar: () => void;\r\n}\r\n\r\nconst SidebarContext = React.createContext<SidebarContextType | undefined>(undefined);\r\n\r\nfunction useSidebar(): SidebarContextType {\r\n  const context = React.useContext(SidebarContext);\r\n  if (!context) {\r\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface SidebarProviderProps {\r\n  children: React.ReactNode;\r\n}\r\nconst SidebarProvider: React.FC<SidebarProviderProps> = ({ children }: SidebarProviderProps) => {\r\n  const isMobile = useIsMobile();\r\n  const [open, setOpen] = React.useState(true);\r\n  const [openMobile, setOpenMobile] = React.useState(false);\r\n  const state = open ? \"expanded\" : \"collapsed\";\r\n  const contextValue = React.useMemo(\r\n    () => ({\r\n      state,\r\n      open,\r\n      setOpen,\r\n      isMobile,\r\n      openMobile,\r\n      setOpenMobile,\r\n      toggleSidebar: () => (isMobile ? setOpenMobile((o: boolean) => !o) : setOpen((o: boolean) => !o)),\r\n    }),\r\n    [state, open, isMobile, openMobile]\r\n  );\r\n  return (\r\n    <SidebarContext.Provider value={contextValue}>\r\n      <TooltipProvider delayDuration={0}>{children}</TooltipProvider>\r\n    </SidebarContext.Provider>\r\n  );\r\n};\r\n\r\ninterface SidebarProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\nconst Sidebar = React.forwardRef<HTMLDivElement, SidebarProps>(\r\n  ({ className, children, ...props }: SidebarProps, ref: React.Ref<HTMLDivElement>) => {\r\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\r\n  if (isMobile) {\r\n    return (\r\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\r\n        <SheetContent className=\"w-64 bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\">\r\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\r\n        </SheetContent>\r\n      </Sheet>\r\n    );\r\n  }\r\n  return (\r\n    <div ref={ref} className={cn(\"hidden md:block text-sidebar-foreground\", className)} data-state={state}>\r\n      <div className=\"fixed inset-y-0 left-0 z-10 h-full w-64 bg-[#e4e7f5] text-[#232946] px-2 py-4 flex flex-col\" style={{minHeight: '100vh'}}>\r\n        <div className=\"flex h-full w-full flex-col gap-2\">{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nSidebar.displayName = \"Sidebar\";\r\n\r\ninterface SidebarHeaderProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  className?: string;\r\n}\r\nconst SidebarHeader = React.forwardRef<HTMLDivElement, SidebarHeaderProps>(\r\n  ({ className, ...props }: SidebarHeaderProps, ref: React.Ref<HTMLDivElement>) => (\r\n  <div ref={ref} className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />\r\n));\r\nSidebarHeader.displayName = \"SidebarHeader\";\r\n\r\ninterface SidebarContentProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  className?: string;\r\n}\r\nconst SidebarContent = React.forwardRef<HTMLDivElement, SidebarContentProps>(\r\n  ({ className, ...props }: SidebarContentProps, ref: React.Ref<HTMLDivElement>) => (\r\n  <div ref={ref} className={cn(\"flex min-h-0 flex-1 flex-col gap-2 overflow-auto\", className)} {...props} />\r\n));\r\nSidebarContent.displayName = \"SidebarContent\";\r\n\r\ninterface SidebarMenuProps extends React.HTMLAttributes<HTMLUListElement> {\r\n  className?: string;\r\n}\r\nconst SidebarMenu = React.forwardRef<HTMLUListElement, SidebarMenuProps>(\r\n  ({ className, ...props }: SidebarMenuProps, ref: React.Ref<HTMLUListElement>) => (\r\n  <ul ref={ref} className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)} {...props} />\r\n));\r\nSidebarMenu.displayName = \"SidebarMenu\";\r\n\r\ninterface SidebarMenuItemProps extends React.HTMLAttributes<HTMLLIElement> {\r\n  className?: string;\r\n}\r\nconst SidebarMenuItem = React.forwardRef<HTMLLIElement, SidebarMenuItemProps>(\r\n  ({ className, ...props }: SidebarMenuItemProps, ref: React.Ref<HTMLLIElement>) => (\r\n  <li ref={ref} className={cn(\"group/menu-item relative\", className)} {...props} />\r\n));\r\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\r\n\r\ninterface SidebarMenuButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  className?: string;\r\n  isActive?: boolean;\r\n  asChild?: boolean;\r\n}\r\nconst SidebarMenuButton = React.forwardRef<HTMLButtonElement, SidebarMenuButtonProps>(\r\n  ({ className, isActive, asChild, ...props }: SidebarMenuButtonProps, ref: React.Ref<HTMLButtonElement>) => {\r\n  const Comp = asChild ? Slot : \"button\";\r\n  return (\r\n    <Comp\r\n      ref={ref}\r\n      className={cn(\r\n        \"flex w-full items-center gap-2 rounded-md p-2 text-left text-sm outline-none transition hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\r\n        isActive ? \"bg-sidebar-accent text-sidebar-accent-foreground font-medium\" : \"\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\r\n\r\ninterface SidebarTriggerProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  className?: string;\r\n}\r\nconst SidebarTrigger = React.forwardRef<HTMLButtonElement, SidebarTriggerProps>(\r\n  ({ className, onClick, ...props }: SidebarTriggerProps, ref: React.Ref<HTMLButtonElement>) => {\r\n  const { toggleSidebar } = useSidebar();\r\n  return (\r\n    <Button\r\n      ref={ref}\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      className={cn(\"h-7 w-7\", className)}\r\n      onClick={(event) => {\r\n        onClick?.(event);\r\n        toggleSidebar();\r\n      }}\r\n      {...props}\r\n    >\r\n      <PanelLeft />\r\n      <span className=\"sr-only\">Toggle Sidebar</span>\r\n    </Button>\r\n  );\r\n});\r\nSidebarTrigger.displayName = \"SidebarTrigger\";\r\n\r\ninterface SidebarInsetProps extends React.HTMLAttributes<HTMLElement> {\r\n  className?: string;\r\n}\r\nconst SidebarInset = React.forwardRef<HTMLElement, SidebarInsetProps>(\r\n  ({ className, ...props }: SidebarInsetProps, ref: React.Ref<HTMLElement>) => (\r\n  <main ref={ref} className={cn(\"relative flex min-h-screen flex-1 flex-col bg-background md:ml-64\", className)} {...props} />\r\n));\r\nSidebarInset.displayName = \"SidebarInset\";\r\n\r\nexport {\r\n  SidebarProvider,\r\n  Sidebar,\r\n  SidebarHeader,\r\n  SidebarContent,\r\n  SidebarMenu,\r\n  SidebarMenuItem,\r\n  SidebarMenuButton,\r\n  SidebarTrigger,\r\n  SidebarInset,\r\n  useSidebar,\r\n}; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 562, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Dialog = DialogPrimitive.Root\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n))\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n} "],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe;QAAC,EACpB,SAAS,EACT,GAAG,OACkC;yBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe;QAAC,EACpB,SAAS,EACT,GAAG,OACkC;yBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,oLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 739, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Switch = React.forwardRef<\r\n  React.ElementRef<typeof SwitchPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SwitchPrimitives.Root\r\n    className={cn(\r\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  >\r\n    <SwitchPrimitives.Thumb\r\n      className={cn(\r\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\r\n      )}\r\n    />\r\n  </SwitchPrimitives.Root>\r\n))\r\nSwitch.displayName = SwitchPrimitives.Root.displayName\r\n\r\nexport { Switch }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,6KAAqB;QACpB,WAAW,IAAA,4HAAE,EACX,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACrB,WAAW,IAAA,4HAAE,EACX;;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 784, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/layout/NotificationBell.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, useTransition } from 'react';\r\nimport { Bell, AlertTriangle, ShoppingBasket, Utensils, Sparkles, Loader2, Tag } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from '@/components/ui/popover';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { getInventory, InventoryItem } from '@/lib/inventoryService';\r\nimport { getDishes, Dish } from '@/lib/menuService';\r\nimport { suggestDiscountedDishes, SuggestDiscountedDishesInput, SuggestDiscountedDishesOutput } from '@/ai/flows/suggest-discounted-dishes';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { format, differenceInDays, parseISO, isValid } from 'date-fns';\r\n\r\nexport function NotificationBell() {\r\n  return (\r\n    <Button variant=\"ghost\" size=\"icon\" aria-label=\"Notifications\">\r\n      <Bell className=\"h-5 w-5\" />\r\n    </Button>\r\n  );\r\n} "],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAoBO,SAAS;IACd,qBACE,6LAAC,+IAAM;QAAC,SAAQ;QAAQ,MAAK;QAAO,cAAW;kBAC7C,cAAA,6LAAC,6MAAI;YAAC,WAAU;;;;;;;;;;;AAGtB;KANgB","debugId":null}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/layout/AppLayout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport type { LucideIcon } from \"lucide-react\";\r\nimport {\r\n  ShoppingCart,\r\n  Table,\r\n  CreditCard,\r\n  Sparkles,\r\n  Boxes,\r\n  UtensilsCrossed,\r\n  History,\r\n  Barcode, // Import BarcodeIcon\r\n  LogOut, \r\n  Loader2,\r\n  MessageSquareQuote, // Added for AI Order Agent\r\n  BarChart3,\r\n  Calendar,\r\n  User, // Added for Receptionist\r\n  Settings, // Added for module settings\r\n  TrendingUp, // Added for Analytics\r\n  Truck, // Added for Supply Chain\r\n  Camera, // Added for Hardware Capture\r\n  FileText, // Added for Compliance Center\r\n  TrendingDown, // Added for Predictive Analytics\r\n} from \"lucide-react\";\r\nimport {\r\n  SidebarProvider,\r\n  Sidebar,\r\n  SidebarHeader,\r\n  SidebarContent,\r\n  SidebarMenu,\r\n  SidebarMenuItem,\r\n  SidebarMenuButton,\r\n  SidebarTrigger,\r\n  SidebarInset,\r\n  useSidebar,\r\n} from \"@/components/ui/sidebar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\r\nimport { \r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n  DialogDescription\r\n} from '@/components/ui/dialog';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useWasteWatchDog } from \"@/contexts/WasteWatchDogContext\";\r\nimport { useSupplySync } from \"@/contexts/SupplySyncContext\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { NotificationBell } from \"./NotificationBell\";\r\n\r\ninterface NavItem {\r\n  href: string;\r\n  label: string;\r\n  icon: LucideIcon;\r\n}\r\n\r\nconst navItems: NavItem[] = [\r\n  { href: \"/menu-upload\", label: \"Menu Upload\", icon: Boxes },\r\n  { href: \"/receptionist\", label: \"Receptionist\", icon: User },\r\n];\r\n\r\nfunction SiteHeader({ pageTitle }: { pageTitle?: string }) {\r\n  const { isMobile } = useSidebar();\r\n  const { logout, currentUser } = useAuth();\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <header className=\"sticky top-0 z-40 flex h-16 items-center justify-between gap-4 border-b bg-background px-4 sm:static sm:h-auto sm:border-0 sm:bg-transparent sm:px-6\">\r\n        <Sheet>\r\n          <SheetTrigger asChild>\r\n            <Button size=\"icon\" variant=\"outline\" className=\"sm:hidden\">\r\n              <SidebarTrigger className=\"h-5 w-5\" />\r\n              <span className=\"sr-only\">Toggle Menu</span>\r\n            </Button>\r\n          </SheetTrigger>\r\n          <SheetContent className=\"sm:max-w-xs bg-sidebar text-sidebar-foreground p-0\">\r\n            <nav className=\"grid gap-6 text-lg font-medium p-4\">\r\n              <Link\r\n                href=\"/\"\r\n                className=\"group flex h-10 w-10 shrink-0 items-center justify-center gap-2 rounded-full bg-primary text-lg font-semibold text-primary-foreground md:text-base\"\r\n              >\r\n                <UtensilsCrossed className=\"h-5 w-5 transition-all group-hover:scale-110\" />\r\n                <span className=\"sr-only\">IOMS</span>\r\n              </Link>\r\n              {navItems.map((item) => (\r\n                <Link\r\n                  key={item.href}\r\n                  href={item.href}\r\n                  className=\"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground\"\r\n                >\r\n                  <item.icon className=\"h-5 w-5\" />\r\n                  {item.label}\r\n                </Link>\r\n              ))}\r\n               <Button variant=\"ghost\" onClick={logout} className=\"flex items-center gap-4 px-2.5 text-muted-foreground hover:text-foreground justify-start\">\r\n                <LogOut className=\"h-5 w-5\" />\r\n                Logout\r\n              </Button>\r\n            </nav>\r\n          </SheetContent>\r\n        </Sheet>\r\n        {pageTitle && <h1 className=\"text-xl font-semibold\">{pageTitle}</h1>}\r\n         <div className=\"flex items-center gap-2 sm:hidden\">\r\n            {currentUser && <NotificationBell />}\r\n            {currentUser && (\r\n              <Button variant=\"ghost\" size=\"icon\" onClick={logout} title=\"Logout\">\r\n                <LogOut className=\"h-5 w-5\" />\r\n              </Button>\r\n            )}\r\n          </div>\r\n      </header>\r\n    );\r\n  }\r\n\r\n  return (\r\n     <header className=\"sticky top-0 z-40 flex h-16 items-center justify-between gap-x-4 border-b bg-background px-4 sm:px-6\">\r\n        <div className=\"flex items-center gap-x-4\">\r\n            <SidebarTrigger className=\"hidden md:flex\" />\r\n            {pageTitle && <h1 className=\"text-xl font-semibold\">{pageTitle}</h1>}\r\n        </div>\r\n        <div className=\"flex items-center gap-4\">\r\n          {currentUser && <NotificationBell />}\r\n          {currentUser && (\r\n              <Button variant=\"outline\" onClick={logout} size=\"sm\">\r\n                <LogOut className=\"mr-2 h-4 w-4\" />\r\n                Logout ({currentUser.email?.split('@')[0]})\r\n              </Button>\r\n          )}\r\n        </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport function AppLayout({\r\n  children,\r\n  pageTitle,\r\n}: {\r\n  children: React.ReactNode;\r\n  pageTitle?: string;\r\n}) {\r\n  const pathname = usePathname();\r\n  const { currentUser, isLoading, logout } = useAuth();\r\n  const { isActive: isWasteWatchDogActive } = useWasteWatchDog();\r\n  const { isActive: isSupplySyncActive } = useSupplySync();\r\n  const router = useRouter();\r\n  const [setupOpen, setSetupOpen] = useState(false);\r\n  const [ordersOpen, setOrdersOpen] = useState(false);\r\n  const [reservationsOpen, setReservationsOpen] = useState(false);\r\n  const [aiToolOpen, setAiToolOpen] = useState(false);\r\n  const [inventoryOpen, setInventoryOpen] = useState(false);\r\n  const [wasteWatchDogOpen, setWasteWatchDogOpen] = useState(false);\r\n  \r\n  const [supplySyncOpen, setSupplySyncOpen] = useState(false);\r\n\r\n  const [settingsOpen, setSettingsOpen] = useState(false);\r\n\r\n  // Module visibility states\r\n  const [moduleVisibility, setModuleVisibility] = useState(() => {\r\n    if (typeof window !== 'undefined') {\r\n      const stored = localStorage.getItem('ioms-module-visibility');\r\n      if (stored) {\r\n        return JSON.parse(stored);\r\n      }\r\n    }\r\n    return {\r\n      'WasteWatchDog': true,\r\n      'SupplySync': true,\r\n      'SmartInventory': false,\r\n      'SmartChef': false,\r\n      'Marketplace': true\r\n    };\r\n  });\r\n\r\n  // Clear any existing sidebar state on component mount to ensure fresh start\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      // Clear all sidebar-related sessionStorage keys\r\n      const keys = Object.keys(sessionStorage);\r\n      keys.forEach(key => {\r\n        if (key.startsWith('sidebar') && key.includes('Open')) {\r\n          sessionStorage.removeItem(key);\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  // Persist module visibility\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('ioms-module-visibility', JSON.stringify(moduleVisibility));\r\n    }\r\n  }, [moduleVisibility]);\r\n\r\n  const toggleModuleVisibility = (moduleName: string) => {\r\n    setModuleVisibility((prev: any) => ({\r\n      ...prev,\r\n      [moduleName]: !prev[moduleName]\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isLoading && !currentUser) {\r\n      router.push('/login');\r\n    }\r\n  }, [currentUser, isLoading, router]);\r\n\r\n  if (isLoading || !currentUser) {\r\n    return (\r\n      <div className=\"flex h-screen w-screen items-center justify-center bg-background\">\r\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\r\n        <p className=\"ml-4 text-xl\">Loading application...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <SidebarProvider>\r\n      <Sidebar>\r\n        <SidebarHeader className=\"p-4\">\r\n          <Link href=\"/\" className=\"flex items-center gap-2\">\r\n            <UtensilsCrossed className=\"h-8 w-8 text-sidebar-primary\" />\r\n            <h1 className=\"text-2xl font-semibold text-sidebar-foreground font-headline\">\r\n              IOMS\r\n            </h1>\r\n          </Link>\r\n        </SidebarHeader>\r\n        <SidebarContent>\r\n          <SidebarMenu>\r\n            {navItems.filter(item => !['POS', 'Order History', 'Order Analytics', 'Menu Upload', 'Reservation History', 'Reservation Analytics', 'Table Management', 'Receptionist'].includes(item.label)).map((item) => (\r\n              <SidebarMenuItem key={item.href}>\r\n                <SidebarMenuButton\r\n                  asChild\r\n                  isActive={pathname === item.href}\r\n                  className={cn(\r\n                    \"justify-start transition-all\",\r\n                    pathname === item.href\r\n                      ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                      : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                  )}\r\n                >\r\n                  <Link href={item.href} className=\"flex items-center gap-3\">\r\n                    <item.icon className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                    <span className=\"truncate\">{item.label}</span>\r\n                  </Link>\r\n                </SidebarMenuButton>\r\n              </SidebarMenuItem>\r\n            ))}\r\n            {/* Receptionist link */}\r\n            <SidebarMenuItem>\r\n              <SidebarMenuButton\r\n                asChild\r\n                isActive={pathname === '/receptionist'}\r\n                className={cn(\r\n                  \"justify-start transition-all\",\r\n                  pathname === '/receptionist'\r\n                    ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                    : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                )}\r\n              >\r\n                <Link href=\"/receptionist\" className=\"flex items-center gap-3\">\r\n                  <User className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                  <span className=\"truncate\">Receptionist</span>\r\n                </Link>\r\n              </SidebarMenuButton>\r\n            </SidebarMenuItem>\r\n            {/* 2. Reservations Section Dropdown */}\r\n            <SidebarMenuItem>\r\n              <button\r\n                className={cn(\r\n                  \"flex w-full items-center gap-2 rounded-md p-2 text-left text-sm outline-none transition font-semibold\",\r\n                  reservationsOpen ? \"bg-sidebar-accent text-sidebar-accent-foreground\" : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\"\r\n                )}\r\n                onClick={() => setReservationsOpen((open) => !open)}\r\n                aria-expanded={reservationsOpen}\r\n              >\r\n                <span className=\"mr-2\">📅</span>\r\n                Reservations\r\n                <span className=\"ml-auto\">{reservationsOpen ? '▲' : '▼'}</span>\r\n              </button>\r\n              {reservationsOpen && (\r\n                <ul className=\"ml-6 mt-1 flex flex-col gap-1\">\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/table-management'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/table-management'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/table-management\" className=\"flex items-center gap-3\">\r\n                        <Table className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Table Management</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/reservation-history'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/reservation-history'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/reservation-history\" className=\"flex items-center gap-3\">\r\n                        <History className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Reservation History</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/reservation-analytics'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/reservation-analytics'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/reservation-analytics\" className=\"flex items-center gap-3\">\r\n                        <BarChart3 className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Reservation Analytics</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                </ul>\r\n              )}\r\n            </SidebarMenuItem>\r\n            {/* 3. Orders Section Dropdown */}\r\n            <SidebarMenuItem>\r\n              <button\r\n                className={cn(\r\n                  \"flex w-full items-center gap-2 rounded-md p-2 text-left text-sm outline-none transition font-semibold\",\r\n                  ordersOpen ? \"bg-sidebar-accent text-sidebar-accent-foreground\" : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\"\r\n                )}\r\n                onClick={() => setOrdersOpen((open) => !open)}\r\n                aria-expanded={ordersOpen}\r\n              >\r\n                <span className=\"mr-2\">🧾</span>\r\n                Orders\r\n                <span className=\"ml-auto\">{ordersOpen ? '▲' : '▼'}</span>\r\n              </button>\r\n              {ordersOpen && (\r\n                <ul className=\"ml-6 mt-1 flex flex-col gap-1\">\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/payment'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/payment'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/payment\" className=\"flex items-center gap-3\">\r\n                        <CreditCard className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Payment</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/order-entry'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/order-entry'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/order-entry\" className=\"flex items-center gap-3\">\r\n                        <ShoppingCart className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">POS</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/order-history'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/order-history'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/order-history\" className=\"flex items-center gap-3\">\r\n                        <History className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Order History</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/order-analytics'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/order-analytics'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/order-analytics\" className=\"flex items-center gap-3\">\r\n                        <BarChart3 className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Order Analytics</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                </ul>\r\n              )}\r\n            </SidebarMenuItem>\r\n            {/* 4. Inventory Section Dropdown with subsections */}\r\n            <SidebarMenuItem>\r\n              <button\r\n                className={cn(\r\n                  \"flex w-full items-center gap-2 rounded-md p-2 text-left text-sm outline-none transition font-semibold\",\r\n                  inventoryOpen ? \"bg-sidebar-accent text-sidebar-accent-foreground\" : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\"\r\n                )}\r\n                onClick={() => setInventoryOpen((open) => !open)}\r\n                aria-expanded={inventoryOpen}\r\n              >\r\n                <span className=\"mr-2\">📦</span>\r\n                Inventory\r\n                <span className=\"ml-auto\">{inventoryOpen ? '▲' : '▼'}</span>\r\n              </button>\r\n              {inventoryOpen && (\r\n                <ul className=\"ml-6 mt-1 flex flex-col gap-1\">\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/inventory'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/inventory'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/inventory\" className=\"flex items-center gap-3\">\r\n                        <Boxes className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Inventory</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/serving-availability'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/serving-availability'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/serving-availability\" className=\"flex items-center gap-3\">\r\n                        <UtensilsCrossed className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Serving Availability</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/inventory-analytics'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/inventory-analytics'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/inventory-analytics\" className=\"flex items-center gap-3\">\r\n                        <BarChart3 className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Inventory Analytics</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/barcode-scanner'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/barcode-scanner'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/barcode-scanner\" className=\"flex items-center gap-3\">\r\n                        <Barcode className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Barcode Scanner</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                </ul>\r\n              )}\r\n            </SidebarMenuItem>\r\n            {/* Setup Section */}\r\n            <SidebarMenuItem>\r\n              <button\r\n                className={cn(\r\n                  \"flex w-full items-center gap-2 rounded-md p-2 text-left text-sm outline-none transition font-semibold\",\r\n                  setupOpen ? \"bg-sidebar-accent text-sidebar-accent-foreground\" : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\"\r\n                )}\r\n                onClick={() => setSetupOpen((open) => !open)}\r\n                aria-expanded={setupOpen}\r\n              >\r\n                <span className=\"mr-2\">⚙️</span>\r\n                Setup\r\n                <span className=\"ml-auto\">{setupOpen ? '▲' : '▼'}</span>\r\n              </button>\r\n              {setupOpen && (\r\n                <ul className=\"ml-6 mt-1 flex flex-col gap-1\">\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/menu-upload'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/menu-upload'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/menu-upload\" className=\"flex items-center gap-3\">\r\n                        <Boxes className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Menu Upload</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  <li>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === '/dining-area-setup'}\r\n                      className={cn(\r\n                        \"justify-start transition-all\",\r\n                        pathname === '/dining-area-setup'\r\n                          ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                          : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                      )}\r\n                    >\r\n                      <Link href=\"/dining-area-setup\" className=\"flex items-center gap-3\">\r\n                        <UtensilsCrossed className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                        <span className=\"truncate\">Dining Area Setup</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </li>\r\n                  {/* Add more setup links here */}\r\n                </ul>\r\n              )}\r\n            </SidebarMenuItem>\r\n\r\n            \r\n            {/* WasteWatchDog Section - Only visible when activated and module is visible */}\r\n            {isWasteWatchDogActive && moduleVisibility['WasteWatchDog'] !== false && (\r\n              <SidebarMenuItem>\r\n                <button\r\n                  className={cn(\r\n                    \"flex w-full items-center gap-2 rounded-md p-2 text-left text-sm outline-none transition font-semibold\",\r\n                    wasteWatchDogOpen ? \"bg-sidebar-accent text-sidebar-accent-foreground\" : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\"\r\n                  )}\r\n                  onClick={() => setWasteWatchDogOpen((open) => !open)}\r\n                  aria-expanded={wasteWatchDogOpen}\r\n                >\r\n                  <span className=\"mr-2\">♻️</span>\r\n                  WasteWatchDog\r\n                  <span className=\"ml-auto\">{wasteWatchDogOpen ? '▲' : '▼'}</span>\r\n                </button>\r\n                {wasteWatchDogOpen && (\r\n                  <ul className=\"ml-6 mt-1 flex flex-col gap-1\">\r\n                    <li>\r\n                      <SidebarMenuButton\r\n                        asChild\r\n                        isActive={pathname === '/apps/waste-watchdog'}\r\n                        className={cn(\r\n                          \"justify-start transition-all\",\r\n                          pathname === '/apps/waste-watchdog'\r\n                            ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                            : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                        )}\r\n                      >\r\n                        <Link href=\"/apps/waste-watchdog\" className=\"flex items-center gap-3\">\r\n                          <BarChart3 className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                          <span className=\"truncate\">Dashboard</span>\r\n                        </Link>\r\n                      </SidebarMenuButton>\r\n                    </li>\r\n                    <li>\r\n                      <SidebarMenuButton\r\n                        asChild\r\n                        isActive={pathname === '/apps/waste-watchdog/analytics'}\r\n                        className={cn(\r\n                          \"justify-start transition-all\",\r\n                          pathname === '/apps/waste-watchdog/analytics'\r\n                            ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                            : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                        )}\r\n                      >\r\n                        <Link href=\"/apps/waste-watchdog/analytics\" className=\"flex items-center gap-3\">\r\n                          <TrendingUp className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                          <span className=\"truncate\">Analytics</span>\r\n                        </Link>\r\n                      </SidebarMenuButton>\r\n                    </li>\r\n                    <li>\r\n                      <SidebarMenuButton\r\n                        asChild\r\n                        isActive={pathname === '/apps/waste-watchdog/hardware'}\r\n                        className={cn(\r\n                          \"justify-start transition-all\",\r\n                          pathname === '/apps/waste-watchdog/hardware'\r\n                            ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                            : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                        )}\r\n                      >\r\n                        <Link href=\"/apps/waste-watchdog/hardware\" className=\"flex items-center gap-3\">\r\n                          <Camera className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                          <span className=\"truncate\">Hardware Capture</span>\r\n                        </Link>\r\n                      </SidebarMenuButton>\r\n                    </li>\r\n                    <li>\r\n                      <SidebarMenuButton\r\n                        asChild\r\n                        isActive={pathname === '/apps/waste-watchdog/compliance'}\r\n                        className={cn(\r\n                          \"justify-start transition-all\",\r\n                          pathname === '/apps/waste-watchdog/compliance'\r\n                            ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                            : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                        )}\r\n                      >\r\n                        <Link href=\"/apps/waste-watchdog/compliance\" className=\"flex items-center gap-3\">\r\n                          <FileText className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                          <span className=\"truncate\">Compliance Center</span>\r\n                        </Link>\r\n                      </SidebarMenuButton>\r\n                    </li>\r\n                    <li>\r\n                      <SidebarMenuButton\r\n                        asChild\r\n                        isActive={pathname === '/apps/waste-watchdog/predictive'}\r\n                        className={cn(\r\n                          \"justify-start transition-all\",\r\n                          pathname === '/apps/waste-watchdog/predictive'\r\n                            ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                            : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                        )}\r\n                      >\r\n                        <Link href=\"/apps/waste-watchdog/predictive\" className=\"flex items-center gap-3\">\r\n                          <TrendingDown className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                          <span className=\"truncate\">Predictive Analytics</span>\r\n                        </Link>\r\n                      </SidebarMenuButton>\r\n                    </li>\r\n                  </ul>\r\n                )}\r\n              </SidebarMenuItem>\r\n            )}\r\n\r\n            {/* SupplySync Section - Only visible when activated and module is visible */}\r\n            {isSupplySyncActive && moduleVisibility['SupplySync'] !== false && (\r\n              <SidebarMenuItem>\r\n                <button\r\n                  className={cn(\r\n                    \"flex w-full items-center gap-2 rounded-md p-2 text-left text-sm outline-none transition font-semibold\",\r\n                    supplySyncOpen ? \"bg-sidebar-accent text-sidebar-accent-foreground\" : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\"\r\n                  )}\r\n                  onClick={() => setSupplySyncOpen((open) => !open)}\r\n                  aria-expanded={supplySyncOpen}\r\n                >\r\n                  <span className=\"mr-2\">🚚</span>\r\n                  SupplySync\r\n                  <span className=\"ml-auto\">{supplySyncOpen ? '▲' : '▼'}</span>\r\n                </button>\r\n                {supplySyncOpen && (\r\n                  <ul className=\"ml-6 mt-1 flex flex-col gap-1\">\r\n                    <li>\r\n                      <SidebarMenuButton\r\n                        asChild\r\n                        isActive={pathname === '/apps/supply-sync'}\r\n                        className={cn(\r\n                          \"justify-start transition-all\",\r\n                          pathname === '/apps/supply-sync'\r\n                            ? \"bg-sidebar-accent text-sidebar-accent-foreground font-bold shadow-sm border-l-4 border-[#4C8BF5]\"\r\n                            : \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground border-l-4 border-transparent\"\r\n                        )}\r\n                      >\r\n                        <Link href=\"/apps/supply-sync\" className=\"flex items-center gap-3\">\r\n                          <Truck className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                          <span className=\"truncate\">Supply Dashboard</span>\r\n                        </Link>\r\n                      </SidebarMenuButton>\r\n                    </li>\r\n                  </ul>\r\n                )}\r\n              </SidebarMenuItem>\r\n            )}\r\n          </SidebarMenu>\r\n          \r\n          {/* Module Settings */}\r\n          <div className=\"px-4 py-2 border-t border-sidebar-border mt-4\">\r\n            <Dialog open={settingsOpen} onOpenChange={setSettingsOpen}>\r\n              <DialogTrigger asChild>\r\n                <Button \r\n                  variant=\"ghost\" \r\n                  size=\"sm\" \r\n                  className=\"w-full justify-start text-sidebar-foreground hover:bg-sidebar-accent\"\r\n                >\r\n                  <Settings className=\"w-4 h-4 mr-2\" />\r\n                  Module Settings\r\n                </Button>\r\n              </DialogTrigger>\r\n              <DialogContent className=\"max-w-md\">\r\n                <DialogHeader>\r\n                  <DialogTitle className=\"flex items-center gap-2\">\r\n                    <Settings className=\"w-5 h-5\" />\r\n                    Module Visibility Settings\r\n                  </DialogTitle>\r\n                  <DialogDescription>\r\n                    Toggle which specialized modules appear in your sidebar. Core navigation items are always visible.\r\n                  </DialogDescription>\r\n                </DialogHeader>\r\n                \r\n                <div className=\"space-y-4 py-4\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <span className=\"text-2xl\">♻️</span>\r\n                      <div>\r\n                        <div className=\"font-medium\">WasteWatchDog</div>\r\n                        <div className=\"text-sm text-gray-500\">2 features</div>\r\n                      </div>\r\n                    </div>\r\n                    <Switch\r\n                      checked={moduleVisibility['WasteWatchDog'] !== false}\r\n                      onCheckedChange={() => toggleModuleVisibility('WasteWatchDog')}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <span className=\"text-2xl\">📦</span>\r\n                      <div>\r\n                        <div className=\"font-medium\">SmartInventory</div>\r\n                        <div className=\"text-sm text-gray-500\">AI optimization</div>\r\n                      </div>\r\n                    </div>\r\n                    <Switch\r\n                      checked={moduleVisibility['SmartInventory'] !== false}\r\n                      onCheckedChange={() => toggleModuleVisibility('SmartInventory')}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <span className=\"text-2xl\">👨‍🍳</span>\r\n                      <div>\r\n                        <div className=\"font-medium\">SmartChef</div>\r\n                        <div className=\"text-sm text-gray-500\">Recipe management</div>\r\n                      </div>\r\n                    </div>\r\n                    <Switch\r\n                      checked={moduleVisibility['SmartChef'] !== false}\r\n                      onCheckedChange={() => toggleModuleVisibility('SmartChef')}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <span className=\"text-2xl\">🏪</span>\r\n                      <div>\r\n                        <div className=\"font-medium\">Marketplace</div>\r\n                        <div className=\"text-sm text-gray-500\">Browse apps</div>\r\n                      </div>\r\n                    </div>\r\n                    <Switch\r\n                      checked={moduleVisibility['Marketplace'] !== false}\r\n                      onCheckedChange={() => toggleModuleVisibility('Marketplace')}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex justify-end pt-4 border-t\">\r\n                  <Button \r\n                    variant=\"outline\" \r\n                    onClick={() => setSettingsOpen(false)}\r\n                  >\r\n                    Done\r\n                  </Button>\r\n                </div>\r\n              </DialogContent>\r\n            </Dialog>\r\n          </div>\r\n        </SidebarContent>\r\n        <SidebarHeader className=\"border-t border-sidebar-border mt-auto\">\r\n           <SidebarMenu>\r\n             <SidebarMenuItem>\r\n                <SidebarMenuButton\r\n                    onClick={logout}\r\n                    className={cn(\r\n                        \"justify-start w-full\",\r\n                        \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\"\r\n                    )}\r\n                >\r\n                    <LogOut className=\"mr-2 h-5 w-5 shrink-0\" />\r\n                    <span className=\"truncate\">Logout</span>\r\n                </SidebarMenuButton>\r\n             </SidebarMenuItem>\r\n           </SidebarMenu>\r\n        </SidebarHeader>\r\n      </Sidebar>\r\n      <SidebarInset className=\"flex flex-col\">\r\n        <SiteHeader pageTitle={pageTitle} />\r\n        <main className=\"flex-1 overflow-auto p-4 md:p-6\">\r\n          {children}\r\n        </main>\r\n      </SidebarInset>\r\n    </SidebarProvider>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2852, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent } "],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2977, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants } "],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,KAA4C;QAA5C,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB,GAA5C;IACb,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 3026, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,2KAAkB;QACjB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;;AAGb,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/separator.tsx"],"sourcesContent":["import * as React from 'react';\r\n\r\nexport const Separator = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div\r\n      ref={ref}\r\n      className={`border-b border-gray-200 dark:border-gray-700 ${className || ''}`}\r\n      {...props}\r\n    />\r\n  )\r\n);\r\nSeparator.displayName = 'Separator'; "],"names":[],"mappings":";;;;;AAAA;;;AAEO,MAAM,0BAAY,2KAAgB,MACvC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACtB,6LAAC;QACC,KAAK;QACL,WAAW,AAAC,iDAAgE,OAAhB,aAAa;QACxE,GAAG,KAAK;;;;;;;;AAIf,UAAU,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 3135, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst alertVariants = cva(\r\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-background text-foreground\",\r\n        destructive:\r\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Alert = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    role=\"alert\"\r\n    className={cn(alertVariants({ variant }), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlert.displayName = \"Alert\"\r\n\r\nconst AlertTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h5\r\n    ref={ref}\r\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertTitle.displayName = \"AlertTitle\"\r\n\r\nconst AlertDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDescription.displayName = \"AlertDescription\"\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,2KAAgB,MAG5B,QAAmC;QAAlC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO;yBACjC,6LAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,2KAAgB,OAGvC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 3222, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Slider = React.forwardRef<\r\n  React.ElementRef<typeof SliderPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SliderPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex w-full touch-none select-none items-center\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\r\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\r\n    </SliderPrimitive.Track>\r\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\r\n  </SliderPrimitive.Root>\r\n))\r\nSlider.displayName = SliderPrimitive.Root.displayName\r\n\r\nexport { Slider }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;0BAET,6LAAC,8KAAqB;gBAAC,WAAU;0BAC/B,cAAA,6LAAC,8KAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,6LAAC,8KAAqB;gBAAC,WAAU;;;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3283, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/lib/workers/table-workers.ts"],"sourcesContent":["// Web Worker for overlap detection\r\nconst overlapWorkerCode = `\r\nself.onmessage = function(e) {\r\n  const { tables, action } = e.data;\r\n  \r\n  function hasOverlap(rect1, rect2) {\r\n    // AABB collision detection with rotation support\r\n    const r1 = getRotatedBounds(rect1);\r\n    const r2 = getRotatedBounds(rect2);\r\n    \r\n    return !(r1.right < r2.left || \r\n             r2.right < r1.left || \r\n             r1.bottom < r2.top || \r\n             r2.bottom < r1.top);\r\n  }\r\n  \r\n  function getRotatedBounds(table) {\r\n    const { x, y, w, h, rotation = 0 } = table;\r\n    const cx = x + w / 2;\r\n    const cy = y + h / 2;\r\n    \r\n    if (rotation === 0) {\r\n      return { left: x, right: x + w, top: y, bottom: y + h };\r\n    }\r\n    \r\n    // For rotated rectangles, calculate bounding box\r\n    const rad = rotation * Math.PI / 180;\r\n    const cos = Math.cos(rad);\r\n    const sin = Math.sin(rad);\r\n    \r\n    const corners = [\r\n      { x: -w/2, y: -h/2 },\r\n      { x: w/2, y: -h/2 },\r\n      { x: w/2, y: h/2 },\r\n      { x: -w/2, y: h/2 }\r\n    ];\r\n    \r\n    const rotated = corners.map(corner => ({\r\n      x: cx + corner.x * cos - corner.y * sin,\r\n      y: cy + corner.x * sin + corner.y * cos\r\n    }));\r\n    \r\n    const xs = rotated.map(p => p.x);\r\n    const ys = rotated.map(p => p.y);\r\n    \r\n    return {\r\n      left: Math.min(...xs),\r\n      right: Math.max(...xs),\r\n      top: Math.min(...ys),\r\n      bottom: Math.max(...ys)\r\n    };\r\n  }\r\n  \r\n  const overlaps = [];\r\n  \r\n  for (let i = 0; i < tables.length; i++) {\r\n    for (let j = i + 1; j < tables.length; j++) {\r\n      if (tables[i].id !== tables[j].id && hasOverlap(tables[i], tables[j])) {\r\n        overlaps.push([tables[i].id, tables[j].id]);\r\n      }\r\n    }\r\n  }\r\n  \r\n  self.postMessage({ overlaps });\r\n};\r\n`;\r\n\r\nconst chairLayoutWorkerCode = `\r\nself.onmessage = function(e) {\r\n  const { table } = e.data;\r\n  const { shape, capacity, x, y, w, h } = table;\r\n  \r\n  function generateChairPositions(table) {\r\n    const chairs = [];\r\n    const { shape, capacity, x, y, w, h } = table;\r\n    \r\n    if (shape === 'round') {\r\n      const radius = Math.min(w, h) / 2;\r\n      const centerX = x + w / 2;\r\n      const centerY = y + h / 2;\r\n      const chairDistance = radius + 30; // 30px from table edge\r\n      \r\n      for (let i = 0; i < capacity; i++) {\r\n        const angle = (i * 2 * Math.PI) / capacity;\r\n        chairs.push({\r\n          x: centerX + Math.cos(angle) * chairDistance,\r\n          y: centerY + Math.sin(angle) * chairDistance,\r\n          rotation: angle + Math.PI // Face the table\r\n        });\r\n      }\r\n    } else {\r\n      // Rectangle/Square - distribute along edges\r\n      const chairsPerSide = Math.ceil(capacity / 4);\r\n      const chairWidth = 25;\r\n      const chairDistance = 35;\r\n      \r\n      // Top edge\r\n      const topChairs = Math.min(chairsPerSide, Math.floor(w / 40));\r\n      for (let i = 0; i < topChairs && chairs.length < capacity; i++) {\r\n        chairs.push({\r\n          x: x + (w / (topChairs + 1)) * (i + 1) - chairWidth / 2,\r\n          y: y - chairDistance,\r\n          rotation: Math.PI / 2 // Face down\r\n        });\r\n      }\r\n      \r\n      // Right edge\r\n      const rightChairs = Math.min(chairsPerSide, Math.floor(h / 40));\r\n      for (let i = 0; i < rightChairs && chairs.length < capacity; i++) {\r\n        chairs.push({\r\n          x: x + w + chairDistance,\r\n          y: y + (h / (rightChairs + 1)) * (i + 1) - chairWidth / 2,\r\n          rotation: Math.PI // Face left\r\n        });\r\n      }\r\n      \r\n      // Bottom edge\r\n      for (let i = 0; i < topChairs && chairs.length < capacity; i++) {\r\n        chairs.push({\r\n          x: x + w - (w / (topChairs + 1)) * (i + 1) - chairWidth / 2,\r\n          y: y + h + chairDistance,\r\n          rotation: -Math.PI / 2 // Face up\r\n        });\r\n      }\r\n      \r\n      // Left edge\r\n      for (let i = 0; i < rightChairs && chairs.length < capacity; i++) {\r\n        chairs.push({\r\n          x: x - chairDistance,\r\n          y: y + h - (h / (rightChairs + 1)) * (i + 1) - chairWidth / 2,\r\n          rotation: 0 // Face right\r\n        });\r\n      }\r\n    }\r\n    \r\n    return chairs.slice(0, capacity);\r\n  }\r\n  \r\n  const chairs = generateChairPositions(table);\r\n  self.postMessage({ chairs });\r\n};\r\n`;\r\n\r\nexport function createOverlapWorker(): Worker {\r\n  const blob = new Blob([overlapWorkerCode], { type: 'application/javascript' });\r\n  return new Worker(URL.createObjectURL(blob));\r\n}\r\n\r\nexport function createChairLayoutWorker(): Worker {\r\n  const blob = new Blob([chairLayoutWorkerCode], { type: 'application/javascript' });\r\n  return new Worker(URL.createObjectURL(blob));\r\n}\r\n"],"names":[],"mappings":"AAAA,mCAAmC;;;;;;;AACnC,MAAM,oBAAqB;AAkE3B,MAAM,wBAAyB;AA4ExB,SAAS;IACd,MAAM,OAAO,IAAI,KAAK;QAAC;KAAkB,EAAE;QAAE,MAAM;IAAyB;IAC5E,OAAO,IAAI,OAAO,IAAI,eAAe,CAAC;AACxC;AAEO,SAAS;IACd,MAAM,OAAO,IAAI,KAAK;QAAC;KAAsB,EAAE;QAAE,MAAM;IAAyB;IAChF,OAAO,IAAI,OAAO,IAAI,eAAe,CAAC;AACxC","debugId":null}},
    {"offset": {"line": 3315, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/contexts/tableStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\nimport { \r\n  Table, \r\n  Zone, \r\n  Fixture, \r\n  FloorLayout, \r\n  TableEvent,\r\n  TableShapeSchema,\r\n  TableStatusSchema \r\n} from '@/lib/schemas/table-management';\r\nimport { createOverlapWorker, createChairLayoutWorker } from '@/lib/workers/table-workers';\r\n\r\n// Constants\r\nconst DEFAULT_SIZES = {\r\n  round: { w: 80, h: 80 },\r\n  square: { w: 80, h: 80 },\r\n  rect: { w: 120, h: 80 }\r\n};\r\n\r\nconst GRID_SIZES = [8, 12, 16, 20, 24] as const;\r\nconst MAX_HISTORY_SIZE = 50;\r\n\r\n// Utility Functions\r\nfunction snapToGrid(value: number, gridSize: number): number {\r\n  return Math.round(value / gridSize) * gridSize;\r\n}\r\n\r\nfunction generateTableId(tables: Table[]): string {\r\n  const existingNumbers = tables\r\n    .map(t => t.label)\r\n    .filter(label => /^T\\d+$/.test(label))\r\n    .map(label => parseInt(label.substring(1)))\r\n    .filter(num => !isNaN(num));\r\n  \r\n  const maxNumber = existingNumbers.length > 0 ? Math.max(...existingNumbers) : 0;\r\n  return `T${maxNumber + 1}`;\r\n}\r\n\r\nfunction hasTableIdDuplicates(tables: Table[]): boolean {\r\n  const ids = tables.map(t => t.id);\r\n  return new Set(ids).size !== ids.length;\r\n}\r\n\r\n// Enhanced Types\r\nexport interface TableStoreState {\r\n  // Core State\r\n  tables: Table[];\r\n  zones: Zone[];\r\n  fixtures: Fixture[];\r\n  selectedTableIds: string[];\r\n  selectedTablesForMerge: string[];\r\n  \r\n  // Layout State\r\n  isDraftMode: boolean;\r\n  layoutVersion: number;\r\n  isDirty: boolean;\r\n  gridSize: number;\r\n  snapToGrid: boolean;\r\n  floorBounds: { width: number; height: number };\r\n  \r\n  // UI State\r\n  isLoading: boolean;\r\n  error: string | null;\r\n  validationErrors: string[];\r\n  overlappingTableIds: string[][];\r\n  viewMode: '2D' | '3D';\r\n  showGrid: boolean;\r\n  showZones: boolean;\r\n  \r\n  // History Management\r\n  history: Array<{ tables: Table[]; zones: Zone[]; fixtures: Fixture[] }>;\r\n  historyIndex: number;\r\n  \r\n  // WebSocket & Real-time\r\n  wsConnected: boolean;\r\n  tableStates: Record<string, 'FREE' | 'SEATED' | 'DIRTY' | 'RESERVED'>;\r\n  \r\n  // Workers\r\n  overlapWorker: Worker | null;\r\n  chairWorker: Worker | null;\r\n  \r\n  // Computed Properties\r\n  canUndo: boolean;\r\n  canRedo: boolean;\r\n  hasOverlaps: boolean;\r\n  totalTables: number;\r\n  totalCapacity: number;\r\n  availableTables: number;\r\n}\r\n\r\nexport interface TableStoreActions {\r\n  // Table Management\r\n  addTable: (params: { x: number; y: number; shape: Table['shape']; capacity?: number; zone?: string }) => void;\r\n  updateTable: (id: string, updates: Partial<Table>) => void;\r\n  deleteTable: (id: string) => void;\r\n  duplicateTable: (id: string) => void;\r\n  moveTable: (id: string, x: number, y: number, z?: number) => void;\r\n  rotateTable: (id: string, rotation: number) => void;\r\n  resizeTable: (id: string, w: number, h: number) => void;\r\n  \r\n  // Selection Management\r\n  selectTable: (id: string | null) => void;\r\n  selectMultipleTables: (ids: string[]) => void;\r\n  toggleTableSelection: (id: string) => void;\r\n  clearSelection: () => void;\r\n  \r\n  // Zone Management\r\n  addZone: (zone: Omit<Zone, 'id'>) => void;\r\n  updateZone: (id: string, updates: Partial<Zone>) => void;\r\n  deleteZone: (id: string) => void;\r\n  assignTableToZone: (tableId: string, zoneId: string) => void;\r\n  \r\n  // Fixture Management\r\n  addFixture: (fixture: Omit<Fixture, 'id'>) => void;\r\n  updateFixture: (id: string, updates: Partial<Fixture>) => void;\r\n  deleteFixture: (id: string) => void;\r\n  \r\n  // Merge/Split Operations\r\n  mergeTables: (tableIds: string[]) => void;\r\n  splitTable: (mergedTableId: string) => void;\r\n  canMergeTables: (tableIds: string[]) => boolean;\r\n  \r\n  // Layout Management\r\n  saveDraft: (floorId: string) => Promise<void>;\r\n  loadDraft: (floorId: string) => Promise<void>;\r\n  activateLayout: (floorId: string) => Promise<void>;\r\n  rollbackLayout: (floorId: string) => Promise<void>;\r\n  importLayout: (layout: FloorLayout) => void;\r\n  exportLayout: () => FloorLayout;\r\n  \r\n  // History Management\r\n  undo: () => void;\r\n  redo: () => void;\r\n  saveToHistory: () => void;\r\n  clearHistory: () => void;\r\n  \r\n  // Validation & Overlap Detection\r\n  validateLayout: () => { isValid: boolean; errors: string[] };\r\n  checkOverlaps: () => void;\r\n  resolveOverlap: (tableId1: string, tableId2: string) => void;\r\n  \r\n  // Grid & Positioning\r\n  setGridSize: (size: number) => void;\r\n  toggleSnapToGrid: () => void;\r\n  nudgeTable: (id: string, direction: 'up' | 'down' | 'left' | 'right') => void;\r\n  alignTables: (tableIds: string[], alignment: 'left' | 'right' | 'top' | 'bottom' | 'center') => void;\r\n  distributeTablesEvenly: (tableIds: string[], axis: 'horizontal' | 'vertical') => void;\r\n  \r\n  // View Management\r\n  setViewMode: (mode: '2D' | '3D') => void;\r\n  toggleGrid: () => void;\r\n  toggleZones: () => void;\r\n  resetView: () => void;\r\n  \r\n  // Real-time Status\r\n  updateTableStatus: (tableId: string, status: Table['status']) => void;\r\n  updateTableStates: (states: Record<string, 'FREE' | 'SEATED' | 'DIRTY' | 'RESERVED'>) => void;\r\n  \r\n  // WebSocket Management\r\n  connectWebSocket: () => void;\r\n  disconnectWebSocket: () => void;\r\n  handleTableEvent: (event: TableEvent) => void;\r\n  \r\n  // Utility Functions\r\n  getTable: (id: string) => Table | undefined;\r\n  getTablesInZone: (zoneId: string) => Table[];\r\n  getOverlappingTables: (tableId: string) => Table[];\r\n  findNearestTable: (x: number, y: number) => Table | undefined;\r\n  \r\n  // Cleanup\r\n  cleanup: () => void;\r\n  init?: () => void;\r\n}\r\n\r\nexport type TableStore = TableStoreState & TableStoreActions;\r\n\r\n// Initial state with production-ready sample data\r\nconst initialState: TableStoreState = {\r\n  tables: [\r\n    {\r\n      id: 'table-1',\r\n      label: 'T1',\r\n      x: 200,\r\n      y: 150,\r\n      z: 0,\r\n      w: 80,\r\n      h: 80,\r\n      rotation: 0,\r\n      shape: 'round',\r\n      capacity: 4,\r\n      seats: 4,\r\n      status: 'FREE',\r\n      zone: 'main-dining',\r\n      isActive: true,\r\n      isLocked: false,\r\n      tags: [],\r\n      createdAt: new Date(),\r\n      updatedAt: new Date()\r\n    },\r\n    {\r\n      id: 'table-2',\r\n      label: 'T2',\r\n      x: 350,\r\n      y: 200,\r\n      z: 0,\r\n      w: 80,\r\n      h: 80,\r\n      rotation: 0,\r\n      shape: 'square',\r\n      capacity: 4,\r\n      seats: 4,\r\n      status: 'SEATED',\r\n      zone: 'main-dining',\r\n      isActive: true,\r\n      isLocked: false,\r\n      tags: [],\r\n      createdAt: new Date(),\r\n      updatedAt: new Date()\r\n    },\r\n    {\r\n      id: 'table-3',\r\n      label: 'T3',\r\n      x: 500,\r\n      y: 150,\r\n      z: 0,\r\n      w: 120,\r\n      h: 80,\r\n      rotation: 0,\r\n      shape: 'rect',\r\n      capacity: 6,\r\n      seats: 6,\r\n      status: 'RESERVED',\r\n      zone: 'vip-section',\r\n      isActive: true,\r\n      isLocked: false,\r\n      tags: [],\r\n      createdAt: new Date(),\r\n      updatedAt: new Date()\r\n    }\r\n  ],\r\n  zones: [\r\n    {\r\n      id: 'main-dining',\r\n      name: 'Main Dining Area',\r\n      bounds: { x: 0, y: 0, width: 600, height: 400 },\r\n      color: '#3b82f6',\r\n      tableLimit: 10,\r\n      isActive: true,\r\n      metadata: {},\r\n      createdAt: new Date(),\r\n      updatedAt: new Date()\r\n    },\r\n    {\r\n      id: 'vip-section',\r\n      name: 'VIP Section',\r\n      bounds: { x: 450, y: 0, width: 300, height: 200 },\r\n      color: '#8b5cf6',\r\n      tableLimit: 5,\r\n      isActive: true,\r\n      metadata: {},\r\n      createdAt: new Date(),\r\n      updatedAt: new Date()\r\n    }\r\n  ],\r\n  fixtures: [],\r\n  selectedTableIds: [],\r\n  selectedTablesForMerge: [],\r\n  isDraftMode: true,\r\n  layoutVersion: 1,\r\n  isDirty: false,\r\n  gridSize: 20,\r\n  snapToGrid: true,\r\n  floorBounds: { width: 1200, height: 800 },\r\n  isLoading: false,\r\n  error: null,\r\n  validationErrors: [],\r\n  overlappingTableIds: [],\r\n  viewMode: '3D',\r\n  showGrid: true,\r\n  showZones: true,\r\n  history: [],\r\n  historyIndex: -1,\r\n  wsConnected: false,\r\n  tableStates: {},\r\n  overlapWorker: null,\r\n  chairWorker: null,\r\n  canUndo: false,\r\n  canRedo: false,\r\n  hasOverlaps: false,\r\n  totalTables: 3,\r\n  totalCapacity: 14,\r\n  availableTables: 1\r\n};\r\n\r\nexport const useTableStore = create<TableStore>()(\r\n  persist(\r\n    (set, get) => ({\r\n      ...initialState,\r\n\r\n      // Initialize workers\r\n      init: () => {\r\n        const state = get();\r\n        if (typeof window !== 'undefined' && !state.overlapWorker) {\r\n          try {\r\n            const overlapWorker = createOverlapWorker();\r\n            const chairWorker = createChairLayoutWorker();\r\n            \r\n            overlapWorker.onmessage = (e) => {\r\n              const { overlaps } = e.data;\r\n              set({ \r\n                overlappingTableIds: overlaps,\r\n                hasOverlaps: overlaps.length > 0,\r\n                validationErrors: overlaps.length > 0 ? ['Tables are overlapping'] : []\r\n              });\r\n            };\r\n            \r\n            set({ overlapWorker, chairWorker });\r\n          } catch (error) {\r\n            console.warn('Failed to initialize workers:', error);\r\n          }\r\n        }\r\n      },\r\n\r\n      // Table Management\r\n      addTable: ({ x, y, shape, capacity, zone }) => {\r\n        const state = get();\r\n        const gridSize = state.snapToGrid ? state.gridSize : 1;\r\n        const sizes = DEFAULT_SIZES[shape];\r\n        \r\n        const newTable: Table = {\r\n          id: crypto.randomUUID(),\r\n          label: generateTableId(state.tables),\r\n          x: snapToGrid(x, gridSize),\r\n          y: snapToGrid(y, gridSize),\r\n          z: 0,\r\n          w: sizes.w,\r\n          h: sizes.h,\r\n          rotation: 0,\r\n          shape,\r\n          capacity: capacity || (shape === 'rect' ? 6 : 4),\r\n          seats: capacity || (shape === 'rect' ? 6 : 4),\r\n          status: 'FREE',\r\n          zone,\r\n          isActive: true,\r\n          isLocked: false,\r\n          tags: [],\r\n          createdAt: new Date(),\r\n          updatedAt: new Date()\r\n        };\r\n\r\n        const newTables = [...state.tables, newTable];\r\n        \r\n        // Check for duplicates and overlaps\r\n        if (hasTableIdDuplicates(newTables)) {\r\n          set({ error: 'Duplicate table ID detected' });\r\n          return;\r\n        }\r\n\r\n        set({ \r\n          tables: newTables, \r\n          isDirty: true,\r\n          totalTables: newTables.length,\r\n          totalCapacity: newTables.reduce((sum, t) => sum + t.capacity, 0)\r\n        });\r\n        \r\n        get().saveToHistory();\r\n        get().checkOverlaps();\r\n      },\r\n\r\n      updateTable: (id, updates) => {\r\n        const state = get();\r\n        const tables = state.tables.map(table => \r\n          table.id === id ? { ...table, ...updates, updatedAt: new Date() } : table\r\n        );\r\n        \r\n        set({ \r\n          tables, \r\n          isDirty: true,\r\n          totalCapacity: tables.reduce((sum, t) => sum + t.capacity, 0)\r\n        });\r\n        \r\n        get().checkOverlaps();\r\n      },\r\n\r\n      deleteTable: (id) => {\r\n        const state = get();\r\n        const tables = state.tables.filter(table => table.id !== id);\r\n        \r\n        set({ \r\n          tables,\r\n          selectedTableIds: state.selectedTableIds.filter(selectedId => selectedId !== id),\r\n          isDirty: true,\r\n          totalTables: tables.length,\r\n          totalCapacity: tables.reduce((sum, t) => sum + t.capacity, 0)\r\n        });\r\n        \r\n        get().saveToHistory();\r\n        get().checkOverlaps();\r\n      },\r\n\r\n      duplicateTable: (id) => {\r\n        const state = get();\r\n        const originalTable = state.tables.find(t => t.id === id);\r\n        if (!originalTable) return;\r\n\r\n        const newTable: Table = {\r\n          ...originalTable,\r\n          id: crypto.randomUUID(),\r\n          label: generateTableId(state.tables),\r\n          x: originalTable.x + 50,\r\n          y: originalTable.y + 50,\r\n          createdAt: new Date(),\r\n          updatedAt: new Date()\r\n        };\r\n\r\n        const newTables = [...state.tables, newTable];\r\n        set({ \r\n          tables: newTables,\r\n          isDirty: true,\r\n          totalTables: newTables.length,\r\n          totalCapacity: newTables.reduce((sum, t) => sum + t.capacity, 0)\r\n        });\r\n        \r\n        get().saveToHistory();\r\n        get().checkOverlaps();\r\n      },\r\n\r\n      moveTable: (id, x, y, z = 0) => {\r\n        const state = get();\r\n        const gridSize = state.snapToGrid ? state.gridSize : 1;\r\n        \r\n        get().updateTable(id, {\r\n          x: snapToGrid(Math.max(0, x), gridSize),\r\n          y: snapToGrid(Math.max(0, y), gridSize),\r\n          z\r\n        });\r\n      },\r\n\r\n      rotateTable: (id, rotation) => {\r\n        get().updateTable(id, { rotation: rotation % 360 });\r\n      },\r\n\r\n      resizeTable: (id, w, h) => {\r\n        get().updateTable(id, { w: Math.max(40, w), h: Math.max(40, h) });\r\n      },\r\n\r\n      // Selection Management\r\n      selectTable: (id) => {\r\n        set({ selectedTableIds: id ? [id] : [] });\r\n      },\r\n\r\n      selectMultipleTables: (ids) => {\r\n        set({ selectedTableIds: ids });\r\n      },\r\n\r\n      toggleTableSelection: (id) => {\r\n        const state = get();\r\n        const isSelected = state.selectedTableIds.includes(id);\r\n        \r\n        if (isSelected) {\r\n          set({ selectedTableIds: state.selectedTableIds.filter(selectedId => selectedId !== id) });\r\n        } else {\r\n          set({ selectedTableIds: [...state.selectedTableIds, id] });\r\n        }\r\n      },\r\n\r\n      clearSelection: () => {\r\n        set({ selectedTableIds: [], selectedTablesForMerge: [] });\r\n      },\r\n\r\n      // Zone Management\r\n      addZone: (zoneData) => {\r\n        const state = get();\r\n        const newZone: Zone = {\r\n          ...zoneData,\r\n          id: crypto.randomUUID(),\r\n          createdAt: new Date(),\r\n          updatedAt: new Date()\r\n        };\r\n        \r\n        set({ \r\n          zones: [...state.zones, newZone],\r\n          isDirty: true\r\n        });\r\n        \r\n        get().saveToHistory();\r\n      },\r\n\r\n      updateZone: (id, updates) => {\r\n        const state = get();\r\n        const zones = state.zones.map(zone => \r\n          zone.id === id ? { ...zone, ...updates, updatedAt: new Date() } : zone\r\n        );\r\n        \r\n        set({ zones, isDirty: true });\r\n      },\r\n\r\n      deleteZone: (id) => {\r\n        const state = get();\r\n        const zones = state.zones.filter(zone => zone.id !== id);\r\n        const tables = state.tables.map(table => \r\n          table.zone === id ? { ...table, zone: undefined } : table\r\n        );\r\n        \r\n        set({ zones, tables, isDirty: true });\r\n        get().saveToHistory();\r\n      },\r\n\r\n      assignTableToZone: (tableId, zoneId) => {\r\n        get().updateTable(tableId, { zone: zoneId });\r\n      },\r\n\r\n      // Fixture Management\r\n      addFixture: (fixtureData) => {\r\n        const state = get();\r\n        const newFixture: Fixture = {\r\n          ...fixtureData,\r\n          id: crypto.randomUUID(),\r\n          createdAt: new Date(),\r\n          updatedAt: new Date()\r\n        };\r\n        \r\n        set({ \r\n          fixtures: [...state.fixtures, newFixture],\r\n          isDirty: true\r\n        });\r\n        \r\n        get().saveToHistory();\r\n      },\r\n\r\n      updateFixture: (id, updates) => {\r\n        const state = get();\r\n        const fixtures = state.fixtures.map(fixture => \r\n          fixture.id === id ? { ...fixture, ...updates, updatedAt: new Date() } : fixture\r\n        );\r\n        \r\n        set({ fixtures, isDirty: true });\r\n      },\r\n\r\n      deleteFixture: (id) => {\r\n        const state = get();\r\n        const fixtures = state.fixtures.filter(fixture => fixture.id !== id);\r\n        \r\n        set({ fixtures, isDirty: true });\r\n        get().saveToHistory();\r\n      },\r\n\r\n      // Merge/Split Operations\r\n      mergeTables: (tableIds) => {\r\n        const state = get();\r\n        const tablesToMerge = state.tables.filter(t => tableIds.includes(t.id));\r\n        \r\n        if (tablesToMerge.length < 2) return;\r\n        \r\n        // Calculate merged position (center of all tables)\r\n        const avgX = tablesToMerge.reduce((sum, t) => sum + t.x + t.w/2, 0) / tablesToMerge.length;\r\n        const avgY = tablesToMerge.reduce((sum, t) => sum + t.y + t.h/2, 0) / tablesToMerge.length;\r\n        const totalCapacity = tablesToMerge.reduce((sum, t) => sum + t.capacity, 0);\r\n        \r\n        const mergedTable: Table = {\r\n          id: crypto.randomUUID(),\r\n          label: `M${tablesToMerge.map(t => t.label).join('-')}`,\r\n          x: avgX - 60,\r\n          y: avgY - 40,\r\n          z: 0,\r\n          w: 120,\r\n          h: 80,\r\n          rotation: 0,\r\n          shape: 'rect',\r\n          capacity: totalCapacity,\r\n          seats: totalCapacity,\r\n          status: 'FREE',\r\n          zone: tablesToMerge[0].zone,\r\n          isActive: true,\r\n          isLocked: false,\r\n          tags: [],\r\n          createdAt: new Date(),\r\n          updatedAt: new Date()\r\n        };\r\n        \r\n        const tables = [\r\n          ...state.tables.filter(t => !tableIds.includes(t.id)),\r\n          mergedTable\r\n        ];\r\n        \r\n        set({ \r\n          tables,\r\n          selectedTableIds: [mergedTable.id],\r\n          selectedTablesForMerge: [],\r\n          isDirty: true,\r\n          totalCapacity: tables.reduce((sum, t) => sum + t.capacity, 0)\r\n        });\r\n        \r\n        get().saveToHistory();\r\n        get().checkOverlaps();\r\n      },\r\n\r\n      splitTable: (mergedTableId) => {\r\n        const state = get();\r\n        const mergedTable = state.tables.find(t => t.id === mergedTableId);\r\n        \r\n        if (!mergedTable) return;\r\n        \r\n        // Create split tables (simplified - in production, store original positions)\r\n        const numTables = Math.max(2, Math.floor(mergedTable.capacity / 4));\r\n        const restoredTables: Table[] = [];\r\n        \r\n        for (let i = 0; i < numTables; i++) {\r\n          restoredTables.push({\r\n            id: crypto.randomUUID(),\r\n            label: generateTableId([...state.tables, ...restoredTables]),\r\n            x: mergedTable.x + (i * 100),\r\n            y: mergedTable.y,\r\n            z: 0,\r\n            w: 80,\r\n            h: 80,\r\n            rotation: 0,\r\n            shape: 'round',\r\n            capacity: Math.floor(mergedTable.capacity / numTables),\r\n            seats: Math.floor(mergedTable.capacity / numTables),\r\n            status: 'FREE',\r\n            zone: mergedTable.zone,\r\n            isActive: true,\r\n            isLocked: false,\r\n            tags: [],\r\n            createdAt: new Date(),\r\n            updatedAt: new Date()\r\n          });\r\n        }\r\n        \r\n        const tables = [\r\n          ...state.tables.filter(t => t.id !== mergedTableId),\r\n          ...restoredTables\r\n        ];\r\n        \r\n        set({ \r\n          tables,\r\n          selectedTableIds: restoredTables.map(t => t.id),\r\n          isDirty: true,\r\n          totalTables: tables.length,\r\n          totalCapacity: tables.reduce((sum, t) => sum + t.capacity, 0)\r\n        });\r\n        \r\n        get().saveToHistory();\r\n        get().checkOverlaps();\r\n      },\r\n\r\n      canMergeTables: (tableIds) => {\r\n        const state = get();\r\n        const tables = state.tables.filter(t => tableIds.includes(t.id));\r\n        return tables.length >= 2 && tables.every(t => !t.isLocked);\r\n      },\r\n\r\n      // Layout Management\r\n      saveDraft: async (floorId) => {\r\n        const state = get();\r\n        set({ isLoading: true, error: null });\r\n\r\n        try {\r\n          const layout = get().exportLayout();\r\n          \r\n          const response = await fetch('/api/pos/floor/layout/draft', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'x-tenant-id': 'default',\r\n              'If-Match': state.layoutVersion.toString()\r\n            },\r\n            body: JSON.stringify({\r\n              floorId,\r\n              layout\r\n            })\r\n          });\r\n\r\n          if (!response.ok) {\r\n            const error = await response.json();\r\n            throw new Error(error.message || 'Failed to save draft');\r\n          }\r\n\r\n          const result = await response.json();\r\n          \r\n          set({ \r\n            isLoading: false, \r\n            isDirty: false,\r\n            layoutVersion: result.version || state.layoutVersion + 1\r\n          });\r\n        } catch (error) {\r\n          set({ \r\n            isLoading: false,\r\n            error: error instanceof Error ? error.message : 'Failed to save draft'\r\n          });\r\n        }\r\n      },\r\n\r\n      loadDraft: async (floorId) => {\r\n        set({ isLoading: true, error: null });\r\n\r\n        try {\r\n          const response = await fetch(`/api/pos/floor/layout/draft?floorId=${floorId}`, {\r\n            headers: {\r\n              'x-tenant-id': 'default'\r\n            }\r\n          });\r\n\r\n          if (response.status === 404) {\r\n            // No draft exists, continue with current state\r\n            set({ isLoading: false });\r\n            return;\r\n          }\r\n\r\n          if (!response.ok) {\r\n            throw new Error('Failed to load draft');\r\n          }\r\n\r\n          const { layout, version } = await response.json();\r\n          \r\n          if (layout) {\r\n            set({\r\n              tables: layout.tables || [],\r\n              zones: layout.zones || [],\r\n              fixtures: layout.fixtures || [],\r\n              gridSize: layout.gridSize || 20,\r\n              floorBounds: layout.floorBounds || { width: 1200, height: 800 },\r\n              layoutVersion: version || 1,\r\n              isDirty: false,\r\n              isLoading: false,\r\n              totalTables: (layout.tables || []).length,\r\n              totalCapacity: (layout.tables || []).reduce((sum: number, t: Table) => sum + t.capacity, 0)\r\n            });\r\n            \r\n            get().checkOverlaps();\r\n          }\r\n        } catch (error) {\r\n          set({ \r\n            isLoading: false,\r\n            error: error instanceof Error ? error.message : 'Failed to load draft'\r\n          });\r\n        }\r\n      },\r\n\r\n      activateLayout: async (floorId) => {\r\n        const state = get();\r\n        const validation = get().validateLayout();\r\n        \r\n        if (!validation.isValid) {\r\n          set({ error: 'Cannot activate layout with validation errors' });\r\n          return;\r\n        }\r\n\r\n        set({ isLoading: true, error: null });\r\n\r\n        try {\r\n          const response = await fetch('/api/pos/floor/layout/activate', {\r\n            method: 'PUT',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'x-tenant-id': 'default'\r\n            },\r\n            body: JSON.stringify({\r\n              floorId,\r\n              expectVersion: state.layoutVersion\r\n            })\r\n          });\r\n\r\n          if (!response.ok) {\r\n            const error = await response.json();\r\n            throw new Error(error.message || 'Failed to activate layout');\r\n          }\r\n\r\n          const result = await response.json();\r\n          \r\n          set({ \r\n            isLoading: false, \r\n            isDraftMode: false,\r\n            layoutVersion: result.version || state.layoutVersion + 1\r\n          });\r\n        } catch (error) {\r\n          set({ \r\n            isLoading: false,\r\n            error: error instanceof Error ? error.message : 'Failed to activate layout'\r\n          });\r\n        }\r\n      },\r\n\r\n      rollbackLayout: async (floorId) => {\r\n        set({ isLoading: true, error: null });\r\n\r\n        try {\r\n          const response = await fetch('/api/pos/floor/layout/rollback', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'x-tenant-id': 'default'\r\n            },\r\n            body: JSON.stringify({ floorId })\r\n          });\r\n\r\n          if (!response.ok) {\r\n            throw new Error('Failed to rollback layout');\r\n          }\r\n\r\n          await get().loadDraft(floorId);\r\n          set({ isLoading: false });\r\n        } catch (error) {\r\n          set({ \r\n            isLoading: false,\r\n            error: error instanceof Error ? error.message : 'Failed to rollback layout'\r\n          });\r\n        }\r\n      },\r\n\r\n      importLayout: (layout) => {\r\n        set({\r\n          tables: layout.tables || [],\r\n          zones: layout.zones || [],\r\n          fixtures: layout.fixtures || [],\r\n          gridSize: layout.gridSize || 20,\r\n          floorBounds: layout.floorBounds || { width: 1200, height: 800 },\r\n          isDirty: true,\r\n          totalTables: (layout.tables || []).length,\r\n          totalCapacity: (layout.tables || []).reduce((sum, t) => sum + t.capacity, 0)\r\n        });\r\n        \r\n        get().saveToHistory();\r\n        get().checkOverlaps();\r\n      },\r\n\r\n      exportLayout: () => {\r\n        const state = get();\r\n        return {\r\n          tables: state.tables,\r\n          zones: state.zones,\r\n          fixtures: state.fixtures,\r\n          gridSize: state.gridSize,\r\n          floorBounds: state.floorBounds,\r\n          metadata: {\r\n            version: state.layoutVersion,\r\n            exportedAt: new Date().toISOString(),\r\n            totalTables: state.totalTables,\r\n            totalCapacity: state.totalCapacity\r\n          }\r\n        };\r\n      },\r\n\r\n      // History Management\r\n      saveToHistory: () => {\r\n        const state = get();\r\n        const currentState = {\r\n          tables: [...state.tables],\r\n          zones: [...state.zones],\r\n          fixtures: [...state.fixtures]\r\n        };\r\n        \r\n        const newHistory = state.history.slice(0, state.historyIndex + 1);\r\n        newHistory.push(currentState);\r\n        \r\n        if (newHistory.length > MAX_HISTORY_SIZE) {\r\n          newHistory.shift();\r\n        }\r\n        \r\n        set({\r\n          history: newHistory,\r\n          historyIndex: newHistory.length - 1,\r\n          canUndo: true,\r\n          canRedo: false\r\n        });\r\n      },\r\n\r\n      undo: () => {\r\n        const state = get();\r\n        if (state.historyIndex > 0) {\r\n          const previousState = state.history[state.historyIndex - 1];\r\n          \r\n          set({\r\n            tables: previousState.tables,\r\n            zones: previousState.zones,\r\n            fixtures: previousState.fixtures,\r\n            historyIndex: state.historyIndex - 1,\r\n            canUndo: state.historyIndex - 1 > 0,\r\n            canRedo: true,\r\n            isDirty: true,\r\n            totalTables: previousState.tables.length,\r\n            totalCapacity: previousState.tables.reduce((sum, t) => sum + t.capacity, 0)\r\n          });\r\n          \r\n          get().checkOverlaps();\r\n        }\r\n      },\r\n\r\n      redo: () => {\r\n        const state = get();\r\n        if (state.historyIndex < state.history.length - 1) {\r\n          const nextState = state.history[state.historyIndex + 1];\r\n          \r\n          set({\r\n            tables: nextState.tables,\r\n            zones: nextState.zones,\r\n            fixtures: nextState.fixtures,\r\n            historyIndex: state.historyIndex + 1,\r\n            canUndo: true,\r\n            canRedo: state.historyIndex + 1 < state.history.length - 1,\r\n            isDirty: true,\r\n            totalTables: nextState.tables.length,\r\n            totalCapacity: nextState.tables.reduce((sum, t) => sum + t.capacity, 0)\r\n          });\r\n          \r\n          get().checkOverlaps();\r\n        }\r\n      },\r\n\r\n      clearHistory: () => {\r\n        set({\r\n          history: [],\r\n          historyIndex: -1,\r\n          canUndo: false,\r\n          canRedo: false\r\n        });\r\n      },\r\n\r\n      // Validation & Overlap Detection\r\n      validateLayout: () => {\r\n        const state = get();\r\n        const errors: string[] = [];\r\n        \r\n        // Check for duplicate IDs\r\n        if (hasTableIdDuplicates(state.tables)) {\r\n          errors.push('Duplicate table IDs detected');\r\n        }\r\n        \r\n        // Check for overlaps\r\n        if (state.hasOverlaps) {\r\n          errors.push('Tables are overlapping');\r\n        }\r\n        \r\n        // Check table positions are within bounds\r\n        const outOfBounds = state.tables.filter(table => \r\n          table.x < 0 || table.y < 0 || \r\n          table.x + table.w > state.floorBounds.width ||\r\n          table.y + table.h > state.floorBounds.height\r\n        );\r\n        \r\n        if (outOfBounds.length > 0) {\r\n          errors.push(`${outOfBounds.length} table(s) are outside floor bounds`);\r\n        }\r\n        \r\n        // Check for tables without zones if zones are required\r\n        const tablesWithoutZones = state.tables.filter(table => !table.zone);\r\n        if (state.zones.length > 0 && tablesWithoutZones.length > 0) {\r\n          errors.push(`${tablesWithoutZones.length} table(s) need zone assignment`);\r\n        }\r\n        \r\n        return {\r\n          isValid: errors.length === 0,\r\n          errors\r\n        };\r\n      },\r\n\r\n      checkOverlaps: () => {\r\n        const state = get();\r\n        if (state.overlapWorker) {\r\n          state.overlapWorker.postMessage({\r\n            tables: state.tables,\r\n            action: 'checkOverlaps'\r\n          });\r\n        }\r\n      },\r\n\r\n      resolveOverlap: (tableId1, tableId2) => {\r\n        const state = get();\r\n        const table1 = state.tables.find(t => t.id === tableId1);\r\n        const table2 = state.tables.find(t => t.id === tableId2);\r\n        \r\n        if (table1 && table2) {\r\n          // Simple resolution: move table2 to the right\r\n          get().moveTable(tableId2, table2.x + table1.w + 20, table2.y);\r\n        }\r\n      },\r\n\r\n      // Grid & Positioning\r\n      setGridSize: (size) => {\r\n        set({ gridSize: size, isDirty: true });\r\n      },\r\n\r\n      toggleSnapToGrid: () => {\r\n        const state = get();\r\n        set({ snapToGrid: !state.snapToGrid });\r\n      },\r\n\r\n      nudgeTable: (id, direction) => {\r\n        const state = get();\r\n        const table = state.tables.find(t => t.id === id);\r\n        if (!table) return;\r\n        \r\n        const nudgeDistance = state.gridSize;\r\n        let newX = table.x;\r\n        let newY = table.y;\r\n        \r\n        switch (direction) {\r\n          case 'up':\r\n            newY = Math.max(0, table.y - nudgeDistance);\r\n            break;\r\n          case 'down':\r\n            newY = Math.min(state.floorBounds.height - table.h, table.y + nudgeDistance);\r\n            break;\r\n          case 'left':\r\n            newX = Math.max(0, table.x - nudgeDistance);\r\n            break;\r\n          case 'right':\r\n            newX = Math.min(state.floorBounds.width - table.w, table.x + nudgeDistance);\r\n            break;\r\n        }\r\n        \r\n        get().moveTable(id, newX, newY);\r\n      },\r\n\r\n      alignTables: (tableIds, alignment) => {\r\n        const state = get();\r\n        const tables = state.tables.filter(t => tableIds.includes(t.id));\r\n        if (tables.length < 2) return;\r\n        \r\n        let referenceValue: number;\r\n        \r\n        switch (alignment) {\r\n          case 'left':\r\n            referenceValue = Math.min(...tables.map(t => t.x));\r\n            tables.forEach(table => get().moveTable(table.id, referenceValue, table.y));\r\n            break;\r\n          case 'right':\r\n            referenceValue = Math.max(...tables.map(t => t.x + t.w));\r\n            tables.forEach(table => get().moveTable(table.id, referenceValue - table.w, table.y));\r\n            break;\r\n          case 'top':\r\n            referenceValue = Math.min(...tables.map(t => t.y));\r\n            tables.forEach(table => get().moveTable(table.id, table.x, referenceValue));\r\n            break;\r\n          case 'bottom':\r\n            referenceValue = Math.max(...tables.map(t => t.y + t.h));\r\n            tables.forEach(table => get().moveTable(table.id, table.x, referenceValue - table.h));\r\n            break;\r\n          case 'center':\r\n            const centerX = tables.reduce((sum, t) => sum + t.x + t.w/2, 0) / tables.length;\r\n            const centerY = tables.reduce((sum, t) => sum + t.y + t.h/2, 0) / tables.length;\r\n            tables.forEach(table => get().moveTable(table.id, centerX - table.w/2, centerY - table.h/2));\r\n            break;\r\n        }\r\n        \r\n        get().saveToHistory();\r\n      },\r\n\r\n      distributeTablesEvenly: (tableIds, axis) => {\r\n        const state = get();\r\n        const tables = state.tables.filter(t => tableIds.includes(t.id));\r\n        if (tables.length < 3) return;\r\n        \r\n        tables.sort((a, b) => axis === 'horizontal' ? a.x - b.x : a.y - b.y);\r\n        \r\n        const first = tables[0];\r\n        const last = tables[tables.length - 1];\r\n        \r\n        if (axis === 'horizontal') {\r\n          const totalDistance = (last.x + last.w) - first.x;\r\n          const spacing = totalDistance / (tables.length - 1);\r\n          \r\n          tables.forEach((table, index) => {\r\n            if (index > 0 && index < tables.length - 1) {\r\n              const newX = first.x + (spacing * index);\r\n              get().moveTable(table.id, newX, table.y);\r\n            }\r\n          });\r\n        } else {\r\n          const totalDistance = (last.y + last.h) - first.y;\r\n          const spacing = totalDistance / (tables.length - 1);\r\n          \r\n          tables.forEach((table, index) => {\r\n            if (index > 0 && index < tables.length - 1) {\r\n              const newY = first.y + (spacing * index);\r\n              get().moveTable(table.id, table.x, newY);\r\n            }\r\n          });\r\n        }\r\n        \r\n        get().saveToHistory();\r\n      },\r\n\r\n      // View Management\r\n      setViewMode: (mode) => {\r\n        set({ viewMode: mode });\r\n      },\r\n\r\n      toggleGrid: () => {\r\n        const state = get();\r\n        set({ showGrid: !state.showGrid });\r\n      },\r\n\r\n      toggleZones: () => {\r\n        const state = get();\r\n        set({ showZones: !state.showZones });\r\n      },\r\n\r\n      resetView: () => {\r\n        set({\r\n          selectedTableIds: [],\r\n          selectedTablesForMerge: [],\r\n          error: null\r\n        });\r\n      },\r\n\r\n      // Real-time Status\r\n      updateTableStatus: (tableId, status) => {\r\n        get().updateTable(tableId, { status });\r\n        \r\n        const state = get();\r\n        set({\r\n          tableStates: {\r\n            ...state.tableStates,\r\n            [tableId]: status\r\n          },\r\n          availableTables: state.tables.filter(t => t.status === 'FREE').length\r\n        });\r\n      },\r\n\r\n      updateTableStates: (states) => {\r\n        set({ \r\n          tableStates: states,\r\n          availableTables: Object.values(states).filter(status => status === 'FREE').length\r\n        });\r\n      },\r\n\r\n      // WebSocket Management\r\n      connectWebSocket: () => {\r\n        if (typeof window !== 'undefined') {\r\n          // WebSocket implementation would go here\r\n          set({ wsConnected: true });\r\n        }\r\n      },\r\n\r\n      disconnectWebSocket: () => {\r\n        set({ wsConnected: false });\r\n      },\r\n\r\n      handleTableEvent: (event) => {\r\n        switch (event.type) {\r\n          case 'TABLE_STATUS_CHANGED':\r\n            if (event.tableId) {\r\n              get().updateTableStatus(event.tableId, event.data.status);\r\n            }\r\n            break;\r\n          case 'LAYOUT_ACTIVATED':\r\n            set({ isDraftMode: false });\r\n            break;\r\n          // Add more event handlers as needed\r\n        }\r\n      },\r\n\r\n      // Utility Functions\r\n      getTable: (id) => {\r\n        const state = get();\r\n        return state.tables.find(t => t.id === id);\r\n      },\r\n\r\n      getTablesInZone: (zoneId) => {\r\n        const state = get();\r\n        return state.tables.filter(t => t.zone === zoneId);\r\n      },\r\n\r\n      getOverlappingTables: (tableId) => {\r\n        const state = get();\r\n        const overlaps = state.overlappingTableIds.filter(pair => pair.includes(tableId));\r\n        const overlappingIds = overlaps.flat().filter(id => id !== tableId);\r\n        return state.tables.filter(t => overlappingIds.includes(t.id));\r\n      },\r\n\r\n      findNearestTable: (x, y) => {\r\n        const state = get();\r\n        return state.tables.reduce((nearest, table) => {\r\n          const centerX = table.x + table.w / 2;\r\n          const centerY = table.y + table.h / 2;\r\n          const distance = Math.sqrt((x - centerX) ** 2 + (y - centerY) ** 2);\r\n          \r\n          if (!nearest || distance < nearest.distance) {\r\n            return { table, distance };\r\n          }\r\n          \r\n          return nearest;\r\n        }, null as { table: Table; distance: number } | null)?.table;\r\n      },\r\n\r\n      // Cleanup\r\n      cleanup: () => {\r\n        const state = get();\r\n        if (state.overlapWorker) {\r\n          state.overlapWorker.terminate();\r\n        }\r\n        if (state.chairWorker) {\r\n          state.chairWorker.terminate();\r\n        }\r\n        set({ overlapWorker: null, chairWorker: null });\r\n      }\r\n    }),\r\n    {\r\n      name: 'table-management-store',\r\n      partialize: (state) => ({\r\n        tables: state.tables,\r\n        zones: state.zones,\r\n        fixtures: state.fixtures,\r\n        gridSize: state.gridSize,\r\n        snapToGrid: state.snapToGrid,\r\n        viewMode: state.viewMode,\r\n        showGrid: state.showGrid,\r\n        showZones: state.showZones,\r\n        floorBounds: state.floorBounds\r\n      })\r\n    }\r\n  )\r\n);\r\n\r\n// Initialize workers on mount\r\nif (typeof window !== 'undefined') {\r\n  useTableStore.getState().init?.();\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4401, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/FloorEditorCanvas.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useRef, useCallback, useState, useEffect, Suspense } from 'react';\r\nimport { Canvas } from '@react-three/fiber';\r\nimport { OrbitControls, PerspectiveCamera, Html, Environment } from '@react-three/drei';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\n\r\n// Custom Grid Component\r\nfunction CustomGrid({ size = 20, divisions = 20, color = \"#e2e8f0\" }) {\r\n  const points = [];\r\n  const halfSize = size / 2;\r\n  \r\n  // Create grid lines\r\n  for (let i = 0; i <= divisions; i++) {\r\n    const step = size / divisions;\r\n    const pos = -halfSize + i * step;\r\n    \r\n    // Horizontal lines\r\n    points.push([-halfSize, 0, pos], [halfSize, 0, pos]);\r\n    // Vertical lines  \r\n    points.push([pos, 0, -halfSize], [pos, 0, halfSize]);\r\n  }\r\n  \r\n  return (\r\n    <lineSegments>\r\n      <bufferGeometry>\r\n        <bufferAttribute\r\n          attach=\"attributes-position\"\r\n          count={points.length}\r\n          array={new Float32Array(points.flat())}\r\n          itemSize={3}\r\n        />\r\n      </bufferGeometry>\r\n      <lineBasicMaterial color={color} />\r\n    </lineSegments>\r\n  );\r\n}\r\n\r\n// Color helper for table status\r\nfunction getStatusColor(status: string) {\r\n  switch (status) {\r\n    case 'FREE': return '#10b981';\r\n    case 'SEATED': return '#ef4444';\r\n    case 'DIRTY': return '#f59e0b';\r\n    case 'RESERVED': return '#8b5cf6';\r\n    default: return '#6b7280';\r\n  }\r\n}\r\n\r\n// 3D Table Component\r\nfunction Table3D({ table, isSelected, onClick }: { \r\n  table: any;\r\n  isSelected: boolean;\r\n  onClick: () => void;\r\n}) {\r\n  const [hovered, setHovered] = useState(false);\r\n  \r\n  const tableColor = getStatusColor(table.status);\r\n  const chairColor = table.status === 'DIRTY' ? '#8b5cf6' : '#654321';\r\n\r\n  return (\r\n    <group \r\n      position={[table.x, 0, table.y]} \r\n      rotation={[0, table.rotation || 0, 0]}\r\n      onClick={onClick}\r\n      onPointerOver={() => setHovered(true)}\r\n      onPointerOut={() => setHovered(false)}\r\n    >\r\n      {/* Table Top */}\r\n      <mesh position={[0, 0.8, 0]} castShadow receiveShadow>\r\n        {table.shape === 'round' ? (\r\n          <cylinderGeometry args={[table.w / 2, table.w / 2, 0.1]} />\r\n        ) : (\r\n          <boxGeometry args={[table.w, 0.1, table.h]} />\r\n        )}\r\n        <meshPhysicalMaterial \r\n          color={isSelected ? '#3b82f6' : tableColor}\r\n          roughness={0.1}\r\n          metalness={0.1}\r\n        />\r\n      </mesh>\r\n\r\n      {/* Table Legs */}\r\n      {table.shape === 'round' ? (\r\n        // Central pedestal for round tables\r\n        <mesh position={[0, 0.4, 0]} castShadow>\r\n          <cylinderGeometry args={[0.3, 0.3, 0.8]} />\r\n          <meshPhysicalMaterial color=\"#8B4513\" roughness={0.8} />\r\n        </mesh>\r\n      ) : (\r\n        // Corner legs for rectangular tables\r\n        [\r\n          [-table.w/2 + 0.1, -table.h/2 + 0.1],\r\n          [table.w/2 - 0.1, -table.h/2 + 0.1],\r\n          [-table.w/2 + 0.1, table.h/2 - 0.1],\r\n          [table.w/2 - 0.1, table.h/2 - 0.1]\r\n        ].map(([x, z], i) => (\r\n          <mesh key={i} position={[x, 0.4, z]} castShadow>\r\n            <cylinderGeometry args={[0.05, 0.05, 0.8]} />\r\n            <meshPhysicalMaterial color=\"#654321\" roughness={0.8} />\r\n          </mesh>\r\n        ))\r\n      )}\r\n\r\n      {/* Chairs */}\r\n      {[...Array(table.capacity)].map((_, i) => {\r\n        const angle = (i * 2 * Math.PI) / table.capacity;\r\n        const distance = table.shape === 'round' ? table.w / 2 + 0.8 : Math.max(table.w, table.h) / 2 + 0.8;\r\n        return (\r\n          <group\r\n            key={i}\r\n            position={[\r\n              Math.cos(angle) * distance,\r\n              0,\r\n              Math.sin(angle) * distance\r\n            ]}\r\n            rotation={[0, angle + Math.PI, 0]}\r\n          >\r\n            {/* Chair Seat */}\r\n            <mesh position={[0, 0.5, 0]} castShadow>\r\n              <boxGeometry args={[0.5, 0.1, 0.5]} />\r\n              <meshPhysicalMaterial color={chairColor} roughness={0.3} />\r\n            </mesh>\r\n            \r\n            {/* Chair Back */}\r\n            <mesh position={[0, 0.8, -0.2]} castShadow>\r\n              <boxGeometry args={[0.5, 0.6, 0.1]} />\r\n              <meshPhysicalMaterial color={chairColor} roughness={0.3} />\r\n            </mesh>\r\n          </group>\r\n        );\r\n      })}\r\n\r\n      {/* Table Label */}\r\n      <Html position={[0, 1.5, 0]} center>\r\n        <div className={`px-3 py-1 rounded-lg text-white font-bold text-sm shadow-lg transition-all ${\r\n          isSelected ? 'bg-blue-600 scale-110' : hovered ? 'bg-indigo-600' : 'bg-purple-600'\r\n        }`}>\r\n          {table.label}\r\n        </div>\r\n      </Html>\r\n\r\n      {/* Status Indicator */}\r\n      <mesh position={[0, 1.2, 0]}>\r\n        <sphereGeometry args={[0.1]} />\r\n        <meshBasicMaterial color={tableColor} />\r\n      </mesh>\r\n    </group>\r\n  );\r\n}\r\n\r\n// 3D Scene Component\r\nfunction Scene3D() {\r\n  const { tables, selectedTableIds, toggleTableSelection, zones, showGrid, fixtures } = useTableStore();\r\n\r\n  return (\r\n    <>\r\n      {/* Lighting */}\r\n      <ambientLight intensity={0.6} />\r\n      <pointLight position={[10, 10, 10]} />\r\n      <directionalLight position={[5, 5, 5]} intensity={0.4} />\r\n\r\n      {/* Floor */}\r\n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, -0.05, 0]} receiveShadow>\r\n        <planeGeometry args={[20, 20]} />\r\n        <meshStandardMaterial color=\"#f8fafc\" />\r\n      </mesh>\r\n\r\n      {/* Grid */}\r\n      {showGrid && (\r\n        <CustomGrid \r\n          size={20} \r\n          divisions={20}\r\n          color=\"#e2e8f0\"\r\n        />\r\n      )}\r\n\r\n      {/* Tables */}\r\n      {tables.map((table) => (\r\n        <Table3D\r\n          key={table.id}\r\n          table={table}\r\n          isSelected={selectedTableIds.includes(table.id)}\r\n          onClick={() => toggleTableSelection(table.id)}\r\n        />\r\n      ))}\r\n\r\n      {/* Zones */}\r\n      {zones.map((zone) => zone.bounds ? (\r\n        <mesh key={zone.id} position={[zone.bounds.x / 100 - 6, -0.04, zone.bounds.y / 100 - 4]}>\r\n          <planeGeometry args={[zone.bounds.w / 100, zone.bounds.h / 100]} />\r\n          <meshBasicMaterial \r\n            color={zone.color} \r\n            transparent \r\n            opacity={0.1}\r\n          />\r\n        </mesh>\r\n      ) : null)}\r\n\r\n      {/* Fixtures */}\r\n      {fixtures.map((fixture) => (\r\n        <mesh key={fixture.id} position={[fixture.x / 100 - 6, 0.1, fixture.y / 100 - 4]}>\r\n          <boxGeometry args={[fixture.w / 100, 0.2, fixture.h / 100]} />\r\n          <meshStandardMaterial color=\"#64748b\" />\r\n        </mesh>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\n// 2D Canvas Component\r\nfunction Canvas2D() {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const { \r\n    tables, \r\n    zones, \r\n    fixtures,\r\n    selectedTableIds, \r\n    showGrid, \r\n    showZones, \r\n    gridSize,\r\n    toggleTableSelection,\r\n    moveTable,\r\n    resizeTable\r\n  } = useTableStore();\r\n\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\r\n  const [dragTableId, setDragTableId] = useState<string | null>(null);\r\n\r\n  const draw = useCallback(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    // Clear canvas\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    // Draw grid\r\n    if (showGrid) {\r\n      ctx.strokeStyle = '#e2e8f0';\r\n      ctx.lineWidth = 1;\r\n      for (let x = 0; x < canvas.width; x += gridSize) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, 0);\r\n        ctx.lineTo(x, canvas.height);\r\n        ctx.stroke();\r\n      }\r\n      for (let y = 0; y < canvas.height; y += gridSize) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, y);\r\n        ctx.lineTo(canvas.width, y);\r\n        ctx.stroke();\r\n      }\r\n    }\r\n\r\n    // Draw zones\r\n    if (showZones) {\r\n      zones.forEach((zone) => {\r\n        if (zone.bounds) {\r\n          ctx.fillStyle = zone.color + '20';\r\n          ctx.strokeStyle = zone.color;\r\n          ctx.lineWidth = 2;\r\n          ctx.fillRect(zone.bounds.x, zone.bounds.y, zone.bounds.w, zone.bounds.h);\r\n          ctx.strokeRect(zone.bounds.x, zone.bounds.y, zone.bounds.w, zone.bounds.h);\r\n          \r\n          // Zone label\r\n          ctx.fillStyle = zone.color;\r\n          ctx.font = '12px sans-serif';\r\n          ctx.fillText(zone.name, zone.bounds.x + 5, zone.bounds.y + 15);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Draw fixtures\r\n    fixtures.forEach((fixture) => {\r\n      ctx.fillStyle = '#64748b';\r\n      ctx.strokeStyle = '#475569';\r\n      ctx.lineWidth = 1;\r\n      ctx.fillRect(fixture.x, fixture.y, fixture.w, fixture.h);\r\n      ctx.strokeRect(fixture.x, fixture.y, fixture.w, fixture.h);\r\n      \r\n      // Fixture label\r\n      ctx.fillStyle = 'white';\r\n      ctx.font = '10px sans-serif';\r\n      ctx.textAlign = 'center';\r\n      ctx.fillText(\r\n        fixture.kind, \r\n        fixture.x + fixture.w / 2, \r\n        fixture.y + fixture.h / 2 + 3\r\n      );\r\n    });\r\n\r\n    // Draw tables\r\n    tables.forEach((table) => {\r\n      const isSelected = selectedTableIds.includes(table.id);\r\n      \r\n      // Table color based on status\r\n      let color = '#10b981'; // FREE\r\n      switch (table.status) {\r\n        case 'SEATED': color = '#ef4444'; break;\r\n        case 'RESERVED': color = '#f59e0b'; break;\r\n        case 'DIRTY': color = '#6b7280'; break;\r\n      }\r\n\r\n      if (isSelected) {\r\n        color = '#3b82f6';\r\n      }\r\n\r\n      ctx.fillStyle = color;\r\n      ctx.strokeStyle = isSelected ? '#1d4ed8' : '#374151';\r\n      ctx.lineWidth = isSelected ? 3 : 1;\r\n\r\n      // Draw table shape\r\n      if (table.shape === 'round') {\r\n        ctx.beginPath();\r\n        ctx.arc(table.x + table.w / 2, table.y + table.h / 2, table.w / 2, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n        ctx.stroke();\r\n      } else {\r\n        ctx.fillRect(table.x, table.y, table.w, table.h);\r\n        ctx.strokeRect(table.x, table.y, table.w, table.h);\r\n      }\r\n\r\n      // Draw table label\r\n      ctx.fillStyle = 'white';\r\n      ctx.font = '12px sans-serif';\r\n      ctx.textAlign = 'center';\r\n      ctx.fillText(\r\n        table.label, \r\n        table.x + table.w / 2, \r\n        table.y + table.h / 2 + 4\r\n      );\r\n\r\n      // Draw chairs\r\n      const chairRadius = 8;\r\n      const chairDistance = Math.max(table.w, table.h) / 2 + 15;\r\n      for (let i = 0; i < table.capacity; i++) {\r\n        const angle = (i * 2 * Math.PI) / table.capacity;\r\n        const chairX = table.x + table.w / 2 + Math.cos(angle) * chairDistance;\r\n        const chairY = table.y + table.h / 2 + Math.sin(angle) * chairDistance;\r\n        \r\n        ctx.fillStyle = '#8b5cf6';\r\n        ctx.beginPath();\r\n        ctx.arc(chairX, chairY, chairRadius, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n      }\r\n\r\n      // Draw selection handles\r\n      if (isSelected) {\r\n        const handleSize = 6;\r\n        ctx.fillStyle = '#1d4ed8';\r\n        // Corner handles\r\n        const corners = [\r\n          { x: table.x - handleSize / 2, y: table.y - handleSize / 2 },\r\n          { x: table.x + table.w - handleSize / 2, y: table.y - handleSize / 2 },\r\n          { x: table.x + table.w - handleSize / 2, y: table.y + table.h - handleSize / 2 },\r\n          { x: table.x - handleSize / 2, y: table.y + table.h - handleSize / 2 }\r\n        ];\r\n        corners.forEach((corner) => {\r\n          ctx.fillRect(corner.x, corner.y, handleSize, handleSize);\r\n        });\r\n      }\r\n    });\r\n  }, [tables, zones, fixtures, selectedTableIds, showGrid, showZones, gridSize]);\r\n\r\n  // Mouse event handlers\r\n  const handleMouseDown = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    // Find clicked table\r\n    for (const table of tables) {\r\n      if (x >= table.x && x <= table.x + table.w && \r\n          y >= table.y && y <= table.y + table.h) {\r\n        setDragTableId(table.id);\r\n        setDragStart({ x: x - table.x, y: y - table.y });\r\n        setIsDragging(true);\r\n        \r\n        if (!e.shiftKey) {\r\n          toggleTableSelection(table.id);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n    if (!isDragging || !dragTableId) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n\r\n    const newX = x - dragStart.x;\r\n    const newY = y - dragStart.y;\r\n\r\n    moveTable(dragTableId, newX, newY);\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDragging(false);\r\n    setDragTableId(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    draw();\r\n  }, [draw]);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      width={1200}\r\n      height={800}\r\n      className=\"w-full h-full border border-slate-200 bg-white rounded-lg\"\r\n      onMouseDown={handleMouseDown}\r\n      onMouseMove={handleMouseMove}\r\n      onMouseUp={handleMouseUp}\r\n      style={{ cursor: isDragging ? 'grabbing' : 'grab' }}\r\n    />\r\n  );\r\n}\r\n\r\n// Main Floor Editor Canvas Component\r\nexport function FloorEditorCanvas() {\r\n  const { viewMode, isLoading } = useTableStore();\r\n\r\n  if (viewMode === '3D') {\r\n    return (\r\n      <div className=\"w-full h-full relative\">\r\n        <Canvas\r\n          camera={{ position: [10, 10, 10], fov: 75 }}\r\n          className=\"w-full h-full\"\r\n          shadows\r\n        >\r\n          <PerspectiveCamera makeDefault position={[10, 10, 10]} />\r\n          <OrbitControls \r\n            enablePan={true}\r\n            enableZoom={true}\r\n            enableRotate={true}\r\n            minDistance={5}\r\n            maxDistance={50}\r\n          />\r\n          <Scene3D />\r\n        </Canvas>\r\n        \r\n        {/* 3D Controls Overlay */}\r\n        <div className=\"absolute top-4 left-4 bg-black/70 text-white p-3 rounded-lg text-xs space-y-1\">\r\n          <div>Left-click + drag: Rotate</div>\r\n          <div>Right-click + drag: Pan</div>\r\n          <div>Scroll: Zoom</div>\r\n          <div>Click tables: Select</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full h-full relative\">\r\n      <Canvas2D />\r\n      \r\n      {/* 2D Controls Overlay */}\r\n      <div className=\"absolute top-4 left-4 bg-black/70 text-white p-3 rounded-lg text-xs space-y-1\">\r\n        <div>Click + drag: Move tables</div>\r\n        <div>Shift + click: Multi-select</div>\r\n        <div>Handles: Resize tables</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n// 3D Restaurant Floor\r\nfunction RestaurantFloor() {\r\n  const { tables, selectedTableId, selectTable } = useTableStore();\r\n\r\n  return (\r\n    <>\r\n      {/* Floor */}\r\n      <mesh rotation={[-Math.PI / 2, 0, 0]} receiveShadow position={[0, -0.1, 0]}>\r\n        <planeGeometry args={[30, 20]} />\r\n        <meshPhysicalMaterial \r\n          color=\"#f8fafc\"\r\n          roughness={0.1}\r\n          metalness={0.05}\r\n        />\r\n      </mesh>\r\n\r\n      {/* Restaurant Walls */}\r\n      <mesh position={[0, 2, -10]} castShadow>\r\n        <boxGeometry args={[30, 4, 0.2]} />\r\n        <meshPhysicalMaterial color=\"#e2e8f0\" />\r\n      </mesh>\r\n      \r\n      <mesh position={[0, 2, 10]} castShadow>\r\n        <boxGeometry args={[30, 4, 0.2]} />\r\n        <meshPhysicalMaterial color=\"#e2e8f0\" />\r\n      </mesh>\r\n\r\n      <mesh position={[-15, 2, 0]} castShadow>\r\n        <boxGeometry args={[0.2, 4, 20]} />\r\n        <meshPhysicalMaterial color=\"#e2e8f0\" />\r\n      </mesh>\r\n\r\n      <mesh position={[15, 2, 0]} castShadow>\r\n        <boxGeometry args={[0.2, 4, 20]} />\r\n        <meshPhysicalMaterial color=\"#e2e8f0\" />\r\n      </mesh>\r\n\r\n      {/* Tables */}\r\n      {tables.map((table) => (\r\n        <Table3D\r\n          key={table.id}\r\n          table={table}\r\n          isSelected={table.id === selectedTableId}\r\n          onSelect={() => selectTable(table.id)}\r\n        />\r\n      ))}\r\n\r\n      {/* Zone Indicators */}\r\n      <Grid \r\n        args={[30, 20]} \r\n        position={[0, 0.05, 0]}\r\n        cellColor=\"#cbd5e1\"\r\n        sectionColor=\"#94a3b8\"\r\n        fadeDistance={50}\r\n        fadeStrength={2}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\n// Camera Controls\r\nfunction CameraController() {\r\n  const { camera } = useThree();\r\n  \r\n  React.useEffect(() => {\r\n    camera.position.set(10, 15, 10);\r\n    camera.lookAt(0, 0, 0);\r\n  }, [camera]);\r\n\r\n  return null;\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5577, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/BottomToolbar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { Circle, Square, RectangleHorizontal, Users } from 'lucide-react';\r\n\r\nexport function BottomToolbar() {\r\n  const { addTable } = useTableStore();\r\n\r\n  const tableTypes = [\r\n    {\r\n      shape: 'round' as const,\r\n      label: 'Round Table',\r\n      icon: Circle,\r\n      capacity: 4,\r\n      description: '4-person round table'\r\n    },\r\n    {\r\n      shape: 'square' as const,\r\n      label: 'Square Table',\r\n      icon: Square,\r\n      capacity: 4,\r\n      description: '4-person square table'\r\n    },\r\n    {\r\n      shape: 'rectangle' as const,\r\n      label: 'Rectangle Table',\r\n      icon: RectangleHorizontal,\r\n      capacity: 6,\r\n      description: '6-person rectangular table'\r\n    }\r\n  ];\r\n\r\n  const handleAddTable = (shape: 'round' | 'square' | 'rectangle', capacity: number) => {\r\n    // Add table at random position in 3D space\r\n    const x = Math.random() * 400 + 200;\r\n    const y = Math.random() * 300 + 150;\r\n    \r\n    addTable({ \r\n      x, \r\n      y, \r\n      shape,\r\n      capacity,\r\n      status: 'available' \r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {tableTypes.map((tableType) => {\r\n        const IconComponent = tableType.icon;\r\n        return (\r\n          <Button\r\n            key={tableType.shape}\r\n            variant=\"outline\"\r\n            className=\"w-full h-auto p-4 flex flex-col items-center space-y-2 hover:bg-blue-50 hover:border-blue-300 transition-all group\"\r\n            onClick={() => handleAddTable(tableType.shape, tableType.capacity)}\r\n          >\r\n            <div className=\"flex items-center space-x-2\">\r\n              <IconComponent className=\"h-5 w-5 text-blue-600 group-hover:text-blue-700\" />\r\n              <span className=\"font-medium text-sm\">{tableType.label}</span>\r\n            </div>\r\n            <div className=\"flex items-center space-x-1 text-xs text-slate-500\">\r\n              <Users className=\"h-3 w-3\" />\r\n              <span>{tableType.description}</span>\r\n            </div>\r\n          </Button>\r\n        );\r\n      })}\r\n      \r\n      <div className=\"pt-2 border-t border-slate-200\">\r\n        <p className=\"text-xs text-slate-500 text-center\">\r\n          Click any button above to add a 3D table to your floor plan\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;AAOO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,iJAAa;IAElC,MAAM,aAAa;QACjB;YACE,OAAO;YACP,OAAO;YACP,MAAM,mNAAM;YACZ,UAAU;YACV,aAAa;QACf;QACA;YACE,OAAO;YACP,OAAO;YACP,MAAM,mNAAM;YACZ,UAAU;YACV,aAAa;QACf;QACA;YACE,OAAO;YACP,OAAO;YACP,MAAM,8PAAmB;YACzB,UAAU;YACV,aAAa;QACf;KACD;IAED,MAAM,iBAAiB,CAAC,OAAyC;QAC/D,2CAA2C;QAC3C,MAAM,IAAI,KAAK,MAAM,KAAK,MAAM;QAChC,MAAM,IAAI,KAAK,MAAM,KAAK,MAAM;QAEhC,SAAS;YACP;YACA;YACA;YACA;YACA,QAAQ;QACV;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,WAAW,GAAG,CAAC,CAAC;gBACf,MAAM,gBAAgB,UAAU,IAAI;gBACpC,qBACE,6LAAC,+IAAM;oBAEL,SAAQ;oBACR,WAAU;oBACV,SAAS,IAAM,eAAe,UAAU,KAAK,EAAE,UAAU,QAAQ;;sCAEjE,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAc,WAAU;;;;;;8CACzB,6LAAC;oCAAK,WAAU;8CAAuB,UAAU,KAAK;;;;;;;;;;;;sCAExD,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,gNAAK;oCAAC,WAAU;;;;;;8CACjB,6LAAC;8CAAM,UAAU,WAAW;;;;;;;;;;;;;mBAXzB,UAAU,KAAK;;;;;YAe1B;0BAEA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;8BAAqC;;;;;;;;;;;;;;;;;AAM1D;GAvEgB;;QACO,iJAAa;;;KADpB","debugId":null}},
    {"offset": {"line": 5733, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/SaveDraftButton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Save, CheckCircle, AlertCircle, Loader2 } from 'lucide-react';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { cn } from '@/lib/utils';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface SaveDraftButtonProps {\r\n  className?: string;\r\n}\r\n\r\nexport function SaveDraftButton({ className }: SaveDraftButtonProps) {\r\n  const { tables, validationErrors, saveDraft } = useTableStore();\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const { toast } = useToast();\r\n\r\n  const handleSaveDraft = async () => {\r\n    if (isSaving) return;\r\n    \r\n    setIsSaving(true);\r\n\r\n    try {\r\n      // Validate layout before saving\r\n      if (tables.length === 0) {\r\n        throw new Error('Layout must contain at least one table');\r\n      }\r\n\r\n      if (validationErrors.length > 0) {\r\n        throw new Error('Cannot save layout with validation errors');\r\n      }\r\n\r\n      await saveDraft('main-floor');\r\n      \r\n      toast({\r\n        title: \"Draft Saved\",\r\n        description: \"Your table layout has been saved successfully.\",\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Error saving draft:', error);\r\n      toast({\r\n        title: \"Save Failed\",\r\n        description: error instanceof Error ? error.message : \"Failed to save draft\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const hasErrors = validationErrors.length > 0;\r\n  const isEmpty = tables.length === 0;\r\n\r\n  return (\r\n    <Button\r\n      onClick={handleSaveDraft}\r\n      disabled={isSaving || hasErrors || isEmpty}\r\n      className={cn(className)}\r\n      size=\"sm\"\r\n    >\r\n      {isSaving ? (\r\n        <>\r\n          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n          Saving...\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Save className=\"w-4 h-4 mr-2\" />\r\n          Save Draft\r\n        </>\r\n      )}\r\n    </Button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;;;AAPA;;;;;;;AAaO,SAAS,gBAAgB,KAAmC;QAAnC,EAAE,SAAS,EAAwB,GAAnC;;IAC9B,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,SAAS,EAAE,GAAG,IAAA,iJAAa;IAC7D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2IAAQ;IAE1B,MAAM,kBAAkB;QACtB,IAAI,UAAU;QAEd,YAAY;QAEZ,IAAI;YACF,gCAAgC;YAChC,IAAI,OAAO,MAAM,KAAK,GAAG;gBACvB,MAAM,IAAI,MAAM;YAClB;YAEA,IAAI,iBAAiB,MAAM,GAAG,GAAG;gBAC/B,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,UAAU;YAEhB,MAAM;gBACJ,OAAO;gBACP,aAAa;YACf;QAEF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;YACrC,MAAM;gBACJ,OAAO;gBACP,aAAa,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBACtD,SAAS;YACX;QACF,SAAU;YACR,YAAY;QACd;IACF;IAEA,MAAM,YAAY,iBAAiB,MAAM,GAAG;IAC5C,MAAM,UAAU,OAAO,MAAM,KAAK;IAElC,qBACE,6LAAC,+IAAM;QACL,SAAS;QACT,UAAU,YAAY,aAAa;QACnC,WAAW,IAAA,4HAAE,EAAC;QACd,MAAK;kBAEJ,yBACC;;8BACE,6LAAC,+NAAO;oBAAC,WAAU;;;;;;gBAA8B;;yCAInD;;8BACE,6LAAC,6MAAI;oBAAC,WAAU;;;;;;gBAAiB;;;;;;;;AAM3C;GA9DgB;;QACkC,iJAAa;QAE3C,2IAAQ;;;KAHZ","debugId":null}},
    {"offset": {"line": 5839, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/ActivateLayoutButton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Play, CheckCircle, AlertCircle, Loader2 } from 'lucide-react';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { cn } from '@/lib/utils';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface ActivateLayoutButtonProps {\r\n  className?: string;\r\n}\r\n\r\nexport function ActivateLayoutButton({ className }: ActivateLayoutButtonProps) {\r\n  const { tables, validationErrors, isDraftMode, activateLayout } = useTableStore();\r\n  const [isActivating, setIsActivating] = useState(false);\r\n  const { toast } = useToast();\r\n\r\n  const handleActivateLayout = async () => {\r\n    if (isActivating) return;\r\n    \r\n    setIsActivating(true);\r\n\r\n    try {\r\n      // Validate layout before activation\r\n      if (tables.length === 0) {\r\n        throw new Error('Layout must contain at least one table');\r\n      }\r\n\r\n      if (validationErrors.length > 0) {\r\n        throw new Error('Cannot activate layout with validation errors');\r\n      }\r\n\r\n      await activateLayout('main-floor');\r\n      \r\n      toast({\r\n        title: \"Layout Activated\",\r\n        description: \"Your table layout is now live and ready for use.\",\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Error activating layout:', error);\r\n      toast({\r\n        title: \"Activation Failed\",\r\n        description: error instanceof Error ? error.message : \"Failed to activate layout\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsActivating(false);\r\n    }\r\n  };\r\n\r\n  const hasErrors = validationErrors.length > 0;\r\n  const isEmpty = tables.length === 0;\r\n\r\n  return (\r\n    <Button\r\n      onClick={handleActivateLayout}\r\n      disabled={isActivating || hasErrors || isEmpty || !isDraftMode}\r\n      className={cn(className)}\r\n      size=\"sm\"\r\n      variant={isDraftMode ? \"default\" : \"secondary\"}\r\n    >\r\n      {isActivating ? (\r\n        <>\r\n          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n          Activating...\r\n        </>\r\n      ) : isDraftMode ? (\r\n        <>\r\n          <Play className=\"w-4 h-4 mr-2\" />\r\n          Activate Layout\r\n        </>\r\n      ) : (\r\n        <>\r\n          <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n          Layout Active\r\n        </>\r\n      )}\r\n    </Button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;AAPA;;;;;;;AAaO,SAAS,qBAAqB,KAAwC;QAAxC,EAAE,SAAS,EAA6B,GAAxC;;IACnC,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,IAAA,iJAAa;IAC/E,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2IAAQ;IAE1B,MAAM,uBAAuB;QAC3B,IAAI,cAAc;QAElB,gBAAgB;QAEhB,IAAI;YACF,oCAAoC;YACpC,IAAI,OAAO,MAAM,KAAK,GAAG;gBACvB,MAAM,IAAI,MAAM;YAClB;YAEA,IAAI,iBAAiB,MAAM,GAAG,GAAG;gBAC/B,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,eAAe;YAErB,MAAM;gBACJ,OAAO;gBACP,aAAa;YACf;QAEF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;gBACJ,OAAO;gBACP,aAAa,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBACtD,SAAS;YACX;QACF,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,YAAY,iBAAiB,MAAM,GAAG;IAC5C,MAAM,UAAU,OAAO,MAAM,KAAK;IAElC,qBACE,6LAAC,+IAAM;QACL,SAAS;QACT,UAAU,gBAAgB,aAAa,WAAW,CAAC;QACnD,WAAW,IAAA,4HAAE,EAAC;QACd,MAAK;QACL,SAAS,cAAc,YAAY;kBAElC,6BACC;;8BACE,6LAAC,+NAAO;oBAAC,WAAU;;;;;;gBAA8B;;2BAGjD,4BACF;;8BACE,6LAAC,6MAAI;oBAAC,WAAU;;;;;;gBAAiB;;yCAInC;;8BACE,6LAAC,6OAAW;oBAAC,WAAU;;;;;;gBAAiB;;;;;;;;AAMlD;GApEgB;;QACoD,iJAAa;QAE7D,2IAAQ;;;KAHZ","debugId":null}},
    {"offset": {"line": 5958, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/ZoneLegend.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Eye, EyeOff, Plus, Edit2, Trash2 } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface ZoneLegendProps {\r\n  className?: string;\r\n  onCreateZone?: () => void;\r\n  onEditZone?: (zoneId: string) => void;\r\n}\r\n\r\nexport function ZoneLegend({ className, onCreateZone, onEditZone }: ZoneLegendProps) {\r\n  const { zones, toggleZoneVisibility, getTablesInZone } = useTableStore();\r\n\r\n  const handleToggleVisibility = (zoneId: string) => {\r\n    toggleZoneVisibility(zoneId);\r\n  };\r\n\r\n  return (\r\n    <div className={cn('bg-white rounded-lg border shadow-sm p-4', className)}>\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <h3 className=\"text-sm font-semibold text-gray-900\">Zones</h3>\r\n        {onCreateZone && (\r\n          <Button\r\n            size=\"sm\"\r\n            variant=\"outline\"\r\n            onClick={onCreateZone}\r\n            className=\"h-7 px-2\"\r\n          >\r\n            <Plus className=\"h-3 w-3 mr-1\" />\r\n            Add Zone\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        {zones.map((zone) => {\r\n          const tableCount = getTablesInZone(zone.id).length;\r\n          \r\n          return (\r\n            <div\r\n              key={zone.id}\r\n              className={cn(\r\n                'flex items-center justify-between p-2 rounded-md border transition-all',\r\n                zone.visible \r\n                  ? 'bg-gray-50 border-gray-200' \r\n                  : 'bg-gray-100 border-gray-300 opacity-60'\r\n              )}\r\n            >\r\n              <div className=\"flex items-center space-x-2 flex-1\">\r\n                {/* Zone color indicator */}\r\n                <div\r\n                  className=\"w-3 h-3 rounded-full border border-gray-300 flex-shrink-0\"\r\n                  style={{ backgroundColor: zone.color }}\r\n                />\r\n                \r\n                {/* Zone name and table count */}\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className={cn(\r\n                      'text-sm font-medium',\r\n                      zone.visible ? 'text-gray-900' : 'text-gray-500'\r\n                    )}>\r\n                      {zone.name}\r\n                    </span>\r\n                    <Badge variant=\"secondary\" className=\"text-xs\">\r\n                      {tableCount} table{tableCount !== 1 ? 's' : ''}\r\n                    </Badge>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center space-x-1\">\r\n                {/* Toggle visibility */}\r\n                <Button\r\n                  size=\"sm\"\r\n                  variant=\"ghost\"\r\n                  onClick={() => handleToggleVisibility(zone.id)}\r\n                  className=\"h-7 w-7 p-0\"\r\n                  title={zone.visible ? 'Hide zone' : 'Show zone'}\r\n                >\r\n                  {zone.visible ? (\r\n                    <Eye className=\"h-3 w-3\" />\r\n                  ) : (\r\n                    <EyeOff className=\"h-3 w-3\" />\r\n                  )}\r\n                </Button>\r\n\r\n                {/* Edit zone */}\r\n                {onEditZone && (\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"ghost\"\r\n                    onClick={() => onEditZone(zone.id)}\r\n                    className=\"h-7 w-7 p-0\"\r\n                    title=\"Edit zone\"\r\n                  >\r\n                    <Edit2 className=\"h-3 w-3\" />\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        {zones.length === 0 && (\r\n          <div className=\"text-center py-4 text-gray-500\">\r\n            <p className=\"text-sm\">No zones created yet</p>\r\n            {onCreateZone && (\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"outline\"\r\n                onClick={onCreateZone}\r\n                className=\"mt-2\"\r\n              >\r\n                <Plus className=\"h-3 w-3 mr-1\" />\r\n                Create your first zone\r\n              </Button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Zone Statistics */}\r\n      {zones.length > 0 && (\r\n        <div className=\"mt-3 pt-3 border-t border-gray-200\">\r\n          <div className=\"grid grid-cols-2 gap-2 text-xs text-gray-600\">\r\n            <div>\r\n              <span className=\"font-medium\">{zones.length}</span> zones\r\n            </div>\r\n            <div>\r\n              <span className=\"font-medium\">\r\n                {zones.filter(z => z.visible).length}\r\n              </span> visible\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ZoneLegend;\r\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AAPA;;;;;;AAeO,SAAS,WAAW,KAAwD;QAAxD,EAAE,SAAS,EAAE,YAAY,EAAE,UAAU,EAAmB,GAAxD;;IACzB,MAAM,EAAE,KAAK,EAAE,oBAAoB,EAAE,eAAe,EAAE,GAAG,IAAA,iJAAa;IAEtE,MAAM,yBAAyB,CAAC;QAC9B,qBAAqB;IACvB;IAEA,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,4CAA4C;;0BAC7D,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAsC;;;;;;oBACnD,8BACC,6LAAC,+IAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;;0CAEV,6LAAC,6MAAI;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;0BAMvC,6LAAC;gBAAI,WAAU;;oBACZ,MAAM,GAAG,CAAC,CAAC;wBACV,MAAM,aAAa,gBAAgB,KAAK,EAAE,EAAE,MAAM;wBAElD,qBACE,6LAAC;4BAEC,WAAW,IAAA,4HAAE,EACX,0EACA,KAAK,OAAO,GACR,+BACA;;8CAGN,6LAAC;oCAAI,WAAU;;sDAEb,6LAAC;4CACC,WAAU;4CACV,OAAO;gDAAE,iBAAiB,KAAK,KAAK;4CAAC;;;;;;sDAIvC,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAK,WAAW,IAAA,4HAAE,EACjB,uBACA,KAAK,OAAO,GAAG,kBAAkB;kEAEhC,KAAK,IAAI;;;;;;kEAEZ,6LAAC,6IAAK;wDAAC,SAAQ;wDAAY,WAAU;;4DAClC;4DAAW;4DAAO,eAAe,IAAI,MAAM;;;;;;;;;;;;;;;;;;;;;;;;8CAMpD,6LAAC;oCAAI,WAAU;;sDAEb,6LAAC,+IAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,SAAS,IAAM,uBAAuB,KAAK,EAAE;4CAC7C,WAAU;4CACV,OAAO,KAAK,OAAO,GAAG,cAAc;sDAEnC,KAAK,OAAO,iBACX,6LAAC,0MAAG;gDAAC,WAAU;;;;;qEAEf,6LAAC,uNAAM;gDAAC,WAAU;;;;;;;;;;;wCAKrB,4BACC,6LAAC,+IAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,SAAS,IAAM,WAAW,KAAK,EAAE;4CACjC,WAAU;4CACV,OAAM;sDAEN,cAAA,6LAAC,8MAAK;gDAAC,WAAU;;;;;;;;;;;;;;;;;;2BAxDlB,KAAK,EAAE;;;;;oBA8DlB;oBAEC,MAAM,MAAM,KAAK,mBAChB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAAU;;;;;;4BACtB,8BACC,6LAAC,+IAAM;gCACL,MAAK;gCACL,SAAQ;gCACR,SAAS;gCACT,WAAU;;kDAEV,6LAAC,6MAAI;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;;;;;;;YAS1C,MAAM,MAAM,GAAG,mBACd,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAK,WAAU;8CAAe,MAAM,MAAM;;;;;;gCAAQ;;;;;;;sCAErD,6LAAC;;8CACC,6LAAC;oCAAK,WAAU;8CACb,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,OAAO,EAAE,MAAM;;;;;;gCAC/B;;;;;;;;;;;;;;;;;;;;;;;;AAOrB;GAjIgB;;QAC2C,iJAAa;;;KADxD;uCAmID","debugId":null}},
    {"offset": {"line": 6266, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/TableMergeTool.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Combine, Split, Check, X, AlertTriangle } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface TableMergeToolProps {\r\n  className?: string;\r\n}\r\n\r\nexport function TableMergeTool({ className }: TableMergeToolProps) {\r\n  const {\r\n    tables,\r\n    selectedTable,\r\n    selectTable,\r\n    mergeTables,\r\n    canMergeTables,\r\n    getAdjacentTables,\r\n  } = useTableStore();\r\n\r\n  const [mergeMode, setMergeMode] = useState(false);\r\n  const [selectedForMerge, setSelectedForMerge] = useState<string[]>([]);\r\n\r\n  const handleStartMerge = () => {\r\n    setMergeMode(true);\r\n    setSelectedForMerge([]);\r\n  };\r\n\r\n  const handleCancelMerge = () => {\r\n    setMergeMode(false);\r\n    setSelectedForMerge([]);\r\n  };\r\n\r\n  const handleTableSelect = (tableId: string) => {\r\n    if (!mergeMode) return;\r\n\r\n    if (selectedForMerge.includes(tableId)) {\r\n      setSelectedForMerge(prev => prev.filter(id => id !== tableId));\r\n    } else if (selectedForMerge.length < 2) {\r\n      setSelectedForMerge(prev => [...prev, tableId]);\r\n    }\r\n  };\r\n\r\n  const handleMerge = () => {\r\n    if (selectedForMerge.length === 2) {\r\n      const [table1Id, table2Id] = selectedForMerge;\r\n      const mergedId = mergeTables(table1Id, table2Id);\r\n      \r\n      if (mergedId) {\r\n        selectTable(mergedId);\r\n        handleCancelMerge();\r\n      }\r\n    }\r\n  };\r\n\r\n  const canMergeSelected = selectedForMerge.length === 2 && \r\n    canMergeTables(selectedForMerge[0], selectedForMerge[1]);\r\n\r\n  // Get adjacent tables for the currently selected table\r\n  const adjacentTables = selectedTable ? getAdjacentTables(selectedTable.id) : [];\r\n\r\n  return (\r\n    <Card className={className}>\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"text-sm flex items-center\">\r\n          <Combine className=\"h-4 w-4 mr-2\" />\r\n          Merge Tables\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-3\">\r\n        {!mergeMode ? (\r\n          <div className=\"space-y-3\">\r\n            <p className=\"text-xs text-gray-600\">\r\n              Combine adjacent tables for larger groups\r\n            </p>\r\n            \r\n            {selectedTable && adjacentTables.length > 0 ? (\r\n              <div className=\"space-y-2\">\r\n                <p className=\"text-xs font-medium\">\r\n                  Adjacent to {selectedTable.label || selectedTable.id}:\r\n                </p>\r\n                <div className=\"space-y-1\">\r\n                  {adjacentTables.map(table => (\r\n                    <div\r\n                      key={table.id}\r\n                      className=\"flex items-center justify-between p-2 bg-gray-50 rounded text-xs\"\r\n                    >\r\n                      <span>{table.label || table.id}</span>\r\n                      <Badge variant=\"outline\" className=\"text-xs\">\r\n                        {table.capacity} seats\r\n                      </Badge>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-xs text-gray-500\">\r\n                {selectedTable \r\n                  ? 'No adjacent tables found'\r\n                  : 'Select a table to see merge options'\r\n                }\r\n              </p>\r\n            )}\r\n\r\n            <Button\r\n              size=\"sm\"\r\n              onClick={handleStartMerge}\r\n              disabled={tables.length < 2}\r\n              className=\"w-full\"\r\n            >\r\n              <Combine className=\"h-3 w-3 mr-1\" />\r\n              Start Merge Mode\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <p className=\"text-xs font-medium\">Select 2 tables to merge</p>\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"ghost\"\r\n                onClick={handleCancelMerge}\r\n                className=\"h-6 w-6 p-0\"\r\n              >\r\n                <X className=\"h-3 w-3\" />\r\n              </Button>\r\n            </div>\r\n\r\n            <div className=\"space-y-1 max-h-32 overflow-y-auto\">\r\n              {tables.filter(t => !t.childIds).map(table => {\r\n                const isSelected = selectedForMerge.includes(table.id);\r\n                const isSelectable = selectedForMerge.length < 2 || isSelected;\r\n                \r\n                return (\r\n                  <div\r\n                    key={table.id}\r\n                    onClick={() => handleTableSelect(table.id)}\r\n                    className={cn(\r\n                      'flex items-center justify-between p-2 rounded cursor-pointer text-xs transition-colors',\r\n                      isSelected \r\n                        ? 'bg-blue-100 border border-blue-300' \r\n                        : isSelectable\r\n                        ? 'bg-gray-50 hover:bg-gray-100'\r\n                        : 'bg-gray-100 opacity-50 cursor-not-allowed'\r\n                    )}\r\n                  >\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <div className={cn(\r\n                        'w-3 h-3 rounded border',\r\n                        isSelected \r\n                          ? 'bg-blue-500 border-blue-500' \r\n                          : 'border-gray-300'\r\n                      )}>\r\n                        {isSelected && <Check className=\"h-2 w-2 text-white\" />}\r\n                      </div>\r\n                      <span>{table.label || table.id}</span>\r\n                    </div>\r\n                    <Badge variant=\"outline\" className=\"text-xs\">\r\n                      {table.capacity} seats\r\n                    </Badge>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {selectedForMerge.length === 2 && (\r\n              <div className=\"p-2 bg-yellow-50 border border-yellow-200 rounded\">\r\n                <div className=\"flex items-start space-x-2\">\r\n                  {canMergeSelected ? (\r\n                    <Check className=\"h-3 w-3 text-green-600 mt-0.5\" />\r\n                  ) : (\r\n                    <AlertTriangle className=\"h-3 w-3 text-yellow-600 mt-0.5\" />\r\n                  )}\r\n                  <div className=\"text-xs\">\r\n                    {canMergeSelected ? (\r\n                      <span className=\"text-green-700\">\r\n                        Tables can be merged (adjacent)\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"text-yellow-700\">\r\n                        Tables must be adjacent to merge\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <Button\r\n              size=\"sm\"\r\n              onClick={handleMerge}\r\n              disabled={!canMergeSelected}\r\n              className=\"w-full\"\r\n            >\r\n              <Combine className=\"h-3 w-3 mr-1\" />\r\n              Merge Selected Tables\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default TableMergeTool;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6664, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/TableSplitTool.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Split, Undo2, AlertCircle } from 'lucide-react';\r\n\r\ninterface TableSplitToolProps {\r\n  className?: string;\r\n}\r\n\r\nexport function TableSplitTool({ className }: TableSplitToolProps) {\r\n  const { selectedTable, splitTable } = useTableStore();\r\n\r\n  const handleSplit = () => {\r\n    if (selectedTable && selectedTable.childIds) {\r\n      const success = splitTable(selectedTable.id);\r\n      if (!success) {\r\n        // Handle error - could show toast notification\r\n        console.error('Failed to split table');\r\n      }\r\n    }\r\n  };\r\n\r\n  const isMergedTable = selectedTable?.childIds && selectedTable.childIds.length > 0;\r\n  const originalTables = selectedTable?.metadata?.originalTables as any[] || [];\r\n\r\n  return (\r\n    <Card className={className}>\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"text-sm flex items-center\">\r\n          <Split className=\"h-4 w-4 mr-2\" />\r\n          Split Table\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-3\">\r\n        {!selectedTable ? (\r\n          <p className=\"text-xs text-gray-500\">\r\n            Select a merged table to split\r\n          </p>\r\n        ) : !isMergedTable ? (\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex items-start space-x-2\">\r\n              <AlertCircle className=\"h-3 w-3 text-gray-400 mt-0.5\" />\r\n              <p className=\"text-xs text-gray-500\">\r\n                {selectedTable.label || selectedTable.id} is not a merged table\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-3\">\r\n            <div className=\"space-y-2\">\r\n              <p className=\"text-xs font-medium\">\r\n                Split {selectedTable.label || selectedTable.id} back into:\r\n              </p>\r\n              \r\n              <div className=\"space-y-1\">\r\n                {originalTables.map((table, index) => (\r\n                  <div\r\n                    key={table.id || index}\r\n                    className=\"flex items-center justify-between p-2 bg-gray-50 rounded text-xs\"\r\n                  >\r\n                    <span>{table.label || table.id}</span>\r\n                    <Badge variant=\"outline\" className=\"text-xs\">\r\n                      {table.capacity} seats\r\n                    </Badge>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-2 bg-blue-50 border border-blue-200 rounded\">\r\n              <p className=\"text-xs text-blue-700\">\r\n                Tables will be restored to their original positions and properties\r\n              </p>\r\n            </div>\r\n\r\n            <Button\r\n              size=\"sm\"\r\n              onClick={handleSplit}\r\n              className=\"w-full\"\r\n              variant=\"outline\"\r\n            >\r\n              <Undo2 className=\"h-3 w-3 mr-1\" />\r\n              Split Table\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default TableSplitTool;\r\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;AAPA;;;;;;AAaO,SAAS,eAAe,KAAkC;QAAlC,EAAE,SAAS,EAAuB,GAAlC;QAcN;;IAbvB,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,GAAG,IAAA,iJAAa;IAEnD,MAAM,cAAc;QAClB,IAAI,iBAAiB,cAAc,QAAQ,EAAE;YAC3C,MAAM,UAAU,WAAW,cAAc,EAAE;YAC3C,IAAI,CAAC,SAAS;gBACZ,+CAA+C;gBAC/C,QAAQ,KAAK,CAAC;YAChB;QACF;IACF;IAEA,MAAM,gBAAgB,CAAA,0BAAA,oCAAA,cAAe,QAAQ,KAAI,cAAc,QAAQ,CAAC,MAAM,GAAG;IACjF,MAAM,iBAAiB,CAAA,0BAAA,qCAAA,0BAAA,cAAe,QAAQ,cAAvB,8CAAA,wBAAyB,cAAc,KAAa,EAAE;IAE7E,qBACE,6LAAC,2IAAI;QAAC,WAAW;;0BACf,6LAAC,iJAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC,gJAAS;oBAAC,WAAU;;sCACnB,6LAAC,gNAAK;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;0BAItC,6LAAC,kJAAW;gBAAC,WAAU;0BACpB,CAAC,8BACA,6LAAC;oBAAE,WAAU;8BAAwB;;;;;2BAGnC,CAAC,8BACH,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,sOAAW;gCAAC,WAAU;;;;;;0CACvB,6LAAC;gCAAE,WAAU;;oCACV,cAAc,KAAK,IAAI,cAAc,EAAE;oCAAC;;;;;;;;;;;;;;;;;yCAK/C,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAE,WAAU;;wCAAsB;wCAC1B,cAAc,KAAK,IAAI,cAAc,EAAE;wCAAC;;;;;;;8CAGjD,6LAAC;oCAAI,WAAU;8CACZ,eAAe,GAAG,CAAC,CAAC,OAAO,sBAC1B,6LAAC;4CAEC,WAAU;;8DAEV,6LAAC;8DAAM,MAAM,KAAK,IAAI,MAAM,EAAE;;;;;;8DAC9B,6LAAC,6IAAK;oDAAC,SAAQ;oDAAU,WAAU;;wDAChC,MAAM,QAAQ;wDAAC;;;;;;;;2CALb,MAAM,EAAE,IAAI;;;;;;;;;;;;;;;;sCAYzB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;sCAKvC,6LAAC,+IAAM;4BACL,MAAK;4BACL,SAAS;4BACT,WAAU;4BACV,SAAQ;;8CAER,6LAAC,oNAAK;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAQhD;GAhFgB;;QACwB,iJAAa;;;KADrC;uCAkFD","debugId":null}},
    {"offset": {"line": 6899, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/QRCodeManager.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { QrCode, Download, FileImage, FileText, Package, Loader2 } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface QRCodeManagerProps {\r\n  className?: string;\r\n}\r\n\r\ninterface QRCodeGeneration {\r\n  tableId: string;\r\n  status: 'pending' | 'generating' | 'completed' | 'error';\r\n  pngUrl?: string;\r\n  pdfUrl?: string;\r\n  error?: string;\r\n}\r\n\r\nexport function QRCodeManager({ className }: QRCodeManagerProps) {\r\n  const { tables, selectedTable } = useTableStore();\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [qrCodes, setQrCodes] = useState<Map<string, QRCodeGeneration>>(new Map());\r\n  const [batchProgress, setBatchProgress] = useState<{ completed: number; total: number } | null>(null);\r\n\r\n  const handleGenerateSingle = async (tableId: string) => {\r\n    setQrCodes(prev => new Map(prev.set(tableId, { \r\n      tableId, \r\n      status: 'generating' \r\n    })));\r\n\r\n    try {\r\n      const response = await fetch('/api/pos/qr/generate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-tenant-id': 'default-tenant',\r\n        },\r\n        body: JSON.stringify({\r\n          tableId,\r\n          format: ['png', 'pdf'],\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to generate QR code');\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      setQrCodes(prev => new Map(prev.set(tableId, {\r\n        tableId,\r\n        status: 'completed',\r\n        pngUrl: result.pngUrl,\r\n        pdfUrl: result.pdfUrl,\r\n      })));\r\n\r\n    } catch (error) {\r\n      setQrCodes(prev => new Map(prev.set(tableId, {\r\n        tableId,\r\n        status: 'error',\r\n        error: error instanceof Error ? error.message : 'Unknown error',\r\n      })));\r\n    }\r\n  };\r\n\r\n  const handleGenerateBatch = async () => {\r\n    setIsGenerating(true);\r\n    setBatchProgress({ completed: 0, total: tables.length });\r\n\r\n    try {\r\n      const response = await fetch('/api/pos/qr/generate-batch', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-tenant-id': 'default-tenant',\r\n        },\r\n        body: JSON.stringify({\r\n          tableIds: tables.map(t => t.id),\r\n          format: ['png', 'pdf'],\r\n          generateZip: true,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to generate batch QR codes');\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      // Update individual QR codes\r\n      result.qrCodes?.forEach((qr: any) => {\r\n        setQrCodes(prev => new Map(prev.set(qr.tableId, {\r\n          tableId: qr.tableId,\r\n          status: 'completed',\r\n          pngUrl: qr.pngUrl,\r\n          pdfUrl: qr.pdfUrl,\r\n        })));\r\n      });\r\n\r\n      // Download ZIP if available\r\n      if (result.zipUrl) {\r\n        const link = document.createElement('a');\r\n        link.href = result.zipUrl;\r\n        link.download = `table-qr-codes-${new Date().toISOString().split('T')[0]}.zip`;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Batch generation failed:', error);\r\n    } finally {\r\n      setIsGenerating(false);\r\n      setBatchProgress(null);\r\n    }\r\n  };\r\n\r\n  const handleDownload = (url: string, filename: string) => {\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = filename;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  const getQRCodeStatus = (tableId: string) => {\r\n    return qrCodes.get(tableId);\r\n  };\r\n\r\n  return (\r\n    <Card className={className}>\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"text-sm flex items-center\">\r\n          <QrCode className=\"h-4 w-4 mr-2\" />\r\n          QR Code Manager\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        {/* Batch Generation */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <p className=\"text-xs font-medium\">Batch Generation</p>\r\n            <Badge variant=\"outline\" className=\"text-xs\">\r\n              {tables.length} tables\r\n            </Badge>\r\n          </div>\r\n          \r\n          <Button\r\n            size=\"sm\"\r\n            onClick={handleGenerateBatch}\r\n            disabled={isGenerating || tables.length === 0}\r\n            className=\"w-full\"\r\n          >\r\n            {isGenerating ? (\r\n              <Loader2 className=\"h-3 w-3 mr-1 animate-spin\" />\r\n            ) : (\r\n              <Package className=\"h-3 w-3 mr-1\" />\r\n            )}\r\n            {isGenerating ? 'Generating...' : 'Generate All QR Codes (ZIP)'}\r\n          </Button>\r\n\r\n          {batchProgress && (\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div\r\n                className=\"bg-blue-600 h-2 rounded-full transition-all\"\r\n                style={{\r\n                  width: `${(batchProgress.completed / batchProgress.total) * 100}%`,\r\n                }}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Individual Table QR Codes */}\r\n        <div className=\"space-y-2\">\r\n          <p className=\"text-xs font-medium\">Individual Tables</p>\r\n          \r\n          <div className=\"space-y-1 max-h-48 overflow-y-auto\">\r\n            {tables.map(table => {\r\n              const qrStatus = getQRCodeStatus(table.id);\r\n              const isSelected = selectedTable?.id === table.id;\r\n              \r\n              return (\r\n                <div\r\n                  key={table.id}\r\n                  className={cn(\r\n                    'flex items-center justify-between p-2 rounded border text-xs',\r\n                    isSelected ? 'bg-blue-50 border-blue-200' : 'bg-gray-50 border-gray-200'\r\n                  )}\r\n                >\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className=\"font-medium\">\r\n                      {table.label || table.id}\r\n                    </span>\r\n                    \r\n                    {qrStatus && (\r\n                      <Badge\r\n                        variant={qrStatus.status === 'completed' ? 'default' : \r\n                                qrStatus.status === 'error' ? 'destructive' : 'secondary'}\r\n                        className=\"text-xs\"\r\n                      >\r\n                        {qrStatus.status}\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    {qrStatus?.status === 'completed' ? (\r\n                      <>\r\n                        {qrStatus.pngUrl && (\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"ghost\"\r\n                            onClick={() => handleDownload(\r\n                              qrStatus.pngUrl!, \r\n                              `${table.label || table.id}-qr.png`\r\n                            )}\r\n                            className=\"h-6 w-6 p-0\"\r\n                            title=\"Download PNG\"\r\n                          >\r\n                            <FileImage className=\"h-3 w-3\" />\r\n                          </Button>\r\n                        )}\r\n                        \r\n                        {qrStatus.pdfUrl && (\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"ghost\"\r\n                            onClick={() => handleDownload(\r\n                              qrStatus.pdfUrl!, \r\n                              `${table.label || table.id}-qr.pdf`\r\n                            )}\r\n                            className=\"h-6 w-6 p-0\"\r\n                            title=\"Download PDF\"\r\n                          >\r\n                            <FileText className=\"h-3 w-3\" />\r\n                          </Button>\r\n                        )}\r\n                      </>\r\n                    ) : qrStatus?.status === 'generating' ? (\r\n                      <Loader2 className=\"h-3 w-3 animate-spin\" />\r\n                    ) : (\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        onClick={() => handleGenerateSingle(table.id)}\r\n                        className=\"h-6 w-6 p-0\"\r\n                        title=\"Generate QR Code\"\r\n                      >\r\n                        <QrCode className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {tables.length === 0 && (\r\n            <p className=\"text-xs text-gray-500 text-center py-4\">\r\n              No tables in layout\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Instructions */}\r\n        <div className=\"p-2 bg-gray-50 border border-gray-200 rounded text-xs\">\r\n          <p className=\"font-medium mb-1\">QR Code Instructions:</p>\r\n          <ul className=\"space-y-0.5 text-gray-600\">\r\n            <li>• PNG files: For digital displays</li>\r\n            <li>• PDF files: For printing table tents</li>\r\n            <li>• ZIP batch: All codes in one download</li>\r\n            <li>• Codes link to table-specific ordering</li>\r\n          </ul>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default QRCodeManager;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7370, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input } "],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,QAAgC;QAA/B,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO;IAC5B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 7406, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root\r\n    ref={ref}\r\n    className={cn(labelVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label } "],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 7447, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/ui/textarea.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AASA,MAAM,yBAAW,2KAAgB,MAC/B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;IACtB,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 7483, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/ReservationLink.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Calendar, Clock, Users, Plus, AlertTriangle, Check } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface ReservationLinkProps {\r\n  className?: string;\r\n}\r\n\r\ninterface Reservation {\r\n  id: string;\r\n  tableId: string;\r\n  customerName: string;\r\n  partySize: number;\r\n  startAt: string;\r\n  endAt: string;\r\n  status: string;\r\n  notes?: string;\r\n}\r\n\r\nexport function ReservationLink({ className }: ReservationLinkProps) {\r\n  const { selectedTable } = useTableStore();\r\n  const [isCreating, setIsCreating] = useState(false);\r\n  const [reservations, setReservations] = useState<Reservation[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  const [formData, setFormData] = useState({\r\n    customerName: '',\r\n    partySize: 2,\r\n    date: '',\r\n    startTime: '',\r\n    endTime: '',\r\n    notes: '',\r\n  });\r\n\r\n  // Load reservations for selected table\r\n  React.useEffect(() => {\r\n    if (selectedTable) {\r\n      loadReservations(selectedTable.id);\r\n    }\r\n  }, [selectedTable]);\r\n\r\n  const loadReservations = async (tableId: string) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch(`/api/pos/reservation?tableId=${tableId}`, {\r\n        headers: {\r\n          'x-tenant-id': 'default-tenant',\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setReservations(data.reservations || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load reservations:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedTable) return;\r\n\r\n    setError(null);\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // Combine date and time\r\n      const startAt = new Date(`${formData.date}T${formData.startTime}:00`).toISOString();\r\n      const endAt = new Date(`${formData.date}T${formData.endTime}:00`).toISOString();\r\n\r\n      const response = await fetch('/api/pos/reservation', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-tenant-id': 'default-tenant',\r\n        },\r\n        body: JSON.stringify({\r\n          tableId: selectedTable.id,\r\n          customerName: formData.customerName,\r\n          partySize: formData.partySize,\r\n          startAt,\r\n          endAt,\r\n          notes: formData.notes || undefined,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Reset form and refresh reservations\r\n        setFormData({\r\n          customerName: '',\r\n          partySize: 2,\r\n          date: '',\r\n          startTime: '',\r\n          endTime: '',\r\n          notes: '',\r\n        });\r\n        setIsCreating(false);\r\n        loadReservations(selectedTable.id);\r\n      } else {\r\n        setError(data.message || 'Failed to create reservation');\r\n      }\r\n    } catch (error) {\r\n      setError('Failed to create reservation');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateTimeStr: string) => {\r\n    const date = new Date(dateTimeStr);\r\n    return {\r\n      date: date.toLocaleDateString(),\r\n      time: date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\r\n    };\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'ACTIVE': return 'bg-green-100 text-green-800';\r\n      case 'COMPLETED': return 'bg-gray-100 text-gray-800';\r\n      case 'CANCELLED': return 'bg-red-100 text-red-800';\r\n      case 'NO_SHOW': return 'bg-orange-100 text-orange-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={className}>\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"text-sm flex items-center\">\r\n          <Calendar className=\"h-4 w-4 mr-2\" />\r\n          Reservations\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        {!selectedTable ? (\r\n          <p className=\"text-xs text-gray-500\">\r\n            Select a table to manage reservations\r\n          </p>\r\n        ) : (\r\n          <>\r\n            {/* Current Reservations */}\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <p className=\"text-xs font-medium\">\r\n                  {selectedTable.label || selectedTable.id} Reservations\r\n                </p>\r\n                <Button\r\n                  size=\"sm\"\r\n                  variant=\"outline\"\r\n                  onClick={() => setIsCreating(!isCreating)}\r\n                  className=\"h-6 px-2\"\r\n                >\r\n                  <Plus className=\"h-3 w-3 mr-1\" />\r\n                  New\r\n                </Button>\r\n              </div>\r\n\r\n              {isLoading ? (\r\n                <div className=\"text-xs text-gray-500 py-2\">Loading...</div>\r\n              ) : reservations.length > 0 ? (\r\n                <div className=\"space-y-1 max-h-32 overflow-y-auto\">\r\n                  {reservations.map(reservation => {\r\n                    const startDateTime = formatDateTime(reservation.startAt);\r\n                    const endDateTime = formatDateTime(reservation.endAt);\r\n                    \r\n                    return (\r\n                      <div\r\n                        key={reservation.id}\r\n                        className=\"p-2 bg-gray-50 border border-gray-200 rounded text-xs\"\r\n                      >\r\n                        <div className=\"flex items-center justify-between mb-1\">\r\n                          <span className=\"font-medium\">{reservation.customerName}</span>\r\n                          <Badge className={cn('text-xs', getStatusColor(reservation.status))}>\r\n                            {reservation.status}\r\n                          </Badge>\r\n                        </div>\r\n                        <div className=\"flex items-center space-x-3 text-gray-600\">\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            <Users className=\"h-3 w-3\" />\r\n                            <span>{reservation.partySize}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            <Calendar className=\"h-3 w-3\" />\r\n                            <span>{startDateTime.date}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            <Clock className=\"h-3 w-3\" />\r\n                            <span>{startDateTime.time}-{endDateTime.time}</span>\r\n                          </div>\r\n                        </div>\r\n                        {reservation.notes && (\r\n                          <p className=\"mt-1 text-gray-600 text-xs\">\r\n                            {reservation.notes}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              ) : (\r\n                <p className=\"text-xs text-gray-500 py-2\">\r\n                  No reservations for this table\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Create Reservation Form */}\r\n            {isCreating && (\r\n              <form onSubmit={handleSubmit} className=\"space-y-3 border-t pt-3\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"customerName\" className=\"text-xs\">Customer Name</Label>\r\n                  <Input\r\n                    id=\"customerName\"\r\n                    value={formData.customerName}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      customerName: e.target.value\r\n                    }))}\r\n                    placeholder=\"Enter customer name\"\r\n                    className=\"h-8 text-xs\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  <div className=\"space-y-1\">\r\n                    <Label htmlFor=\"partySize\" className=\"text-xs\">Party Size</Label>\r\n                    <Input\r\n                      id=\"partySize\"\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      max=\"20\"\r\n                      value={formData.partySize}\r\n                      onChange={(e) => setFormData(prev => ({\r\n                        ...prev,\r\n                        partySize: parseInt(e.target.value) || 1\r\n                      }))}\r\n                      className=\"h-8 text-xs\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <Label htmlFor=\"date\" className=\"text-xs\">Date</Label>\r\n                    <Input\r\n                      id=\"date\"\r\n                      type=\"date\"\r\n                      value={formData.date}\r\n                      onChange={(e) => setFormData(prev => ({\r\n                        ...prev,\r\n                        date: e.target.value\r\n                      }))}\r\n                      className=\"h-8 text-xs\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  <div className=\"space-y-1\">\r\n                    <Label htmlFor=\"startTime\" className=\"text-xs\">Start Time</Label>\r\n                    <Input\r\n                      id=\"startTime\"\r\n                      type=\"time\"\r\n                      value={formData.startTime}\r\n                      onChange={(e) => setFormData(prev => ({\r\n                        ...prev,\r\n                        startTime: e.target.value\r\n                      }))}\r\n                      className=\"h-8 text-xs\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <Label htmlFor=\"endTime\" className=\"text-xs\">End Time</Label>\r\n                    <Input\r\n                      id=\"endTime\"\r\n                      type=\"time\"\r\n                      value={formData.endTime}\r\n                      onChange={(e) => setFormData(prev => ({\r\n                        ...prev,\r\n                        endTime: e.target.value\r\n                      }))}\r\n                      className=\"h-8 text-xs\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-1\">\r\n                  <Label htmlFor=\"notes\" className=\"text-xs\">Notes (Optional)</Label>\r\n                  <Textarea\r\n                    id=\"notes\"\r\n                    value={formData.notes}\r\n                    onChange={(e) => setFormData(prev => ({\r\n                      ...prev,\r\n                      notes: e.target.value\r\n                    }))}\r\n                    placeholder=\"Special requests, allergies, etc.\"\r\n                    className=\"h-16 text-xs resize-none\"\r\n                  />\r\n                </div>\r\n\r\n                {error && (\r\n                  <div className=\"flex items-start space-x-2 p-2 bg-red-50 border border-red-200 rounded\">\r\n                    <AlertTriangle className=\"h-3 w-3 text-red-600 mt-0.5\" />\r\n                    <p className=\"text-xs text-red-700\">{error}</p>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"flex space-x-2\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    size=\"sm\"\r\n                    disabled={isLoading}\r\n                    className=\"flex-1\"\r\n                  >\r\n                    {isLoading ? (\r\n                      <div className=\"h-3 w-3 animate-spin border border-white border-r-transparent rounded-full mr-1\" />\r\n                    ) : (\r\n                      <Check className=\"h-3 w-3 mr-1\" />\r\n                    )}\r\n                    Create Reservation\r\n                  </Button>\r\n                  <Button\r\n                    type=\"button\"\r\n                    size=\"sm\"\r\n                    variant=\"outline\"\r\n                    onClick={() => setIsCreating(false)}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            )}\r\n          </>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ReservationLink;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8195, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/components/table-management/Table3DControls.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Slider } from '@/components/ui/slider';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { \r\n  Camera, \r\n  RotateCcw, \r\n  ZoomIn, \r\n  ZoomOut,\r\n  Move3D,\r\n  Eye,\r\n  Sun,\r\n  Lightbulb,\r\n  Users,\r\n  Grid3X3\r\n} from 'lucide-react';\r\n\r\nexport function Table3DControls() {\r\n  const { \r\n    viewMode,\r\n    tables,\r\n    selectedTableIds,\r\n    addTable,\r\n    moveTable\r\n  } = useTableStore();\r\n\r\n  if (viewMode !== '3D') return null;\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"text-sm font-medium flex items-center\">\r\n          <Camera className=\"h-4 w-4 mr-2\" />\r\n          3D Controls\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        {/* 3D Demo Actions */}\r\n        <div className=\"space-y-3\">\r\n          <div className=\"grid grid-cols-2 gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                // Add a random table to showcase 3D\r\n                const shapes = ['round', 'square', 'rectangle'] as const;\r\n                const randomShape = shapes[Math.floor(Math.random() * shapes.length)];\r\n                \r\n                addTable({\r\n                  x: Math.random() * 400 + 100,\r\n                  y: Math.random() * 300 + 100,\r\n                  shape: randomShape,\r\n                  capacity: Math.floor(Math.random() * 6) + 2\r\n                });\r\n              }}\r\n              className=\"flex items-center space-x-1\"\r\n            >\r\n              <RotateCcw className=\"h-3 w-3\" />\r\n              <span className=\"text-xs\">Add Random</span>\r\n            </Button>\r\n            \r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                // Animate all tables (demo)\r\n                tables.forEach((table, index) => {\r\n                  setTimeout(() => {\r\n                    const newX = Math.random() * 400 + 100;\r\n                    const newY = Math.random() * 300 + 100;\r\n                    moveTable(table.id, newX, newY);\r\n                  }, index * 200);\r\n                });\r\n              }}\r\n              className=\"flex items-center space-x-1\"\r\n            >\r\n              <Move3D className=\"h-3 w-3\" />\r\n              <span className=\"text-xs\">Shuffle All</span>\r\n            </Button>\r\n          </div>\r\n          \r\n          <div className=\"text-xs text-slate-500 text-center py-2 border-t\">\r\n            ✨ Real-time 3D visualization with physics and shadows\r\n          </div>\r\n        </div>\r\n\r\n        {/* Camera Presets */}\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-xs font-medium text-slate-600\">Camera Views</label>\r\n          <div className=\"grid grid-cols-1 gap-1\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              className=\"text-xs justify-start\"\r\n            >\r\n              <Eye className=\"h-3 w-3 mr-1\" />\r\n              Dining Room Overview\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              className=\"text-xs justify-start\"\r\n            >\r\n              <ZoomIn className=\"h-3 w-3 mr-1\" />\r\n              Close-up View\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              className=\"text-xs justify-start\"\r\n            >\r\n              <RotateCcw className=\"h-3 w-3 mr-1\" />\r\n              Bird's Eye View\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 3D Settings */}\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm flex items-center\">\r\n              <Sun className=\"h-3 w-3 mr-1\" />\r\n              Lighting\r\n            </span>\r\n            <span className=\"text-xs text-slate-500\">Bright</span>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm\">Shadows</span>\r\n            <Switch defaultChecked />\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm\">Grid</span>\r\n            <Switch defaultChecked />\r\n          </div>\r\n        </div>\r\n\r\n        {/* 3D Stats */}\r\n        <div className=\"space-y-2 text-xs border-t pt-3\">\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-slate-500\">Total Tables:</span>\r\n            <span className=\"font-medium\">{tables.length}</span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-slate-500\">Total Capacity:</span>\r\n            <span className=\"font-medium\">{tables.reduce((sum, t) => sum + t.capacity, 0)} guests</span>\r\n          </div>\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-slate-500\">Selected:</span>\r\n            <span className=\"font-medium text-blue-600\">\r\n              {selectedTableIds.length} table{selectedTableIds.length !== 1 ? 's' : ''}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Performance Info */}\r\n        <div className=\"text-xs text-slate-500 text-center py-2 border-t\">\r\n          <div className=\"flex items-center justify-center space-x-1\">\r\n            <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\r\n            <span>3D Rendering: Active</span>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8677, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alvi/IOMS/IOMS_V1_POS_Working_main_20_08_2025/src/app/apps/pos/table-management/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { AppLayout } from '@/components/layout/AppLayout';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport { Alert, AlertDescription } from '@/components/ui/alert';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Slider } from '@/components/ui/slider';\r\nimport { FloorEditorCanvas } from '@/components/table-management/FloorEditorCanvas';\r\nimport { BottomToolbar } from '@/components/table-management/BottomToolbar';\r\nimport { SaveDraftButton } from '@/components/table-management/SaveDraftButton';\r\nimport { ActivateLayoutButton } from '@/components/table-management/ActivateLayoutButton';\r\nimport { ZoneLegend } from '@/components/table-management/ZoneLegend';\r\nimport { TableMergeTool } from '@/components/table-management/TableMergeTool';\r\nimport { TableSplitTool } from '@/components/table-management/TableSplitTool';\r\nimport { QRCodeManager } from '@/components/table-management/QRCodeManager';\r\nimport { ReservationLink } from '@/components/table-management/ReservationLink';\r\nimport { Table3DControls } from '@/components/table-management/Table3DControls';\r\nimport { useTableStore } from '@/contexts/tableStore';\r\nimport { LineChart, Line, XAxis, YAxis, ResponsiveContainer } from 'recharts';\r\nimport { \r\n  Layout, \r\n  Grid3X3, \r\n  Palette, \r\n  Settings, \r\n  History, \r\n  Users, \r\n  QrCode,\r\n  Calendar,\r\n  Merge,\r\n  Split,\r\n  Info,\r\n  CheckCircle2,\r\n  AlertTriangle,\r\n  Clock,\r\n  Layers,\r\n  Download,\r\n  Upload,\r\n  Camera,\r\n  Smartphone,\r\n  Monitor,\r\n  RotateCcw,\r\n  Move,\r\n  AlignCenter,\r\n  Grid,\r\n  Eye,\r\n  EyeOff,\r\n  Zap,\r\n  TrendingUp,\r\n  PieChart,\r\n  BarChart3,\r\n  Maximize2,\r\n  HelpCircle,\r\n  Command,\r\n  RefreshCw,\r\n  Save,\r\n  FileOutput,\r\n  Scan\r\n} from 'lucide-react';\r\nimport { toast } from '@/hooks/use-toast';\r\n\r\n// Mock utilization data for sparkline\r\nconst utilizationData = [\r\n  { hour: '9am', utilization: 45 },\r\n  { hour: '10am', utilization: 62 },\r\n  { hour: '11am', utilization: 78 },\r\n  { hour: '12pm', utilization: 95 },\r\n  { hour: '1pm', utilization: 88 },\r\n  { hour: '2pm', utilization: 71 },\r\n  { hour: '3pm', utilization: 54 }\r\n];\r\n\r\nexport default function TableManagementPage() {\r\n  const { \r\n    tables, \r\n    zones, \r\n    fixtures,\r\n    selectedTableIds, \r\n    isDraftMode, \r\n    isLoading, \r\n    error, \r\n    validationErrors,\r\n    canUndo,\r\n    canRedo,\r\n    viewMode,\r\n    showGrid,\r\n    showZones,\r\n    gridSize,\r\n    snapToGrid,\r\n    hasOverlaps,\r\n    totalTables,\r\n    totalCapacity,\r\n    availableTables,\r\n    tableStates,\r\n    undo,\r\n    redo,\r\n    saveDraft,\r\n    activateLayout,\r\n    loadDraft,\r\n    setViewMode,\r\n    toggleGrid,\r\n    toggleZones,\r\n    setGridSize,\r\n    toggleSnapToGrid,\r\n    clearSelection,\r\n    exportLayout,\r\n    importLayout,\r\n    alignTables,\r\n    distributeTablesEvenly\r\n  } = useTableStore();\r\n\r\n  const [activeTab, setActiveTab] = useState('designer');\r\n  const [showShortcuts, setShowShortcuts] = useState(false);\r\n  const [showSuccessBanner, setShowSuccessBanner] = useState(false);\r\n\r\n  // Load draft on mount\r\n  useEffect(() => {\r\n    loadDraft('main-floor');\r\n  }, [loadDraft]);\r\n\r\n  // Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      // Ctrl/Cmd + Z for undo\r\n      if ((e.ctrlKey || e.metaKey) && e.key === 'z' && !e.shiftKey) {\r\n        e.preventDefault();\r\n        if (canUndo) undo();\r\n      }\r\n      \r\n      // Ctrl/Cmd + Shift + Z for redo\r\n      if ((e.ctrlKey || e.metaKey) && e.key === 'z' && e.shiftKey) {\r\n        e.preventDefault();\r\n        if (canRedo) redo();\r\n      }\r\n      \r\n      // Ctrl/Cmd + S for save\r\n      if ((e.ctrlKey || e.metaKey) && e.key === 's') {\r\n        e.preventDefault();\r\n        saveDraft('main-floor');\r\n      }\r\n      \r\n      // Escape to clear selection\r\n      if (e.key === 'Escape') {\r\n        clearSelection();\r\n      }\r\n      \r\n      // ? to show shortcuts\r\n      if (e.key === '?' && !e.ctrlKey && !e.metaKey) {\r\n        setShowShortcuts(true);\r\n      }\r\n      \r\n      // G to toggle grid\r\n      if (e.key === 'g' && !e.ctrlKey && !e.metaKey) {\r\n        toggleGrid();\r\n      }\r\n      \r\n      // Z to toggle zones\r\n      if (e.key === 'z' && !e.ctrlKey && !e.metaKey) {\r\n        toggleZones();\r\n      }\r\n      \r\n      // 1-3 for view modes\r\n      if (e.key === '2' && !e.ctrlKey && !e.metaKey) {\r\n        setViewMode('2D');\r\n      }\r\n      if (e.key === '3' && !e.ctrlKey && !e.metaKey) {\r\n        setViewMode('3D');\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [canUndo, canRedo, undo, redo, saveDraft, clearSelection, toggleGrid, toggleZones, setViewMode]);\r\n\r\n  // Handle successful activation\r\n  const handleActivationSuccess = useCallback(() => {\r\n    setShowSuccessBanner(true);\r\n    setTimeout(() => setShowSuccessBanner(false), 5000);\r\n    toast({\r\n      title: \"Layout Activated!\",\r\n      description: \"Your table layout is now live and ready for service.\",\r\n    });\r\n  }, []);\r\n\r\n  // Computed values\r\n  const hasErrors = validationErrors.length > 0;\r\n  const selectedTable = selectedTableIds.length === 1 ? tables.find(t => t.id === selectedTableIds[0]) : undefined;\r\n  const selectedTables = tables.filter(t => selectedTableIds.includes(t.id));\r\n  \r\n  const utilizationRate = totalCapacity > 0 ? Math.round((totalCapacity - availableTables) / totalCapacity * 100) : 0;\r\n  const occupiedTables = Object.values(tableStates).filter(status => status === 'SEATED').length;\r\n  const reservedTables = Object.values(tableStates).filter(status => status === 'RESERVED').length;\r\n  const dirtyTables = Object.values(tableStates).filter(status => status === 'DIRTY').length;\r\n\r\n  return (\r\n    <AppLayout pageTitle=\"3D Table Management\">\r\n      <div className=\"flex flex-col h-screen bg-gradient-to-br from-slate-50 to-blue-50\">\r\n        \r\n        {/* Success Banner */}\r\n        <AnimatePresence>\r\n          {showSuccessBanner && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: -50 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -50 }}\r\n              className=\"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-4 shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <CheckCircle2 className=\"h-6 w-6\" />\r\n                  <div>\r\n                    <h3 className=\"font-semibold\">Layout Activated Successfully!</h3>\r\n                    <p className=\"text-sm opacity-90\">\r\n                      Real-time table status tracking • QR code generation • Reservation management • Live analytics\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={() => setShowSuccessBanner(false)}\r\n                  className=\"text-white hover:bg-white/10\"\r\n                >\r\n                  ×\r\n                </Button>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n        \r\n        {/* Header Section with KPIs */}\r\n        <div className=\"bg-white border-b border-slate-200 px-6 py-4 shadow-sm\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-6\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Layout className=\"h-6 w-6 text-blue-600\" />\r\n                <h1 className=\"text-2xl font-bold text-slate-900\">3D Floor Plan Designer</h1>\r\n              </div>\r\n              \r\n              {/* KPI Cards */}\r\n              <div className=\"hidden lg:flex items-center space-x-4\">\r\n                <Card className=\"p-3\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Grid3X3 className=\"h-4 w-4 text-blue-600\" />\r\n                    <div>\r\n                      <div className=\"text-sm font-medium\">{totalTables}</div>\r\n                      <div className=\"text-xs text-slate-500\">Tables</div>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n                \r\n                <Card className=\"p-3\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Users className=\"h-4 w-4 text-green-600\" />\r\n                    <div>\r\n                      <div className=\"text-sm font-medium\">{totalCapacity}</div>\r\n                      <div className=\"text-xs text-slate-500\">Capacity</div>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n                \r\n                <Card className=\"p-3\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"flex flex-col\">\r\n                      <div className=\"text-xs text-slate-500\">Available</div>\r\n                      <div className=\"text-sm font-medium text-green-600\">{availableTables}</div>\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                      <div className=\"text-xs text-slate-500\">Occupied</div>\r\n                      <div className=\"text-sm font-medium text-red-600\">{occupiedTables}</div>\r\n                    </div>\r\n                    <div className=\"flex flex-col\">\r\n                      <div className=\"text-xs text-slate-500\">Reserved</div>\r\n                      <div className=\"text-sm font-medium text-amber-600\">{reservedTables}</div>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n                \r\n                <Card className=\"p-3 min-w-[120px]\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <TrendingUp className=\"h-4 w-4 text-purple-600\" />\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"text-sm font-medium\">{utilizationRate}%</div>\r\n                      <div className=\"text-xs text-slate-500\">Utilization</div>\r\n                      <ResponsiveContainer width=\"100%\" height={20}>\r\n                        <LineChart data={utilizationData}>\r\n                          <Line \r\n                            type=\"monotone\" \r\n                            dataKey=\"utilization\" \r\n                            stroke=\"#8b5cf6\" \r\n                            strokeWidth={2}\r\n                            dot={false}\r\n                          />\r\n                        </LineChart>\r\n                      </ResponsiveContainer>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center space-x-2\">\r\n                <Badge variant={isDraftMode ? \"secondary\" : \"default\"} className=\"text-xs\">\r\n                  {isDraftMode ? \"Draft Mode\" : \"Live Layout\"}\r\n                </Badge>\r\n                {hasErrors && (\r\n                  <Badge variant=\"destructive\" className=\"text-xs animate-pulse\">\r\n                    {validationErrors.length} Issues\r\n                  </Badge>\r\n                )}\r\n                {hasOverlaps && (\r\n                  <Badge variant=\"destructive\" className=\"text-xs\">\r\n                    Overlaps Detected\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Mode Switch & Actions */}\r\n            <div className=\"flex items-center space-x-3\">\r\n              {/* 2D/3D Mode Switch */}\r\n              <div className=\"flex items-center space-x-2 bg-slate-100 rounded-lg p-1\">\r\n                <Button\r\n                  variant={viewMode === '2D' ? 'default' : 'ghost'}\r\n                  size=\"sm\"\r\n                  onClick={() => setViewMode('2D')}\r\n                  className=\"text-xs px-3\"\r\n                >\r\n                  <Monitor className=\"h-3 w-3 mr-1\" />\r\n                  2D\r\n                </Button>\r\n                <Button\r\n                  variant={viewMode === '3D' ? 'default' : 'ghost'}\r\n                  size=\"sm\"\r\n                  onClick={() => setViewMode('3D')}\r\n                  className=\"text-xs px-3\"\r\n                >\r\n                  <Layers className=\"h-3 w-3 mr-1\" />\r\n                  3D\r\n                </Button>\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={undo}\r\n                  disabled={!canUndo}\r\n                  className=\"flex items-center space-x-1\"\r\n                >\r\n                  <History className=\"h-4 w-4\" />\r\n                  <span className=\"hidden sm:inline\">Undo</span>\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={redo}\r\n                  disabled={!canRedo}\r\n                  className=\"flex items-center space-x-1\"\r\n                >\r\n                  <RotateCcw className=\"h-4 w-4\" />\r\n                  <span className=\"hidden sm:inline\">Redo</span>\r\n                </Button>\r\n                \r\n                <Separator orientation=\"vertical\" className=\"h-6\" />\r\n                \r\n                <SaveDraftButton />\r\n                <ActivateLayoutButton onSuccess={handleActivationSuccess} />\r\n                \r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => setShowShortcuts(true)}\r\n                  className=\"flex items-center space-x-1\"\r\n                >\r\n                  <HelpCircle className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Validation Errors */}\r\n          <AnimatePresence>\r\n            {hasErrors && (\r\n              <motion.div\r\n                initial={{ opacity: 0, height: 0 }}\r\n                animate={{ opacity: 1, height: 'auto' }}\r\n                exit={{ opacity: 0, height: 0 }}\r\n              >\r\n                <Alert className=\"mt-4 border-red-200 bg-red-50\">\r\n                  <AlertTriangle className=\"h-4 w-4 text-red-600\" />\r\n                  <AlertDescription className=\"text-red-800\">\r\n                    <strong>Layout Issues:</strong> {validationErrors.join(', ')}\r\n                  </AlertDescription>\r\n                </Alert>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"flex-1 flex overflow-hidden\">\r\n          \r\n          {/* Left Sidebar */}\r\n          <motion.div \r\n            className=\"w-80 bg-white/80 backdrop-blur-sm border-r border-slate-200 flex flex-col\"\r\n            initial={{ x: -320 }}\r\n            animate={{ x: 0 }}\r\n            transition={{ type: \"spring\", damping: 25 }}\r\n          >\r\n            <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1 flex flex-col\">\r\n              <TabsList className=\"grid w-full grid-cols-4 m-2\">\r\n                <TabsTrigger value=\"designer\" className=\"text-xs\">\r\n                  <Settings className=\"h-4 w-4 mr-1\" />\r\n                  Designer\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"zones\" className=\"text-xs\">\r\n                  <Palette className=\"h-4 w-4 mr-1\" />\r\n                  Zones\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"tools\" className=\"text-xs\">\r\n                  <Merge className=\"h-4 w-4 mr-1\" />\r\n                  Tools\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"export\" className=\"text-xs\">\r\n                  <QrCode className=\"h-4 w-4 mr-1\" />\r\n                  Export\r\n                </TabsTrigger>\r\n              </TabsList>\r\n\r\n              <div className=\"flex-1 overflow-y-auto\">\r\n                <TabsContent value=\"designer\" className=\"p-4 space-y-4\">\r\n                  {/* View Controls */}\r\n                  <Card>\r\n                    <CardHeader className=\"pb-3\">\r\n                      <CardTitle className=\"text-sm font-medium flex items-center\">\r\n                        <Eye className=\"h-4 w-4 mr-2\" />\r\n                        View Controls\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-3\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <span className=\"text-sm\">Show Grid</span>\r\n                        <Switch checked={showGrid} onCheckedChange={toggleGrid} />\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <span className=\"text-sm\">Show Zones</span>\r\n                        <Switch checked={showZones} onCheckedChange={toggleZones} />\r\n                      </div>\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <span className=\"text-sm\">Snap to Grid</span>\r\n                        <Switch checked={snapToGrid} onCheckedChange={toggleSnapToGrid} />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <span className=\"text-sm\">Grid Size: {gridSize}px</span>\r\n                        <Slider\r\n                          value={[gridSize]}\r\n                          onValueChange={([value]) => setGridSize(value)}\r\n                          min={8}\r\n                          max={40}\r\n                          step={4}\r\n                          className=\"w-full\"\r\n                        />\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n\r\n                  {/* Add Tables */}\r\n                  <Card>\r\n                    <CardHeader className=\"pb-3\">\r\n                      <CardTitle className=\"text-sm font-medium flex items-center\">\r\n                        <Grid3X3 className=\"h-4 w-4 mr-2\" />\r\n                        Add Tables\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-2\">\r\n                      <BottomToolbar />\r\n                    </CardContent>\r\n                  </Card>\r\n\r\n                  {/* 3D Controls */}\r\n                  {viewMode === '3D' && (\r\n                    <Table3DControls />\r\n                  )}\r\n\r\n                  {/* Selected Table Properties */}\r\n                  {selectedTable && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, y: 20 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                    >\r\n                      <Card className=\"border-blue-200 bg-blue-50/50\">\r\n                        <CardHeader className=\"pb-3\">\r\n                          <CardTitle className=\"text-sm font-medium flex items-center\">\r\n                            <Settings className=\"h-4 w-4 mr-2\" />\r\n                            Table Properties\r\n                          </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-3\">\r\n                          <div>\r\n                            <label className=\"text-xs font-medium text-slate-600\">Table ID</label>\r\n                            <div className=\"text-sm font-mono bg-white px-2 py-1 rounded border\">\r\n                              {selectedTable.label}\r\n                            </div>\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"text-xs font-medium text-slate-600\">Capacity</label>\r\n                            <div className=\"text-sm\">{selectedTable.capacity} guests</div>\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"text-xs font-medium text-slate-600\">Shape</label>\r\n                            <div className=\"text-sm capitalize\">{selectedTable.shape}</div>\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"text-xs font-medium text-slate-600\">Status</label>\r\n                            <Badge \r\n                              variant={selectedTable.status === 'FREE' ? 'default' : 'secondary'}\r\n                              className=\"text-xs\"\r\n                            >\r\n                              {selectedTable.status}\r\n                            </Badge>\r\n                          </div>\r\n                          {selectedTable.zone && (\r\n                            <div>\r\n                              <label className=\"text-xs font-medium text-slate-600\">Zone</label>\r\n                              <div className=\"text-sm\">{selectedTable.zone}</div>\r\n                            </div>\r\n                          )}\r\n                          \r\n                          {/* Quick Actions */}\r\n                          <Separator />\r\n                          <div className=\"grid grid-cols-2 gap-2\">\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => {\r\n                                // Duplicate table\r\n                                useTableStore.getState().duplicateTable(selectedTable.id);\r\n                              }}\r\n                              className=\"text-xs\"\r\n                            >\r\n                              Duplicate\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => {\r\n                                // Center table\r\n                                const centerX = 600;\r\n                                const centerY = 400;\r\n                                useTableStore.getState().moveTable(selectedTable.id, centerX, centerY);\r\n                              }}\r\n                              className=\"text-xs\"\r\n                            >\r\n                              <AlignCenter className=\"h-3 w-3 mr-1\" />\r\n                              Center\r\n                            </Button>\r\n                          </div>\r\n                        </CardContent>\r\n                      </Card>\r\n                    </motion.div>\r\n                  )}\r\n\r\n                  {/* Multi-Selection Tools */}\r\n                  {selectedTables.length > 1 && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, y: 20 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                    >\r\n                      <Card className=\"border-purple-200 bg-purple-50/50\">\r\n                        <CardHeader className=\"pb-3\">\r\n                          <CardTitle className=\"text-sm font-medium flex items-center\">\r\n                            <Move className=\"h-4 w-4 mr-2\" />\r\n                            {selectedTables.length} Tables Selected\r\n                          </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-3\">\r\n                          <div className=\"grid grid-cols-2 gap-2\">\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => alignTables(selectedTableIds, 'left')}\r\n                              className=\"text-xs\"\r\n                            >\r\n                              Align Left\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => alignTables(selectedTableIds, 'right')}\r\n                              className=\"text-xs\"\r\n                            >\r\n                              Align Right\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => alignTables(selectedTableIds, 'top')}\r\n                              className=\"text-xs\"\r\n                            >\r\n                              Align Top\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => alignTables(selectedTableIds, 'bottom')}\r\n                              className=\"text-xs\"\r\n                            >\r\n                              Align Bottom\r\n                            </Button>\r\n                          </div>\r\n                          <Separator />\r\n                          <div className=\"grid grid-cols-1 gap-2\">\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => distributeTablesEvenly(selectedTableIds, 'horizontal')}\r\n                              className=\"text-xs\"\r\n                            >\r\n                              Distribute Horizontally\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => distributeTablesEvenly(selectedTableIds, 'vertical')}\r\n                              className=\"text-xs\"\r\n                            >\r\n                              Distribute Vertically\r\n                            </Button>\r\n                          </div>\r\n                        </CardContent>\r\n                      </Card>\r\n                    </motion.div>\r\n                  )}\r\n\r\n                  {/* Reservations */}\r\n                  <Card>\r\n                    <CardHeader className=\"pb-3\">\r\n                      <CardTitle className=\"text-sm font-medium flex items-center\">\r\n                        <Calendar className=\"h-4 w-4 mr-2\" />\r\n                        Reservations\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                      <ReservationLink />\r\n                    </CardContent>\r\n                  </Card>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"zones\" className=\"p-4\">\r\n                  <ZoneLegend />\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"tools\" className=\"p-4 space-y-4\">\r\n                  <Card>\r\n                    <CardHeader className=\"pb-3\">\r\n                      <CardTitle className=\"text-sm font-medium flex items-center\">\r\n                        <Merge className=\"h-4 w-4 mr-2\" />\r\n                        Merge Tables\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                      <TableMergeTool />\r\n                    </CardContent>\r\n                  </Card>\r\n\r\n                  <Card>\r\n                    <CardHeader className=\"pb-3\">\r\n                      <CardTitle className=\"text-sm font-medium flex items-center\">\r\n                        <Split className=\"h-4 w-4 mr-2\" />\r\n                        Split Tables\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                      <TableSplitTool />\r\n                    </CardContent>\r\n                  </Card>\r\n\r\n                  <Card>\r\n                    <CardHeader className=\"pb-3\">\r\n                      <CardTitle className=\"text-sm font-medium flex items-center\">\r\n                        <Camera className=\"h-4 w-4 mr-2\" />\r\n                        Import & Scan\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-2\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        className=\"w-full justify-start\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          // Implement import functionality\r\n                          toast({\r\n                            title: \"Import Layout\",\r\n                            description: \"Feature coming soon - import from glTF, USDZ, or JSON\",\r\n                          });\r\n                        }}\r\n                      >\r\n                        <Upload className=\"h-4 w-4 mr-2\" />\r\n                        Import Layout\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        className=\"w-full justify-start\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          // Implement camera scan\r\n                          toast({\r\n                            title: \"Camera Scan\",\r\n                            description: \"Feature coming soon - scan with device camera\",\r\n                          });\r\n                        }}\r\n                      >\r\n                        <Smartphone className=\"h-4 w-4 mr-2\" />\r\n                        Camera Scan\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        className=\"w-full justify-start\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          // Export current layout\r\n                          const layout = exportLayout();\r\n                          const blob = new Blob([JSON.stringify(layout, null, 2)], { type: 'application/json' });\r\n                          const url = URL.createObjectURL(blob);\r\n                          const a = document.createElement('a');\r\n                          a.href = url;\r\n                          a.download = `floor-layout-${new Date().toISOString().split('T')[0]}.json`;\r\n                          a.click();\r\n                          URL.revokeObjectURL(url);\r\n                          \r\n                          toast({\r\n                            title: \"Layout Exported\",\r\n                            description: \"Floor layout downloaded as JSON file\",\r\n                          });\r\n                        }}\r\n                      >\r\n                        <Download className=\"h-4 w-4 mr-2\" />\r\n                        Export JSON\r\n                      </Button>\r\n                    </CardContent>\r\n                  </Card>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"export\" className=\"p-4\">\r\n                  <QRCodeManager />\r\n                </TabsContent>\r\n              </div>\r\n            </Tabs>\r\n          </motion.div>\r\n\r\n          {/* Canvas Area */}\r\n          <div className=\"flex-1 relative\">\r\n            <FloorEditorCanvas />\r\n            \r\n            {/* Loading Overlay */}\r\n            <AnimatePresence>\r\n              {isLoading && (\r\n                <motion.div\r\n                  initial={{ opacity: 0 }}\r\n                  animate={{ opacity: 1 }}\r\n                  exit={{ opacity: 0 }}\r\n                  className=\"absolute inset-0 bg-white/50 backdrop-blur-sm flex items-center justify-center\"\r\n                >\r\n                  <div className=\"flex items-center space-x-3 bg-white px-6 py-4 rounded-lg shadow-lg\">\r\n                    <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\r\n                    <span className=\"text-sm text-slate-600\">Processing...</span>\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n\r\n            {/* Canvas Help */}\r\n            <motion.div \r\n              className=\"absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-lg p-4 shadow-lg text-xs text-slate-600 max-w-xs\"\r\n              initial={{ opacity: 0, x: 20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ delay: 0.5 }}\r\n            >\r\n              <div className=\"flex items-center space-x-1 mb-2\">\r\n                <Info className=\"h-3 w-3\" />\r\n                <span className=\"font-medium\">Quick Help</span>\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                {viewMode === '3D' ? (\r\n                  <>\r\n                    <div>• Left-click + drag: Rotate view</div>\r\n                    <div>• Right-click + drag: Pan around</div>\r\n                    <div>• Scroll wheel: Zoom in/out</div>\r\n                    <div>• Click tables: Select/deselect</div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div>• Click and drag to move tables</div>\r\n                    <div>• Use corner handles to resize</div>\r\n                    <div>• Arrow keys for precise positioning</div>\r\n                    <div>• Shift+Click for multi-select</div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </motion.div>\r\n\r\n            {/* Status Indicator */}\r\n            <div className=\"absolute bottom-4 right-4 flex items-center space-x-2\">\r\n              <AnimatePresence>\r\n                {!hasErrors ? (\r\n                  <motion.div\r\n                    initial={{ scale: 0.8, opacity: 0 }}\r\n                    animate={{ scale: 1, opacity: 1 }}\r\n                    exit={{ scale: 0.8, opacity: 0 }}\r\n                    className=\"flex items-center space-x-1 bg-green-50 text-green-700 px-3 py-1 rounded-full text-xs font-medium\"\r\n                  >\r\n                    <CheckCircle2 className=\"h-3 w-3\" />\r\n                    <span>Layout Valid</span>\r\n                  </motion.div>\r\n                ) : (\r\n                  <motion.div\r\n                    initial={{ scale: 0.8, opacity: 0 }}\r\n                    animate={{ scale: 1, opacity: 1 }}\r\n                    exit={{ scale: 0.8, opacity: 0 }}\r\n                    className=\"flex items-center space-x-1 bg-red-50 text-red-700 px-3 py-1 rounded-full text-xs font-medium\"\r\n                  >\r\n                    <AlertTriangle className=\"h-3 w-3\" />\r\n                    <span>{validationErrors.length} Issues</span>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n              \r\n              <div className=\"flex items-center space-x-1 bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs\">\r\n                <Clock className=\"h-3 w-3\" />\r\n                <span>Auto-save: ON</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center space-x-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs\">\r\n                <Zap className=\"h-3 w-3\" />\r\n                <span>{viewMode} Mode</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Shortcuts Modal */}\r\n        <AnimatePresence>\r\n          {showShortcuts && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center\"\r\n              onClick={() => setShowShortcuts(false)}\r\n            >\r\n              <motion.div\r\n                initial={{ scale: 0.9, opacity: 0 }}\r\n                animate={{ scale: 1, opacity: 1 }}\r\n                exit={{ scale: 0.9, opacity: 0 }}\r\n                className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl\"\r\n                onClick={(e) => e.stopPropagation()}\r\n              >\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-lg font-semibold flex items-center\">\r\n                    <Command className=\"h-5 w-5 mr-2\" />\r\n                    Keyboard Shortcuts\r\n                  </h3>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={() => setShowShortcuts(false)}\r\n                  >\r\n                    ×\r\n                  </Button>\r\n                </div>\r\n                \r\n                <div className=\"space-y-3 text-sm\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Undo</span>\r\n                    <kbd className=\"bg-slate-100 px-2 py-1 rounded text-xs\">Ctrl+Z</kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Redo</span>\r\n                    <kbd className=\"bg-slate-100 px-2 py-1 rounded text-xs\">Ctrl+Shift+Z</kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Save Draft</span>\r\n                    <kbd className=\"bg-slate-100 px-2 py-1 rounded text-xs\">Ctrl+S</kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Clear Selection</span>\r\n                    <kbd className=\"bg-slate-100 px-2 py-1 rounded text-xs\">Esc</kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Toggle Grid</span>\r\n                    <kbd className=\"bg-slate-100 px-2 py-1 rounded text-xs\">G</kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Toggle Zones</span>\r\n                    <kbd className=\"bg-slate-100 px-2 py-1 rounded text-xs\">Z</kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>2D View</span>\r\n                    <kbd className=\"bg-slate-100 px-2 py-1 rounded text-xs\">2</kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>3D View</span>\r\n                    <kbd className=\"bg-slate-100 px-2 py-1 rounded text-xs\">3</kbd>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Show Shortcuts</span>\r\n                    <kbd className=\"bg-slate-100 px-2 py-1 rounded text-xs\">?</kbd>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </AppLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}